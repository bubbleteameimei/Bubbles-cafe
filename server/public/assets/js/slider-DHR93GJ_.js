import{l as e,j as n,d as r,F as t,n as o,P as i,u as a,W as s,a4 as l}from"./ui-XowJfzQ7.js";import{r as d}from"./router-ft_y90OU.js";import{b4 as u,Y as c,Z as f}from"./index-CaZ-hcXF.js";var m=["PageUp","PageDown"],p=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],v={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},b="Slider",[h,w,g]=t(b),[S,x]=r(b,[g]),[y,D]=S(b),j=d.forwardRef((r,t)=>{const{name:i,min:a=0,max:s=100,step:l=1,orientation:c="horizontal",disabled:f=!1,minStepsBetweenThumbs:v=0,defaultValue:b=[a],value:w,onValueChange:g=()=>{},onValueCommit:S=()=>{},inverted:x=!1,form:D,...j}=r,R=d.useRef(new Set),_=d.useRef(0),M="horizontal"===c?E:P,[A=[],N]=e({prop:w,defaultProp:b,onChange:e=>{const n=[...R.current];n[_.current]?.focus(),g(e)}}),K=d.useRef(A);function k(e,n,{commit:r}={commit:!1}){const t=function(e){return(String(e).split(".")[1]||"").length}(l),o=function(e,n){const r=Math.pow(10,n);return Math.round(e*r)/r}(Math.round((e-a)/l)*l+a,t),i=u(o,[a,s]);N((e=[])=>{const t=function(e=[],n,r){const t=[...e];return t[r]=n,t.sort((e,n)=>e-n)}(e,i,n);if(function(e,n){if(n>0){const r=function(e){return e.slice(0,-1).map((n,r)=>e[r+1]-n)}(e);return Math.min(...r)>=n}return!0}(t,v*l)){_.current=t.indexOf(i);const n=String(t)!==String(e);return n&&r&&S(t),n?t:e}return e})}return n.jsx(y,{scope:r.__scopeSlider,name:i,disabled:f,min:a,max:s,valueIndexToChangeRef:_,thumbs:R.current,values:A,orientation:c,form:D,children:n.jsx(h.Provider,{scope:r.__scopeSlider,children:n.jsx(h.Slot,{scope:r.__scopeSlider,children:n.jsx(M,{"aria-disabled":f,"data-disabled":f?"":void 0,...j,ref:t,onPointerDown:o(j.onPointerDown,()=>{f||(K.current=A)}),min:a,max:s,inverted:x,onSlideStart:f?void 0:function(e){const n=function(e,n){if(1===e.length)return 0;const r=e.map(e=>Math.abs(e-n)),t=Math.min(...r);return r.indexOf(t)}(A,e);k(e,n)},onSlideMove:f?void 0:function(e){k(e,_.current)},onSlideEnd:f?void 0:function(){const e=K.current[_.current];A[_.current]!==e&&S(A)},onHomeKeyDown:()=>!f&&k(a,0,{commit:!0}),onEndKeyDown:()=>!f&&k(s,A.length-1,{commit:!0}),onStepKeyDown:({event:e,direction:n})=>{if(!f){const r=m.includes(e.key)||e.shiftKey&&p.includes(e.key)?10:1,t=_.current;k(A[t]+l*r*n,t,{commit:!0})}}})})})})});j.displayName=b;var[R,_]=S(b,{startEdge:"left",endEdge:"right",size:"width",direction:1}),E=d.forwardRef((e,r)=>{const{min:t,max:o,dir:i,inverted:l,onSlideStart:u,onSlideMove:c,onSlideEnd:f,onStepKeyDown:m,...p}=e,[b,h]=d.useState(null),w=a(r,e=>h(e)),g=d.useRef(void 0),S=s(i),x="ltr"===S,y=x&&!l||!x&&l;function D(e){const n=g.current||b.getBoundingClientRect(),r=z([0,n.width],y?[t,o]:[o,t]);return g.current=n,r(e-n.left)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:n.jsx(M,{dir:S,"data-orientation":"horizontal",...p,ref:w,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:e=>{const n=D(e.clientX);u?.(n)},onSlideMove:e=>{const n=D(e.clientX);c?.(n)},onSlideEnd:()=>{g.current=void 0,f?.()},onStepKeyDown:e=>{const n=v[y?"from-left":"from-right"].includes(e.key);m?.({event:e,direction:n?-1:1})}})})}),P=d.forwardRef((e,r)=>{const{min:t,max:o,inverted:i,onSlideStart:s,onSlideMove:l,onSlideEnd:u,onStepKeyDown:c,...f}=e,m=d.useRef(null),p=a(r,m),b=d.useRef(void 0),h=!i;function w(e){const n=b.current||m.current.getBoundingClientRect(),r=z([0,n.height],h?[o,t]:[t,o]);return b.current=n,r(e-n.top)}return n.jsx(R,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:n.jsx(M,{"data-orientation":"vertical",...f,ref:p,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:e=>{const n=w(e.clientY);s?.(n)},onSlideMove:e=>{const n=w(e.clientY);l?.(n)},onSlideEnd:()=>{b.current=void 0,u?.()},onStepKeyDown:e=>{const n=v[h?"from-bottom":"from-top"].includes(e.key);c?.({event:e,direction:n?-1:1})}})})}),M=d.forwardRef((e,r)=>{const{__scopeSlider:t,onSlideStart:a,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:d,onEndKeyDown:u,onStepKeyDown:c,...f}=e,v=D(b,t);return n.jsx(i.span,{...f,ref:r,onKeyDown:o(e.onKeyDown,e=>{"Home"===e.key?(d(e),e.preventDefault()):"End"===e.key?(u(e),e.preventDefault()):m.concat(p).includes(e.key)&&(c(e),e.preventDefault())}),onPointerDown:o(e.onPointerDown,e=>{const n=e.target;n.setPointerCapture(e.pointerId),e.preventDefault(),v.thumbs.has(n)?n.focus():a(e)}),onPointerMove:o(e.onPointerMove,e=>{e.target.hasPointerCapture(e.pointerId)&&s(e)}),onPointerUp:o(e.onPointerUp,e=>{const n=e.target;n.hasPointerCapture(e.pointerId)&&(n.releasePointerCapture(e.pointerId),l(e))})})}),A="SliderTrack",N=d.forwardRef((e,r)=>{const{__scopeSlider:t,...o}=e,a=D(A,t);return n.jsx(i.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...o,ref:r})});N.displayName=A;var K="SliderRange",k=d.forwardRef((e,r)=>{const{__scopeSlider:t,...o}=e,s=D(K,t),l=_(K,t),u=d.useRef(null),c=a(r,u),f=s.values.length,m=s.values.map(e=>T(e,s.min,s.max)),p=f>1?Math.min(...m):0,v=100-Math.max(...m);return n.jsx(i.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...o,ref:c,style:{...e.style,[l.startEdge]:p+"%",[l.endEdge]:v+"%"}})});k.displayName=K;var I="SliderThumb",C=d.forwardRef((e,r)=>{const t=w(e.__scopeSlider),[o,i]=d.useState(null),s=a(r,e=>i(e)),l=d.useMemo(()=>o?t().findIndex(e=>e.ref.current===o):-1,[t,o]);return n.jsx($,{...e,ref:s,index:l})}),$=d.forwardRef((e,r)=>{const{__scopeSlider:t,index:s,name:u,...c}=e,f=D(I,t),m=_(I,t),[p,v]=d.useState(null),b=a(r,e=>v(e)),w=!p||(f.form||!!p.closest("form")),g=l(p),S=f.values[s],x=void 0===S?0:T(S,f.min,f.max),y=function(e,n){return n>2?`Value ${e+1} of ${n}`:2===n?["Minimum","Maximum"][e]:void 0}(s,f.values.length),j=g?.[m.size],R=j?function(e,n,r){const t=e/2,o=z([0,50],[0,t]);return(t-o(n)*r)*r}(j,x,m.direction):0;return d.useEffect(()=>{if(p)return f.thumbs.add(p),()=>{f.thumbs.delete(p)}},[p,f.thumbs]),n.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[m.startEdge]:`calc(${x}% + ${R}px)`},children:[n.jsx(h.ItemSlot,{scope:e.__scopeSlider,children:n.jsx(i.span,{role:"slider","aria-label":e["aria-label"]||y,"aria-valuemin":f.min,"aria-valuenow":S,"aria-valuemax":f.max,"aria-orientation":f.orientation,"data-orientation":f.orientation,"data-disabled":f.disabled?"":void 0,tabIndex:f.disabled?void 0:0,...c,ref:b,style:void 0===S?{display:"none"}:e.style,onFocus:o(e.onFocus,()=>{f.valueIndexToChangeRef.current=s})})}),w&&n.jsx(H,{name:u??(f.name?f.name+(f.values.length>1?"[]":""):void 0),form:f.form,value:S},s)]})});C.displayName=I;var H=d.forwardRef(({__scopeSlider:e,value:r,...t},o)=>{const s=d.useRef(null),l=a(s,o),u=c(r);return d.useEffect(()=>{const e=s.current;if(!e)return;const n=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(n,"value").set;if(u!==r&&t){const n=new Event("input",{bubbles:!0});t.call(e,r),e.dispatchEvent(n)}},[u,r]),n.jsx(i.input,{style:{display:"none"},...t,ref:l,defaultValue:r})});function T(e,n,r){return u(100/(r-n)*(e-n),[0,100])}function z(e,n){return r=>{if(e[0]===e[1]||n[0]===n[1])return n[0];const t=(n[1]-n[0])/(e[1]-e[0]);return n[0]+t*(r-e[0])}}H.displayName="RadioBubbleInput";var L=j,U=N,V=k,B=C;const O=d.forwardRef(({className:e,"aria-label":r,...t},o)=>{const i=`slider-label-${d.useId()}`;return n.jsxs("div",{className:"flex flex-col w-full gap-1.5",children:[r&&n.jsx("label",{id:i,className:"sr-only",children:r}),n.jsxs(L,{ref:o,"aria-labelledby":r?i:void 0,className:f("relative flex w-full touch-none select-none items-center",e),...t,children:[n.jsx(U,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:n.jsx(V,{className:"absolute h-full bg-primary"})}),Array.isArray(t.value)&&t.value.map((e,t)=>n.jsx(B,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","aria-label":r?`${r} thumb ${t+1}`:`Thumb ${t+1}`},t)),!Array.isArray(t.value)&&n.jsx(B,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50","aria-label":r?`${r} thumb`:"Thumb"})]})]})});O.displayName="AccessibleSlider";export{O as S};
