import{bj as t,bk as r}from"./index-CaZ-hcXF.js";async function a(a,n,e){const c={method:a,headers:{"Content-Type":"application/json"},credentials:"include"};!e||"POST"!==a&&"PUT"!==a&&"PATCH"!==a||(c.body=JSON.stringify(e));const i=n;if("GET"!==a){await t();try{const a=await fetch(i,r(c));if(403===a.status)try{const n=await a.json();if(n&&n.error&&n.error.includes("CSRF"))return await t(),fetch(i,r(c))}catch(o){}return a}catch(s){throw s}}return fetch(i,c)}export{a};
