import{j as e,d as r,P as a,K as s,B as t}from"./ui-XowJfzQ7.js";import{s as n,r as o}from"./router-ft_y90OU.js";import{Z as l}from"./index-CaZ-hcXF.js";function i(){return()=>{}}var d="Avatar",[u,c]=r(d),[f,m]=u(d),p=o.forwardRef((r,s)=>{const{__scopeAvatar:t,...n}=r,[l,i]=o.useState("idle");return e.jsx(f,{scope:t,imageLoadingStatus:l,onImageLoadingStatusChange:i,children:e.jsx(a.span,{...n,ref:s})})});p.displayName=d;var g="AvatarImage",v=o.forwardRef((r,l)=>{const{__scopeAvatar:d,src:u,onLoadingStatusChange:c=()=>{},...f}=r,p=m(g,d),v=function(e,{referrerPolicy:r,crossOrigin:a}){const s=n.useSyncExternalStore(i,()=>!0,()=>!1),l=o.useRef(null),d=s?(l.current||(l.current=new window.Image),l.current):null,[u,c]=o.useState(()=>N(d,e));return t(()=>{c(N(d,e))},[d,e]),t(()=>{const e=e=>()=>{c(e)};if(!d)return;const s=e("loaded"),t=e("error");return d.addEventListener("load",s),d.addEventListener("error",t),r&&(d.referrerPolicy=r),"string"==typeof a&&(d.crossOrigin=a),()=>{d.removeEventListener("load",s),d.removeEventListener("error",t)}},[d,a,r]),u}(u,f),w=s(e=>{c(e),p.onImageLoadingStatusChange(e)});return t(()=>{"idle"!==v&&w(v)},[v,w]),"loaded"===v?e.jsx(a.img,{...f,ref:l,src:u}):null});v.displayName=g;var w="AvatarFallback",y=o.forwardRef((r,s)=>{const{__scopeAvatar:t,delayMs:n,...l}=r,i=m(w,t),[d,u]=o.useState(void 0===n);return o.useEffect(()=>{if(void 0!==n){const e=window.setTimeout(()=>u(!0),n);return()=>window.clearTimeout(e)}},[n]),d&&"loaded"!==i.imageLoadingStatus?e.jsx(a.span,{...l,ref:s}):null});function N(e,r){return e?r?(e.src!==r&&(e.src=r),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}y.displayName=w;var j=p,x=v,h=y;const S=o.forwardRef(({className:r,...a},s)=>e.jsx(j,{ref:s,className:l("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a}));S.displayName=j.displayName;const L=o.forwardRef(({className:r,...a},s)=>e.jsx(x,{ref:s,className:l("aspect-square h-full w-full",r),...a}));L.displayName=x.displayName;const A=o.forwardRef(({className:r,...a},s)=>e.jsx(h,{ref:s,className:l("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a}));A.displayName=h.displayName;export{S as A,L as a,A as b};
