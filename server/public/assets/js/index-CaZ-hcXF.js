const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/js/profile-L9OlwyPt.js","assets/js/ui-XowJfzQ7.js","assets/js/router-ft_y90OU.js","assets/js/vendor-BbHwBAXo.js","assets/js/avatar-BbyEipG6.js","assets/js/charts-DEf8bB7g.js","assets/js/utils-SDRWPbZe.js","assets/js/animations-yM4Nun4l.js","assets/js/forms-BLyiBPJV.js","assets/js/bookmarks-BpntC1fI.js","assets/js/tag-DHYVnxD1.js","assets/js/SearchResults-Cqqjcgbn.js","assets/js/filter-CwI5yzYg.js","assets/js/notifications-BMdmcbRZ.js","assets/js/chevron-left-8pX1j5id.js","assets/js/recommendations-D6r6EL73.js","assets/js/profile-mxKumMUx.js","assets/js/checkbox-CZs5qr2K.js","assets/js/SettingsLayout-BaQsAq__.js","assets/js/cookie-BAtp2yjH.js","assets/js/upload-DeAa565m.js","assets/js/connected-accounts-3mvmC21Q.js","assets/js/fonts-DOSM0odZ.js","assets/js/slider-DHR93GJ_.js","assets/js/accessibility-CSXEZKZp.js","assets/js/SettingsSection-XroqORmQ.js","assets/js/SettingsFormRow-DbRVFsXw.js","assets/js/notifications-BpLSkq4L.js","assets/js/privacy-D3sl46ew.js","assets/js/progress-CHSBJggg.js","assets/js/cookie-management-COFNQm30.js","assets/js/table-CIMJ6G5B.js","assets/js/arrow-left-DRY7_p58.js","assets/js/external-link-Ca9vM-vs.js","assets/js/quick-settings-CV3SZrqh.js","assets/js/use-theme-BamOwM3u.js","assets/js/preview-hhk3F58g.js","assets/js/tablet-BIKd0Ro9.js","assets/js/index-CqerNYp2.js","assets/js/chart-no-axes-column-increasing-BTCwDtP-.js","assets/js/analytics-CIdVGfeH.js","assets/js/api-CyihTzeF.js","assets/js/activity-timeline-QGB55YTh.js","assets/js/user-plus-Bwzf3kyX.js","assets/js/activity-DRdt7PF2.js","assets/js/analytics-dashboard-pe2IvzbZ.js","assets/js/layout-dashboard-PKafkZmC.js","assets/js/users-CpINL8IO.js","assets/js/ellipsis-vertical-18IjHuS2.js","assets/js/settings-CZrBTqu_.js","assets/js/posts-BUj2ZDt9.js","assets/js/manage-posts-CpSVCOO_.js","assets/js/pencil-RjeK00tF.js","assets/js/ellipsis-D5TV-uL7.js","assets/js/feedback-CHMiYaJi.js","assets/js/FeedbackAdmin-v4SfXuVn.js","assets/js/FeedbackDetails-CjKIrWJ5.js","assets/js/globe-DlAfDjMl.js","assets/js/smartphone-BdcLUC2s.js","assets/js/feedback-review-CojWPjfr.js","assets/js/chart-lnxEZq93.js","assets/js/bug-reports-Bv7ObcpW.js","assets/js/content-moderation-b7GB7Wx-.js","assets/js/content-D_3oWE7C.js","assets/js/square-pen-CNm1iWHN.js","assets/js/dashboard-Ih8YXF-q.js","assets/js/chart-column-increasing-qdZvNszh.js","assets/js/site-statistics-YM5HemKe.js","assets/js/WordPressSyncPage-RiYXeiBd.js","assets/js/content-management-CTlblcSX.js","assets/js/theme-categories-lLtkwf9j.js","assets/js/themes-DHFh-2SU.js","assets/js/copy-BOuW94H4.js","assets/js/reset-password-CzV81Vw1.js","assets/js/auth-success-DRuZj5t7.js","assets/js/report-bug-DYMIAr0Y.js","assets/js/privacy-Y3R6qjKf.js","assets/js/EdenHollow404-ANJhEBVo.js","assets/js/403-KZStRKa4.js","assets/js/SimplifiedErrorPage-G1OuoH_Q.js","assets/SimplifiedErrorPage-ihxfCYv0.css","assets/js/404-DNxbVekr.js","assets/js/429-DFSWt1yW.js","assets/js/500-Dv0by_lF.js","assets/js/503-5aUnQaaa.js","assets/js/504-CLIISTwc.js","assets/js/copyright-BTcf-GBd.js","assets/js/terms-J_j4oQNh.js","assets/js/cookie-policy-g1l-_Zrh.js","assets/js/community-DOkEilz4.js","assets/community-C_U3zWe0.css","assets/js/submit-story-CcpU-8VN.js","assets/js/simple-post-editor-DjhJ1tE_.js","assets/js/edit-story-jCJ283Us.js","assets/js/feedback-DH4Z9xGZ.js","assets/js/feedback-dashboard-DZUUXMjE.js","assets/js/guidelines-B8jv24pW.js"])))=>i.map(i=>d[i]);
import{j as e,R as t,S as r,P as s,O as a,a as n,C as i,T as o,D as l,b as c,c as d,d as u,e as h,f as m,g as p,h as f,i as g,u as y,k as x,l as v,m as b,A as w,n as j,o as k,p as N,q as S,r as _,s as E,I as C,t as I,v as T,w as R,L as A,x as P,y as O,z as M,G as D,B as L,E as z,F,H as U,J as $,K as V,M as H,N as B,Q as q,U as W,V as K,W as Z,X as G,Y as J,Z as Y,_ as Q,$ as X,a0 as ee}from"./ui-XowJfzQ7.js";import{a as te}from"./vendor-BbHwBAXo.js";import{r as re,u as se,a as ae,L as ne,c as ie,d as oe,S as le}from"./router-ft_y90OU.js";import{c as ce}from"./charts-DEf8bB7g.js";import{t as de,c as ue,f as he,a as me,s as pe,b as fe}from"./utils-SDRWPbZe.js";import{m as ge,A as ye}from"./animations-yM4Nun4l.js";import{o as xe,s as ve,a as be,u as we,F as je,C as ke,b as Ne}from"./forms-BLyiBPJV.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var Se,_e={};var Ee=function(){if(Se)return _e;Se=1;var e=te();return _e.createRoot=e.createRoot,_e.hydrateRoot=e.hydrateRoot,_e}();const Ce={},Ie=function(e,t,r){let s=Promise.resolve();if(t&&t.length>0){let e=function(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))};document.getElementsByTagName("link");const r=document.querySelector("meta[property=csp-nonce]"),a=r?.nonce||r?.getAttribute("nonce");s=e(t.map(e=>{if((e=function(e){return"/"+e}(e))in Ce)return;Ce[e]=!0;const t=e.endsWith(".css"),r=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${r}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":"modulepreload",t||(s.as="script"),s.crossOrigin="",s.href=e,a&&s.setAttribute("nonce",a),document.head.appendChild(s),t?new Promise((t,r)=>{s.addEventListener("load",t),s.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${e}`)))}):void 0}))}function a(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return s.then(t=>{for(const e of t||[])"rejected"===e.status&&a(e.reason);return e().catch(a)})};var Te=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Re="undefined"==typeof window||"Deno"in globalThis;function Ae(){}function Pe(e){return"number"==typeof e&&e>=0&&e!==1/0}function Oe(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Me(e,t){return"function"==typeof e?e(t):e}function De(e,t){return"function"==typeof e?e(t):e}function Le(e,t){const{type:r="all",exact:s,fetchStatus:a,predicate:n,queryKey:i,stale:o}=e;if(i)if(s){if(t.queryHash!==Fe(i,t.options))return!1}else if(!$e(t.queryKey,i))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e)return!1;if("inactive"===r&&e)return!1}return("boolean"!=typeof o||t.isStale()===o)&&((!a||a===t.state.fetchStatus)&&!(n&&!n(t)))}function ze(e,t){const{exact:r,status:s,predicate:a,mutationKey:n}=e;if(n){if(!t.options.mutationKey)return!1;if(r){if(Ue(t.options.mutationKey)!==Ue(n))return!1}else if(!$e(t.options.mutationKey,n))return!1}return(!s||t.state.status===s)&&!(a&&!a(t))}function Fe(e,t){return(t?.queryKeyHashFn||Ue)(e)}function Ue(e){return JSON.stringify(e,(e,t)=>qe(t)?Object.keys(t).sort().reduce((e,r)=>(e[r]=t[r],e),{}):t)}function $e(e,t){return e===t||typeof e==typeof t&&(!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&Object.keys(t).every(r=>$e(e[r],t[r])))}function Ve(e,t){if(e===t)return e;const r=Be(e)&&Be(t);if(r||qe(e)&&qe(t)){const s=r?e:Object.keys(e),a=s.length,n=r?t:Object.keys(t),i=n.length,o=r?[]:{},l=new Set(s);let c=0;for(let d=0;d<i;d++){const s=r?d:n[d];(!r&&l.has(s)||r)&&void 0===e[s]&&void 0===t[s]?(o[s]=void 0,c++):(o[s]=Ve(e[s],t[s]),o[s]===e[s]&&void 0!==e[s]&&c++)}return a===i&&c===a?e:o}return t}function He(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Be(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function qe(e){if(!We(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!!We(r)&&(!!r.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function We(e){return"[object Object]"===Object.prototype.toString.call(e)}function Ke(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?Ve(e,t):t}function Ze(e,t,r=0){const s=[...e,t];return r&&s.length>r?s.slice(1):s}function Ge(e,t,r=0){const s=[t,...e];return r&&s.length>r?s.slice(0,-1):s}var Je=Symbol();function Ye(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==Je?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}function Qe(e,t){return"function"==typeof e?e(...t):!!e}var Xe=new class extends Te{#e;#t;#r;constructor(){super(),this.#r=e=>{if(!Re&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#e!==e&&(this.#e=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"==typeof this.#e?this.#e:"hidden"!==globalThis.document?.visibilityState}},et=new class extends Te{#s=!0;#t;#r;constructor(){super(),this.#r=e=>{if(!Re&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#t||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#t?.(),this.#t=void 0)}setEventListener(e){this.#r=e,this.#t?.(),this.#t=e(this.setOnline.bind(this))}setOnline(e){this.#s!==e&&(this.#s=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#s}};function tt(){let e,t;const r=new Promise((r,s)=>{e=r,t=s});function s(e){Object.assign(r,e),delete r.resolve,delete r.reject}return r.status="pending",r.catch(()=>{}),r.resolve=t=>{s({status:"fulfilled",value:t}),e(t)},r.reject=e=>{s({status:"rejected",reason:e}),t(e)},r}function rt(e){return Math.min(1e3*2**e,3e4)}function st(e){return"online"!==(e??"online")||et.isOnline()}var at=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function nt(e){return e instanceof at}function it(e){let t,r=!1,s=0,a=!1;const n=tt(),i=()=>Xe.isFocused()&&("always"===e.networkMode||et.isOnline())&&e.canRun(),o=()=>st(e.networkMode)&&e.canRun(),l=r=>{a||(a=!0,e.onSuccess?.(r),t?.(),n.resolve(r))},c=r=>{a||(a=!0,e.onError?.(r),t?.(),n.reject(r))},d=()=>new Promise(r=>{t=e=>{(a||i())&&r(e)},e.onPause?.()}).then(()=>{t=void 0,a||e.onContinue?.()}),u=()=>{if(a)return;let t;const n=0===s?e.initialPromise:void 0;try{t=n??e.fn()}catch(o){t=Promise.reject(o)}Promise.resolve(t).then(l).catch(t=>{if(a)return;const n=e.retry??(Re?0:3),o=e.retryDelay??rt,l="function"==typeof o?o(s,t):o,h=!0===n||"number"==typeof n&&s<n||"function"==typeof n&&n(s,t);var m;!r&&h?(s++,e.onFail?.(s,t),(m=l,new Promise(e=>{setTimeout(e,m)})).then(()=>i()?void 0:d()).then(()=>{r?c(t):u()})):c(t)})};return{promise:n,cancel:t=>{a||(c(new at(t)),e.abort?.())},continue:()=>(t?.(),n),cancelRetry:()=>{r=!0},continueRetry:()=>{r=!1},canStart:o,start:()=>(o()?u():d().then(u),n)}}var ot=e=>setTimeout(e,0);var lt=function(){let e=[],t=0,r=e=>{e()},s=e=>{e()},a=ot;const n=s=>{t?e.push(s):a(()=>{r(s)})};return{batch:n=>{let i;t++;try{i=n()}finally{t--,t||(()=>{const t=e;e=[],t.length&&a(()=>{s(()=>{t.forEach(e=>{r(e)})})})})()}return i},batchCalls:e=>(...t)=>{n(()=>{e(...t)})},schedule:n,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{s=e},setScheduler:e=>{a=e}}}(),ct=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Pe(this.gcTime)&&(this.#a=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Re?1/0:3e5))}clearGcTimeout(){this.#a&&(clearTimeout(this.#a),this.#a=void 0)}},dt=class extends ct{#n;#i;#o;#l;#c;#d;#u;constructor(e){super(),this.#u=!1,this.#d=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#l=e.client,this.#o=this.#l.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#n=function(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,s=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}(this.options),this.state=e.state??this.#n,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#c?.promise}setOptions(e){this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#o.remove(this)}setData(e,t){const r=Ke(this.state.data,e,this.options);return this.#h({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#h({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#c?.promise;return this.#c?.cancel(e),t?t.then(Ae).catch(Ae):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#n)}isActive(){return this.observers.some(e=>!1!==De(e.options.enabled,this))}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Je||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===Me(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!Oe(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#c?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#o.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#c&&(this.#u?this.#c.cancel({revert:!0}):this.#c.cancelRetry()),this.scheduleGc()),this.#o.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#h({type:"invalidate"})}fetch(e,t){if("idle"!==this.state.fetchStatus)if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#c)return this.#c.continueRetry(),this.#c.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const r=new AbortController,s=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#u=!0,r.signal)})},a=()=>{const e=Ye(this.options,t),r=(()=>{const e={client:this.#l,queryKey:this.queryKey,meta:this.meta};return s(e),e})();return this.#u=!1,this.options.persister?this.options.persister(e,r,this):e(r)},n=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#l,state:this.state,fetchFn:a};return s(e),e})();this.options.behavior?.onFetch(n,this),this.#i=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===n.fetchOptions?.meta||this.#h({type:"fetch",meta:n.fetchOptions?.meta});const i=e=>{nt(e)&&e.silent||this.#h({type:"error",error:e}),nt(e)||(this.#o.config.onError?.(e,this),this.#o.config.onSettled?.(this.state.data,e,this)),this.scheduleGc()};return this.#c=it({initialPromise:t?.initialPromise,fn:n.fetchFn,abort:r.abort.bind(r),onSuccess:e=>{if(void 0!==e){try{this.setData(e)}catch(t){return void i(t)}this.#o.config.onSuccess?.(e,this),this.#o.config.onSettled?.(e,this.state.error,this),this.scheduleGc()}else i(new Error(`${this.queryHash} data is undefined`))},onError:i,onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:()=>{this.#h({type:"continue"})},retry:n.options.retry,retryDelay:n.options.retryDelay,networkMode:n.options.networkMode,canRun:()=>!0}),this.#c.start()}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...ut(t.data,this.options),fetchMeta:e.meta??null};case"success":return this.#i=void 0,{...t,data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const r=e.error;return nt(r)&&r.revert&&this.#i?{...this.#i,fetchStatus:"idle"}:{...t,error:r,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:r,fetchStatus:"idle",status:"error"};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}})(this.state),lt.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#o.notify({query:this,type:"updated",action:e})})}};function ut(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:st(t.networkMode)?"fetching":"paused",...void 0===e&&{error:null,status:"pending"}}}var ht=class extends Te{constructor(e={}){super(),this.config=e,this.#m=new Map}#m;build(e,t,r){const s=t.queryKey,a=t.queryHash??Fe(s,t);let n=this.get(a);return n||(n=new dt({client:e,queryKey:s,queryHash:a,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(n)),n}add(e){this.#m.has(e.queryHash)||(this.#m.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#m.get(e.queryHash);t&&(e.destroy(),t===e&&this.#m.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){lt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#m.get(e)}getAll(){return[...this.#m.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>Le(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>Le(e,t)):t}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){lt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){lt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},mt=class extends ct{#p;#f;#c;constructor(e){super(),this.mutationId=e.mutationId,this.#f=e.mutationCache,this.#p=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#p.includes(e)||(this.#p.push(e),this.clearGcTimeout(),this.#f.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#p=this.#p.filter(t=>t!==e),this.scheduleGc(),this.#f.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#p.length||("pending"===this.state.status?this.scheduleGc():this.#f.remove(this))}continue(){return this.#c?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#h({type:"continue"})};this.#c=it({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#h({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#h({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#f.canRun(this)});const r="pending"===this.state.status,s=!this.#c.canStart();try{if(r)t();else{this.#h({type:"pending",variables:e,isPaused:s}),await(this.#f.config.onMutate?.(e,this));const t=await(this.options.onMutate?.(e));t!==this.state.context&&this.#h({type:"pending",context:t,variables:e,isPaused:s})}const a=await this.#c.start();return await(this.#f.config.onSuccess?.(a,e,this.state.context,this)),await(this.options.onSuccess?.(a,e,this.state.context)),await(this.#f.config.onSettled?.(a,null,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(a,null,e,this.state.context)),this.#h({type:"success",data:a}),a}catch(a){try{throw await(this.#f.config.onError?.(a,e,this.state.context,this)),await(this.options.onError?.(a,e,this.state.context)),await(this.#f.config.onSettled?.(void 0,a,this.state.variables,this.state.context,this)),await(this.options.onSettled?.(void 0,a,e,this.state.context)),a}finally{this.#h({type:"error",error:a})}}finally{this.#f.runNext(this)}}#h(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),lt.batch(()=>{this.#p.forEach(t=>{t.onMutationUpdate(e)}),this.#f.notify({mutation:this,type:"updated",action:e})})}};var pt=class extends Te{constructor(e={}){super(),this.config=e,this.#g=new Set,this.#y=new Map,this.#x=0}#g;#y;#x;build(e,t,r){const s=new mt({mutationCache:this,mutationId:++this.#x,options:e.defaultMutationOptions(t),state:r});return this.add(s),s}add(e){this.#g.add(e);const t=ft(e);if("string"==typeof t){const r=this.#y.get(t);r?r.push(e):this.#y.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#g.delete(e)){const t=ft(e);if("string"==typeof t){const r=this.#y.get(t);if(r)if(r.length>1){const t=r.indexOf(e);-1!==t&&r.splice(t,1)}else r[0]===e&&this.#y.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ft(e);if("string"==typeof t){const r=this.#y.get(t),s=r?.find(e=>"pending"===e.state.status);return!s||s===e}return!0}runNext(e){const t=ft(e);if("string"==typeof t){const r=this.#y.get(t)?.find(t=>t!==e&&t.state.isPaused);return r?.continue()??Promise.resolve()}return Promise.resolve()}clear(){lt.batch(()=>{this.#g.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#g.clear(),this.#y.clear()})}getAll(){return Array.from(this.#g)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>ze(t,e))}findAll(e={}){return this.getAll().filter(t=>ze(e,t))}notify(e){lt.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return lt.batch(()=>Promise.all(e.map(e=>e.continue().catch(Ae))))}};function ft(e){return e.options.scope?.id}function gt(e){return{onFetch:(t,r)=>{const s=t.options,a=t.fetchOptions?.meta?.fetchMore?.direction,n=t.state.data?.pages||[],i=t.state.data?.pageParams||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let r=!1;const c=Ye(t.options,t.fetchOptions),d=async(e,s,a)=>{if(r)return Promise.reject();if(null==s&&e.pages.length)return Promise.resolve(e);const n=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:s,direction:a?"backward":"forward",meta:t.options.meta};return(e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?r=!0:t.signal.addEventListener("abort",()=>{r=!0}),t.signal)})})(e),e})(),i=await c(n),{maxPages:o}=t.options,l=a?Ge:Ze;return{pages:l(e.pages,i,o),pageParams:l(e.pageParams,s,o)}};if(a&&n.length){const e="backward"===a,t={pages:n,pageParams:i},r=(e?xt:yt)(s,t);o=await d(t,r,e)}else{const t=e??n.length;do{const e=0===l?i[0]??s.initialPageParam:yt(s,o);if(l>0&&null==e)break;o=await d(o,e),l++}while(l<t)}return o};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=c}}}function yt(e,{pages:t,pageParams:r}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,r[s],r):void 0}function xt(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function vt(e,t){return!!t&&null!=yt(e,t)}function bt(e,t){return!(!t||!e.getPreviousPageParam)&&null!=xt(e,t)}var wt=class extends Te{constructor(e,t){super(),this.options=t,this.#l=e,this.#v=null,this.#b=tt(),this.options.experimental_prefetchInRender||this.#b.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#l;#w=void 0;#j=void 0;#k=void 0;#N;#S;#b;#v;#_;#E;#C;#I;#T;#R;#A=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#w.addObserver(this),jt(this.#w,this.options)?this.#P():this.updateResult(),this.#O())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return kt(this.#w,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return kt(this.#w,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#M(),this.#D(),this.#w.removeObserver(this)}setOptions(e){const t=this.options,r=this.#w;if(this.options=this.#l.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof De(this.options.enabled,this.#w))throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#L(),this.#w.setOptions(this.options),t._defaulted&&!He(this.options,t)&&this.#l.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#w,observer:this});const s=this.hasListeners();s&&Nt(this.#w,r,this.options,t)&&this.#P(),this.updateResult(),!s||this.#w===r&&De(this.options.enabled,this.#w)===De(t.enabled,this.#w)&&Me(this.options.staleTime,this.#w)===Me(t.staleTime,this.#w)||this.#z();const a=this.#F();!s||this.#w===r&&De(this.options.enabled,this.#w)===De(t.enabled,this.#w)&&a===this.#R||this.#U(a)}getOptimisticResult(e){const t=this.#l.getQueryCache().build(this.#l,e),r=this.createResult(t,e);return function(e,t){if(!He(e.getCurrentResult(),t))return!0;return!1}(this,r)&&(this.#k=r,this.#S=this.options,this.#N=this.#w.state),r}getCurrentResult(){return this.#k}trackResult(e,t){return new Proxy(e,{get:(e,r)=>(this.trackProp(r),t?.(r),Reflect.get(e,r))})}trackProp(e){this.#A.add(e)}getCurrentQuery(){return this.#w}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#l.defaultQueryOptions(e),r=this.#l.getQueryCache().build(this.#l,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#P({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#k))}#P(e){this.#L();let t=this.#w.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Ae)),t}#z(){this.#M();const e=Me(this.options.staleTime,this.#w);if(Re||this.#k.isStale||!Pe(e))return;const t=Oe(this.#k.dataUpdatedAt,e)+1;this.#I=setTimeout(()=>{this.#k.isStale||this.updateResult()},t)}#F(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#w):this.options.refetchInterval)??!1}#U(e){this.#D(),this.#R=e,!Re&&!1!==De(this.options.enabled,this.#w)&&Pe(this.#R)&&0!==this.#R&&(this.#T=setInterval(()=>{(this.options.refetchIntervalInBackground||Xe.isFocused())&&this.#P()},this.#R))}#O(){this.#z(),this.#U(this.#F())}#M(){this.#I&&(clearTimeout(this.#I),this.#I=void 0)}#D(){this.#T&&(clearInterval(this.#T),this.#T=void 0)}createResult(e,t){const r=this.#w,s=this.options,a=this.#k,n=this.#N,i=this.#S,o=e!==r?e.state:this.#j,{state:l}=e;let c,d={...l},u=!1;if(t._optimisticResults){const a=this.hasListeners(),n=!a&&jt(e,t),i=a&&Nt(e,r,t,s);(n||i)&&(d={...d,...ut(l.data,e.options)}),"isRestoring"===t._optimisticResults&&(d.fetchStatus="idle")}let{error:h,errorUpdatedAt:m,status:p}=d;c=d.data;let f=!1;if(void 0!==t.placeholderData&&void 0===c&&"pending"===p){let e;a?.isPlaceholderData&&t.placeholderData===i?.placeholderData?(e=a.data,f=!0):e="function"==typeof t.placeholderData?t.placeholderData(this.#C?.state.data,this.#C):t.placeholderData,void 0!==e&&(p="success",c=Ke(a?.data,e,t),u=!0)}if(t.select&&void 0!==c&&!f)if(a&&c===n?.data&&t.select===this.#_)c=this.#E;else try{this.#_=t.select,c=t.select(c),c=Ke(a?.data,c,t),this.#E=c,this.#v=null}catch(j){this.#v=j}this.#v&&(h=this.#v,c=this.#E,m=Date.now(),p="error");const g="fetching"===d.fetchStatus,y="pending"===p,x="error"===p,v=y&&g,b=void 0!==c,w={status:p,fetchStatus:d.fetchStatus,isPending:y,isSuccess:"success"===p,isError:x,isInitialLoading:v,isLoading:v,data:c,dataUpdatedAt:d.dataUpdatedAt,error:h,errorUpdatedAt:m,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>o.dataUpdateCount||d.errorUpdateCount>o.errorUpdateCount,isFetching:g,isRefetching:g&&!y,isLoadingError:x&&!b,isPaused:"paused"===d.fetchStatus,isPlaceholderData:u,isRefetchError:x&&b,isStale:St(e,t),refetch:this.refetch,promise:this.#b,isEnabled:!1!==De(t.enabled,e)};if(this.options.experimental_prefetchInRender){const t=e=>{"error"===w.status?e.reject(w.error):void 0!==w.data&&e.resolve(w.data)},s=()=>{const e=this.#b=w.promise=tt();t(e)},a=this.#b;switch(a.status){case"pending":e.queryHash===r.queryHash&&t(a);break;case"fulfilled":"error"!==w.status&&w.data===a.value||s();break;case"rejected":"error"===w.status&&w.error===a.reason||s()}}return w}updateResult(){const e=this.#k,t=this.createResult(this.#w,this.options);if(this.#N=this.#w.state,this.#S=this.options,void 0!==this.#N.data&&(this.#C=this.#w),He(t,e))return;this.#k=t;this.#$({listeners:(()=>{if(!e)return!0;const{notifyOnChangeProps:t}=this.options,r="function"==typeof t?t():t;if("all"===r||!r&&!this.#A.size)return!0;const s=new Set(r??this.#A);return this.options.throwOnError&&s.add("error"),Object.keys(this.#k).some(t=>{const r=t;return this.#k[r]!==e[r]&&s.has(r)})})()})}#L(){const e=this.#l.getQueryCache().build(this.#l,this.options);if(e===this.#w)return;const t=this.#w;this.#w=e,this.#j=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#O()}#$(e){lt.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#k)}),this.#l.getQueryCache().notify({query:this.#w,type:"observerResultsUpdated"})})}};function jt(e,t){return function(e,t){return!1!==De(t.enabled,e)&&void 0===e.state.data&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||void 0!==e.state.data&&kt(e,t,t.refetchOnMount)}function kt(e,t,r){if(!1!==De(t.enabled,e)&&"static"!==Me(t.staleTime,e)){const s="function"==typeof r?r(e):r;return"always"===s||!1!==s&&St(e,t)}return!1}function Nt(e,t,r,s){return(e!==t||!1===De(s.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&St(e,r)}function St(e,t){return!1!==De(t.enabled,e)&&e.isStaleByTime(Me(t.staleTime,e))}var _t=class extends wt{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:gt()})}getOptimisticResult(e){return e.behavior=gt(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,s=super.createResult(e,t),{isFetching:a,isRefetching:n,isError:i,isRefetchError:o}=s,l=r.fetchMeta?.fetchMore?.direction,c=i&&"forward"===l,d=a&&"forward"===l,u=i&&"backward"===l,h=a&&"backward"===l;return{...s,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:vt(t,r.data),hasPreviousPage:bt(t,r.data),isFetchNextPageError:c,isFetchingNextPage:d,isFetchPreviousPageError:u,isFetchingPreviousPage:h,isRefetchError:o&&!c&&!u,isRefetching:n&&!d&&!h}}},Et=class extends Te{#l;#k=void 0;#V;#H;constructor(e,t){super(),this.#l=e,this.setOptions(t),this.bindMethods(),this.#B()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const t=this.options;this.options=this.#l.defaultMutationOptions(e),He(this.options,t)||this.#l.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#V,observer:this}),t?.mutationKey&&this.options.mutationKey&&Ue(t.mutationKey)!==Ue(this.options.mutationKey)?this.reset():"pending"===this.#V?.state.status&&this.#V.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#V?.removeObserver(this)}onMutationUpdate(e){this.#B(),this.#$(e)}getCurrentResult(){return this.#k}reset(){this.#V?.removeObserver(this),this.#V=void 0,this.#B(),this.#$()}mutate(e,t){return this.#H=t,this.#V?.removeObserver(this),this.#V=this.#l.getMutationCache().build(this.#l,this.options),this.#V.addObserver(this),this.#V.execute(e)}#B(){const e=this.#V?.state??{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0};this.#k={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#$(e){lt.batch(()=>{if(this.#H&&this.hasListeners()){const t=this.#k.variables,r=this.#k.context;"success"===e?.type?(this.#H.onSuccess?.(e.data,t,r),this.#H.onSettled?.(e.data,null,t,r)):"error"===e?.type&&(this.#H.onError?.(e.error,t,r),this.#H.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#k)})})}},Ct=re.createContext(void 0),It=e=>{const t=re.useContext(Ct);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Tt=({client:t,children:r})=>(re.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),e.jsx(Ct.Provider,{value:t,children:r})),Rt=re.createContext(!1);Rt.Provider;var At=re.createContext(function(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}()),Pt=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function Ot(e,t,r){const s=re.useContext(Rt),a=re.useContext(At),n=It(),i=n.defaultQueryOptions(e);n.getDefaultOptions().queries?._experimental_beforeQuery?.(i),i._optimisticResults=s?"isRestoring":"optimistic",(e=>{if(e.suspense){const t=e=>"static"===e?e:Math.max(e??1e3,1e3),r=e.staleTime;e.staleTime="function"==typeof r?(...e)=>t(r(...e)):t(r),"number"==typeof e.gcTime&&(e.gcTime=Math.max(e.gcTime,1e3))}})(i),((e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))})(i,a),(e=>{re.useEffect(()=>{e.clearReset()},[e])})(a);const o=!n.getQueryCache().get(i.queryHash),[l]=re.useState(()=>new t(n,i)),c=l.getOptimisticResult(i),d=!s&&!1!==e.subscribed;if(re.useSyncExternalStore(re.useCallback(e=>{const t=d?l.subscribe(lt.batchCalls(e)):Ae;return l.updateResult(),t},[l,d]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),re.useEffect(()=>{l.setOptions(i)},[i,l]),((e,t)=>e?.suspense&&t.isPending)(i,c))throw Pt(i,l,a);if((({result:e,errorResetBoundary:t,throwOnError:r,query:s,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&(a&&void 0===e.data||Qe(r,[e.error,s])))({result:c,errorResetBoundary:a,throwOnError:i.throwOnError,query:n.getQueryCache().get(i.queryHash),suspense:i.suspense}))throw c.error;if(n.getDefaultOptions().queries?._experimental_afterQuery?.(i,c),i.experimental_prefetchInRender&&!Re&&((e,t)=>e.isLoading&&e.isFetching&&!t)(c,s)){const e=o?Pt(i,l,a):n.getQueryCache().get(i.queryHash)?.promise;e?.catch(Ae).finally(()=>{l.updateResult()})}return i.notifyOnChangeProps?c:l.trackResult(c)}function Mt(e,t){return Ot(e,wt)}function Dt(e,t){const r=It(),[s]=re.useState(()=>new Et(r,e));re.useEffect(()=>{s.setOptions(e)},[s,e]);const a=re.useSyncExternalStore(re.useCallback(e=>s.subscribe(lt.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),n=re.useCallback((e,t)=>{s.mutate(e,t).catch(Ae)},[s]);if(a.error&&Qe(s.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:n,mutateAsync:a.mutate}}const Lt=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zt=(...e)=>e.filter((e,t,r)=>Boolean(e)&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim();var Ft={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ut=re.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:s,className:a="",children:n,iconNode:i,...o},l)=>re.createElement("svg",{ref:l,...Ft,width:t,height:t,stroke:e,strokeWidth:s?24*Number(r)/Number(t):r,className:zt("lucide",a),...o},[...i.map(([e,t])=>re.createElement(e,t)),...Array.isArray(n)?n:[n]])),$t=(e,t)=>{const r=re.forwardRef(({className:r,...s},a)=>re.createElement(Ut,{ref:a,iconNode:t,className:zt(`lucide-${Lt(e)}`,r),...s}));return r.displayName=`${e}`,r},Vt=$t("Anchor",[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]]),Ht=$t("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Bt=$t("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),qt=$t("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),Wt=$t("BadgeInfo",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]]),Kt=$t("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),Zt=$t("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]),Gt=$t("BookText",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}],["path",{d:"M8 11h8",key:"vwpz6n"}],["path",{d:"M8 7h6",key:"1f0q6e"}]]),Jt=$t("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]),Yt=$t("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]),Qt=$t("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]),Xt=$t("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]),er=$t("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),tr=$t("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),rr=$t("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]),sr=$t("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]),ar=$t("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),nr=$t("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),ir=$t("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),or=$t("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),lr=$t("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),cr=$t("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),dr=$t("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),ur=$t("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),hr=$t("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),mr=$t("CircleUserRound",[["path",{d:"M18 20a6 6 0 0 0-12 0",key:"1qehca"}],["circle",{cx:"12",cy:"10",r:"4",key:"1h16sb"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),pr=$t("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),fr=$t("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),gr=$t("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),yr=$t("CloudFog",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 17H7",key:"pygtm1"}],["path",{d:"M17 21H9",key:"1u2q02"}]]),xr=$t("CloudRain",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M16 14v6",key:"1j4efv"}],["path",{d:"M8 14v6",key:"17c4r9"}],["path",{d:"M12 16v6",key:"c8a4gj"}]]),vr=$t("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]),br=$t("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]),wr=$t("Compass",[["path",{d:"m16.24 7.76-1.804 5.411a2 2 0 0 1-1.265 1.265L7.76 16.24l1.804-5.411a2 2 0 0 1 1.265-1.265z",key:"9ktpf1"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),jr=$t("Cpu",[["rect",{width:"16",height:"16",x:"4",y:"4",rx:"2",key:"14l7u7"}],["rect",{width:"6",height:"6",x:"9",y:"9",rx:"1",key:"5aljv4"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]),kr=$t("Cross",[["path",{d:"M4 9a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h4a1 1 0 0 1 1 1v4a2 2 0 0 0 2 2h2a2 2 0 0 0 2-2v-4a1 1 0 0 1 1-1h4a2 2 0 0 0 2-2v-2a2 2 0 0 0-2-2h-4a1 1 0 0 1-1-1V4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4a1 1 0 0 1-1 1z",key:"1xbrqy"}]]),Nr=$t("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]),Sr=$t("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]),_r=$t("Expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16.2V21h-4.8",key:"1hrera"}],["path",{d:"M21 7.8V3h-4.8",key:"ul1q53"}],["path",{d:"M3 16.2V21h4.8",key:"1x04uo"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 7.8V3h4.8",key:"1ijppm"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),Er=$t("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),Cr=$t("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Ir=$t("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),Tr=$t("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]),Rr=$t("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]),Ar=$t("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]),Pr=$t("Ghost",[["path",{d:"M9 10h.01",key:"qbtxuw"}],["path",{d:"M15 10h.01",key:"1qmjsl"}],["path",{d:"M12 2a8 8 0 0 0-8 8v12l3-3 2.5 2.5L12 19l2.5 2.5L17 19l3 3V10a8 8 0 0 0-8-8z",key:"uwwb07"}]]),Or=$t("Grape",[["path",{d:"M22 5V2l-5.89 5.89",key:"1eenpo"}],["circle",{cx:"16.6",cy:"15.89",r:"3",key:"xjtalx"}],["circle",{cx:"8.11",cy:"7.4",r:"3",key:"u2fv6i"}],["circle",{cx:"12.35",cy:"11.65",r:"3",key:"i6i8g7"}],["circle",{cx:"13.91",cy:"5.85",r:"3",key:"6ye0dv"}],["circle",{cx:"18.15",cy:"10.09",r:"3",key:"snx9no"}],["circle",{cx:"6.56",cy:"13.2",r:"3",key:"17x4xg"}],["circle",{cx:"10.8",cy:"17.44",r:"3",key:"1hogw9"}],["circle",{cx:"5",cy:"19",r:"3",key:"1sn6vo"}]]),Mr=$t("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Dr=$t("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),Lr=$t("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]),zr=$t("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Fr=$t("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Ur=$t("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]),$r=$t("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Vr=$t("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Hr=$t("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),Br=$t("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]),qr=$t("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),Wr=$t("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),Kr=$t("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Zr=$t("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]),Gr=$t("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]),Jr=$t("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]),Yr=$t("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]),Qr=$t("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]),Xr=$t("Pill",[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]]),es=$t("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),ts=$t("Radiation",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M7.5 4.2c-.3-.5-.9-.7-1.3-.4C3.9 5.5 2.3 8.1 2 11c-.1.5.4 1 1 1h5c0-1.5.8-2.8 2-3.4-1.1-1.9-2-3.5-2.5-4.4z",key:"wy49g3"}],["path",{d:"M21 12c.6 0 1-.4 1-1-.3-2.9-1.8-5.5-4.1-7.1-.4-.3-1.1-.2-1.3.3-.6.9-1.5 2.5-2.6 4.3 1.2.7 2 2 2 3.5h5z",key:"vklnvr"}],["path",{d:"M7.5 19.8c-.3.5-.1 1.1.4 1.3 2.6 1.2 5.6 1.2 8.2 0 .5-.2.7-.8.4-1.3-.5-.9-1.4-2.5-2.5-4.3-1.2.7-2.8.7-4 0-1.1 1.8-2 3.4-2.5 4.3z",key:"wkdf1o"}]]),rs=$t("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),ss=$t("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),as=$t("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]),ns=$t("Scroll",[["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]),is=$t("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),os=$t("SendHorizontal",[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]]),ls=$t("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]),cs=$t("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ds=$t("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),us=$t("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),hs=$t("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),ms=$t("ShieldX",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]]),ps=$t("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]),fs=$t("Shuffle",[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]]),gs=$t("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),ys=$t("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),xs=$t("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),vs=$t("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),bs=$t("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]),ws=$t("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]),js=$t("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),ks=$t("Trash",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]]),Ns=$t("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),Ss=$t("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),_s=$t("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]),Es=$t("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]]),Cs=$t("UserRoundMinus",[["path",{d:"M2 21a8 8 0 0 1 13.292-6",key:"bjp14o"}],["circle",{cx:"10",cy:"8",r:"5",key:"o932ke"}],["path",{d:"M22 19h-6",key:"vcuq98"}]]),Is=$t("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Ts=$t("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Rs=$t("Worm",[["path",{d:"m19 12-1.5 3",key:"9bcu4o"}],["path",{d:"M19.63 18.81 22 20",key:"121v98"}],["path",{d:"M6.47 8.23a1.68 1.68 0 0 1 2.44 1.93l-.64 2.08a6.76 6.76 0 0 0 10.16 7.67l.42-.27a1 1 0 1 0-2.73-4.21l-.42.27a1.76 1.76 0 0 1-2.63-1.99l.64-2.08A6.66 6.66 0 0 0 3.94 3.9l-.7.4a1 1 0 1 0 2.55 4.34z",key:"1tij6q"}]]),As=$t("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Ps=re.createContext(void 0);function Os(){const e=re.useContext(Ps);if(void 0===e)throw new Error("useLoading must be used within a GlobalLoadingProvider");return e}function Ms({children:t}){const[r,s]=re.useState(!1),[a,n]=re.useState(""),i=re.useCallback((e="Loading content...")=>{s(!0),n(e)},[]),o=re.useCallback(()=>{s(!1),n("")},[]);return e.jsxs(Ps.Provider,{value:{isLoading:r,showLoading:i,hideLoading:o,loadingMessage:a},children:[t,r&&e.jsxs("div",{className:"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center",children:[e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6 shadow-lg flex items-center gap-3 max-w-sm mx-4",children:[e.jsx($r,{className:"h-5 w-5 animate-spin text-primary"}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium",children:a}),e.jsx("span",{className:"text-xs text-muted-foreground",children:"Please wait a moment"})]})]}),e.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:a})]})]})}const Ds=re.memo(({isVisible:t,onComplete:r})=>{const[s,a]=re.useState(!1);return re.useEffect(()=>{if(t){a(!0);const e=setTimeout(()=>{a(!1),r?.()},2e3);return()=>clearTimeout(e)}a(!1)},[t,r]),t||s?e.jsxs("div",{className:"page-transition-loader",children:[e.jsxs("div",{className:"fixed inset-0 bg-black/90 backdrop-blur-md z-[100] flex items-center justify-center",children:[e.jsxs("div",{className:"loader relative z-10",children:[e.jsx("span",{className:"text-uppercase",children:"L"}),e.jsx("span",{className:"text-uppercase",children:"O"}),e.jsx("span",{className:"text-uppercase",children:"A"}),e.jsx("span",{className:"text-uppercase",children:"D"}),e.jsx("span",{className:"text-uppercase",children:"I"}),e.jsx("span",{className:"text-uppercase",children:"N"}),e.jsx("span",{className:"text-uppercase",children:"G"})]}),e.jsx("div",{className:"sr-only",role:"status","aria-live":"polite",children:"Loading content, please wait..."})]}),e.jsx("style",{children:"\n        .loader {\n          display: flex;\n          gap: 0.5rem;\n        }\n\n        .text-uppercase {\n          text-transform: uppercase;\n        }\n\n        .loader span {\n          font-size: 24px;\n          font-family: 'Megrim', cursive;\n          font-weight: 400;\n          animation: blur 2s linear infinite;\n          line-height: 24px;\n          transition: all 0.5s;\n          letter-spacing: 0.2em;\n          color: white;\n          text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);\n        }\n\n        .loader span:nth-child(1) { animation-delay: 0.0s; }\n        .loader span:nth-child(2) { animation-delay: 0.2s; }\n        .loader span:nth-child(3) { animation-delay: 0.4s; }\n        .loader span:nth-child(4) { animation-delay: 0.6s; }\n        .loader span:nth-child(5) { animation-delay: 0.8s; }\n        .loader span:nth-child(6) { animation-delay: 1.0s; }\n        .loader span:nth-child(7) { animation-delay: 1.2s; }\n        \n        @keyframes blur {\n          0% {\n            filter: blur(0px);\n            opacity: 1;\n          }\n          50% {\n            filter: blur(6px);\n            opacity: 0.5;\n          }\n          100% {\n            filter: blur(0px);\n            opacity: 1;\n          }\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 640px) {\n          .loader span {\n            font-size: 20px;\n            letter-spacing: 0.1em;\n          }\n        }\n\n        /* Reduced motion preference */\n        @media (prefers-reduced-motion: reduce) {\n          .loader span {\n            animation: none;\n            opacity: 0.8;\n          }\n        }\n      "})]}):null});function Ls(e){return`${e.startsWith("/")?e:`/${e}`}`}Ds.displayName="PageTransitionLoader";class zs extends Error{constructor(e,t,r,s){super(e),this.status=t,this.data=r,this.code=s,this.name="APIError"}get isAuthError(){return 401===this.status}get isForbiddenError(){return 403===this.status}get isNotFoundError(){return 404===this.status}get isValidationError(){return 422===this.status||400===this.status}get isServerError(){return void 0!==this.status&&this.status>=500}get isNetworkError(){return"NETWORK_ERROR"===this.code}}async function Fs(e,t={}){if(!e)throw new zs("API URL is required",void 0,void 0,"INVALID_REQUEST");const r={method:t.method||"GET",headers:{"Content-Type":"application/json",...t.headers},credentials:"include",...t};try{const t=e.startsWith("http")?e:Ls(e);0;const i=setTimeout(()=>{},5e3);let o;try{o=await fetch(t,r),clearTimeout(i)}catch(s){throw clearTimeout(i),new zs("Network error: Cannot connect to server. Please check your internet connection.",void 0,{originalError:s},"NETWORK_ERROR")}await async function(e){if(!e.ok){let s,a,n;try{s=await e.json(),a=s.error||s.message||`HTTP Error ${e.status}`}catch(t){try{const t=await e.text();s={rawText:t},a=t||`HTTP Error ${e.status}`}catch(r){s={message:"An unknown error occurred"},a=`HTTP Error ${e.status}`}}switch(e.status){case 401:n="UNAUTHORIZED";break;case 403:n="FORBIDDEN";break;case 404:n="NOT_FOUND";break;case 422:case 400:n="VALIDATION_ERROR";break;default:n=e.status>=500?"SERVER_ERROR":"CLIENT_ERROR"}throw new zs(a,e.status,s,n)}}(o);const l=o.headers.get("content-type");let c;if(l&&l.includes("application/json"))try{c=await o.json()}catch(a){throw new zs("Failed to parse JSON response",o.status,{parseError:String(a)},"PARSE_ERROR")}else try{const e=await o.text();try{c=JSON.parse(e)}catch{c=e}}catch(n){throw new zs("Failed to read response",o.status,{readError:String(n)},"READ_ERROR")}return c}catch(i){if(i instanceof zs)throw i;throw e.startsWith("http")||Ls(e),new zs(i instanceof Error?i.message:"Unknown error occurred",void 0,{originalError:i},"UNEXPECTED_ERROR")}}const Us=new class{#q;#f;#d;#W;#K;#Z;#G;#J;constructor(e={}){this.#q=e.queryCache||new ht,this.#f=e.mutationCache||new pt,this.#d=e.defaultOptions||{},this.#W=new Map,this.#K=new Map,this.#Z=0}mount(){this.#Z++,1===this.#Z&&(this.#G=Xe.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#q.onFocus())}),this.#J=et.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#q.onOnline())}))}unmount(){this.#Z--,0===this.#Z&&(this.#G?.(),this.#G=void 0,this.#J?.(),this.#J=void 0)}isFetching(e){return this.#q.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#f.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#q.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#q.build(this,t),s=r.state.data;return void 0===s?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Me(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(s))}getQueriesData(e){return this.#q.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,r){const s=this.defaultQueryOptions({queryKey:e}),a=this.#q.get(s.queryHash),n=a?.state.data,i=function(e,t){return"function"==typeof e?e(t):e}(t,n);if(void 0!==i)return this.#q.build(this,s).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return lt.batch(()=>this.#q.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#q.get(t.queryHash)?.state}removeQueries(e){const t=this.#q;lt.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const r=this.#q;return lt.batch(()=>(r.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},s=lt.batch(()=>this.#q.findAll(e).map(e=>e.cancel(r)));return Promise.all(s).then(Ae).catch(Ae)}invalidateQueries(e,t={}){return lt.batch(()=>(this.#q.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},s=lt.batch(()=>this.#q.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,r);return r.throwOnError||(t=t.catch(Ae)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(s).then(Ae)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=this.#q.build(this,t);return r.isStaleByTime(Me(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ae).catch(Ae)}fetchInfiniteQuery(e){return e.behavior=gt(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ae).catch(Ae)}ensureInfiniteQueryData(e){return e.behavior=gt(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return et.isOnline()?this.#f.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#q}getMutationCache(){return this.#f}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#W.set(Ue(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#W.values()],r={};return t.forEach(t=>{$e(e,t.queryKey)&&Object.assign(r,t.defaultOptions)}),r}setMutationDefaults(e,t){this.#K.set(Ue(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#K.values()],r={};return t.forEach(t=>{$e(e,t.mutationKey)&&Object.assign(r,t.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Fe(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Je&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#q.clear(),this.#f.clear()}}({defaultOptions:{queries:{retry:(e,t)=>{if(t instanceof zs){if(t.isAuthError||t.isForbiddenError||t.isValidationError||t.isNotFoundError)return!1;if(t.isNetworkError||t.isServerError)return e<2}return e<1},refetchOnWindowFocus:!1,staleTime:3e5,gcTime:18e5},mutations:{onError:e=>{e instanceof zs&&e.isAuthError}}}});let $s=0;const Vs=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[{id:($s++).toString(),...t.toast},...e.toasts].slice(0,3)};case"DISMISS_TOAST":return{...e,toasts:e.toasts.filter(e=>e.id!==t.id)};case"DISMISS_ALL":return{...e,toasts:[]};default:return e}},Hs={toasts:[]};function Bs(){const[e,t]=re.useReducer(Vs,Hs),r=re.useCallback(e=>{t({type:"ADD_TOAST",toast:e})},[t]),s=re.useCallback(e=>{t({type:"DISMISS_TOAST",id:e})},[t]),a=re.useCallback(()=>{t({type:"DISMISS_ALL"})},[t]);return{toasts:e.toasts,toast:r,dismiss:s,dismissAll:a}}function qs(...e){return de(ce(e))}re.memo(function({error:e,errorInfo:t}){return re.createElement("div",{role:"alert",className:"flex flex-col items-center justify-center p-4 text-destructive"},re.createElement("p",null,e.message),t&&!1)}),re.memo(function(){return null});const Ws={initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:20}},Ks=re.forwardRef(({id:t,title:r,description:s,variant:a="default",duration:n=5e3,action:i,onDismiss:o},l)=>{re.useEffect(()=>{const e=setTimeout(()=>{o(t)},n);return()=>clearTimeout(e)},[t,o,n]);const c=re.useMemo(()=>{switch(a){case"success":return dr;case"destructive":return Ss;default:return zr}},[a]),d=re.useMemo(()=>{switch(a){case"success":return"border-green-600 bg-green-50 dark:bg-green-900/20 dark:border-green-800";case"destructive":return"border-red-600 bg-red-50 dark:bg-red-900/20 dark:border-red-800";default:return"border-gray-200 bg-white dark:bg-gray-800 dark:border-gray-700"}},[a]),u=re.useMemo(()=>{switch(a){case"success":return"text-green-600 dark:text-green-400";case"destructive":return"text-red-600 dark:text-red-400";default:return"text-blue-600 dark:text-blue-400"}},[a]);return e.jsxs(ge.div,{ref:l,layout:!0,initial:"initial",animate:"animate",exit:"exit",variants:Ws,className:qs("relative flex w-full max-w-sm items-start gap-3 overflow-hidden rounded-lg border p-4 shadow-lg backdrop-blur-sm",d),children:[e.jsx("div",{className:qs("flex-shrink-0",u),children:e.jsx(c,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 space-y-1",children:[r&&e.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:r}),s&&e.jsx("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:s}),i&&e.jsx("div",{className:"mt-2",children:i})]}),e.jsx("button",{onClick:()=>o(t),className:"absolute right-2 top-2 flex-shrink-0 rounded-full p-1 text-gray-400 hover:bg-gray-100 hover:text-gray-500 dark:text-gray-500 dark:hover:bg-gray-700 dark:hover:text-gray-400","aria-label":"Close",children:e.jsx(As,{className:"h-4 w-4"})})]})});function Zs(){const{toasts:t,dismiss:r}=Bs();return e.jsx("div",{className:"fixed bottom-20 right-0 z-50 flex w-full flex-col items-center gap-2 sm:bottom-8 sm:right-8 sm:items-end",children:e.jsx(ye,{children:t.map(t=>e.jsx(Ks,{id:t.id,title:t.title,description:t.description,variant:t.variant,duration:t.duration,action:t.action,onDismiss:r},t.id))})})}Ks.displayName="Toast";const Gs=Array(12).fill(0),Js=({visible:e,className:t})=>ae.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},ae.createElement("div",{className:"sonner-spinner"},Gs.map((e,t)=>ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${t}`})))),Ys=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Qs=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Xs=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),ea=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),ta=ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}));let ra=1;const sa=new class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;const{message:r,...s}=e,a="number"==typeof(null==e?void 0:e.id)||(null==(t=e.id)?void 0:t.length)>0?e.id:ra++,n=this.toasts.find(e=>e.id===a),i=void 0===e.dismissible||e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),n?this.toasts=this.toasts.map(t=>t.id===a?(this.publish({...t,...e,id:a,title:r}),{...t,...e,id:a,dismissible:i,title:r}):t):this.addToast({title:r,...s,dismissible:i,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(t=>t({id:e,dismiss:!0})))):this.toasts.forEach(e=>{this.subscribers.forEach(t=>t({id:e.id,dismiss:!0}))}),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;void 0!==t.loading&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:"function"!=typeof t.description?t.description:void 0}));const s=Promise.resolve(e instanceof Function?e():e);let a,n=void 0!==r;const i=s.then(async e=>{a=["resolve",e];if(ae.isValidElement(e))n=!1,this.create({id:r,type:"default",message:e});else if(aa(e)&&!e.ok){n=!1;const s="function"==typeof t.error?await t.error(`HTTP error! status: ${e.status}`):t.error,a="function"==typeof t.description?await t.description(`HTTP error! status: ${e.status}`):t.description,i="object"==typeof s&&!ae.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(e instanceof Error){n=!1;const s="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!ae.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}else if(void 0!==t.success){n=!1;const s="function"==typeof t.success?await t.success(e):t.success,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!ae.isValidElement(s)?s:{message:s};this.create({id:r,type:"success",description:a,...i})}}).catch(async e=>{if(a=["reject",e],void 0!==t.error){n=!1;const s="function"==typeof t.error?await t.error(e):t.error,a="function"==typeof t.description?await t.description(e):t.description,i="object"==typeof s&&!ae.isValidElement(s)?s:{message:s};this.create({id:r,type:"error",description:a,...i})}}).finally(()=>{n&&(this.dismiss(r),r=void 0),null==t.finally||t.finally.call(t)}),o=()=>new Promise((e,t)=>i.then(()=>"reject"===a[0]?t(a[1]):e(a[1])).catch(t));return"string"!=typeof r&&"number"!=typeof r?{unwrap:o}:Object.assign(r,{unwrap:o})},this.custom=(e,t)=>{const r=(null==t?void 0:t.id)||ra++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},aa=e=>e&&"object"==typeof e&&"ok"in e&&"boolean"==typeof e.ok&&"status"in e&&"number"==typeof e.status,na=(e,t)=>{const r=(null==t?void 0:t.id)||ra++;return sa.addToast({title:e,...t,id:r}),r},ia=Object.assign(na,{success:sa.success,info:sa.info,warning:sa.warning,error:sa.error,custom:sa.custom,message:sa.message,promise:sa.promise,dismiss:sa.dismiss,loading:sa.loading},{getHistory:()=>sa.toasts,getToasts:()=>sa.getActiveToasts()});function oa(e){return void 0!==e.label}!function(e){if("undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");const la=3,ca=14;function da(...e){return e.filter(Boolean).join(" ")}const ua=e=>{var t,r,s,a,n,i,o,l,c;const{invert:d,toast:u,unstyled:h,interacting:m,setHeights:p,visibleToasts:f,heights:g,index:y,toasts:x,expanded:v,removeToast:b,defaultRichColors:w,closeButton:j,style:k,cancelButtonStyle:N,actionButtonStyle:S,className:_="",descriptionClassName:E="",duration:C,position:I,gap:T,expandByDefault:R,classNames:A,icons:P,closeButtonAriaLabel:O="Close toast"}=e,[M,D]=ae.useState(null),[L,z]=ae.useState(null),[F,U]=ae.useState(!1),[$,V]=ae.useState(!1),[H,B]=ae.useState(!1),[q,W]=ae.useState(!1),[K,Z]=ae.useState(!1),[G,J]=ae.useState(0),[Y,Q]=ae.useState(0),X=ae.useRef(u.duration||C||4e3),ee=ae.useRef(null),te=ae.useRef(null),re=0===y,se=y+1<=f,ne=u.type,ie=!1!==u.dismissible,oe=u.className||"",le=u.descriptionClassName||"",ce=ae.useMemo(()=>g.findIndex(e=>e.toastId===u.id)||0,[g,u.id]),de=ae.useMemo(()=>{var e;return null!=(e=u.closeButton)?e:j},[u.closeButton,j]),ue=ae.useMemo(()=>u.duration||C||4e3,[u.duration,C]),he=ae.useRef(0),me=ae.useRef(0),pe=ae.useRef(0),fe=ae.useRef(null),[ge,ye]=I.split("-"),xe=ae.useMemo(()=>g.reduce((e,t,r)=>r>=ce?e:e+t.height,0),[g,ce]),ve=(()=>{const[e,t]=ae.useState(document.hidden);return ae.useEffect(()=>{const e=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",e),()=>window.removeEventListener("visibilitychange",e)},[]),e})(),be=u.invert||d,we="loading"===ne;me.current=ae.useMemo(()=>ce*T+xe,[ce,xe]),ae.useEffect(()=>{X.current=ue},[ue]),ae.useEffect(()=>{U(!0)},[]),ae.useEffect(()=>{const e=te.current;if(e){const t=e.getBoundingClientRect().height;return Q(t),p(e=>[{toastId:u.id,height:t,position:u.position},...e]),()=>p(e=>e.filter(e=>e.toastId!==u.id))}},[p,u.id]),ae.useLayoutEffect(()=>{if(!F)return;const e=te.current,t=e.style.height;e.style.height="auto";const r=e.getBoundingClientRect().height;e.style.height=t,Q(r),p(e=>e.find(e=>e.toastId===u.id)?e.map(e=>e.toastId===u.id?{...e,height:r}:e):[{toastId:u.id,height:r,position:u.position},...e])},[F,u.title,u.description,p,u.id,u.jsx,u.action,u.cancel]);const je=ae.useCallback(()=>{V(!0),J(me.current),p(e=>e.filter(e=>e.toastId!==u.id)),setTimeout(()=>{b(u)},200)},[u,b,p,me]);ae.useEffect(()=>{if(u.promise&&"loading"===ne||u.duration===1/0||"loading"===u.type)return;let e;return v||m||ve?(()=>{if(pe.current<he.current){const e=(new Date).getTime()-he.current;X.current=X.current-e}pe.current=(new Date).getTime()})():X.current!==1/0&&(he.current=(new Date).getTime(),e=setTimeout(()=>{null==u.onAutoClose||u.onAutoClose.call(u,u),je()},X.current)),()=>clearTimeout(e)},[v,m,u,ne,ve,je]),ae.useEffect(()=>{u.delete&&(je(),null==u.onDismiss||u.onDismiss.call(u,u))},[je,u.delete]);const ke=u.icon||(null==P?void 0:P[ne])||(e=>{switch(e){case"success":return Ys;case"info":return Xs;case"warning":return Qs;case"error":return ea;default:return null}})(ne);var Ne,Se;return ae.createElement("li",{tabIndex:0,ref:te,className:da(_,oe,null==A?void 0:A.toast,null==u||null==(t=u.classNames)?void 0:t.toast,null==A?void 0:A.default,null==A?void 0:A[ne],null==u||null==(r=u.classNames)?void 0:r[ne]),"data-sonner-toast":"","data-rich-colors":null!=(Ne=u.richColors)?Ne:w,"data-styled":!Boolean(u.jsx||u.unstyled||h),"data-mounted":F,"data-promise":Boolean(u.promise),"data-swiped":K,"data-removed":$,"data-visible":se,"data-y-position":ge,"data-x-position":ye,"data-index":y,"data-front":re,"data-swiping":H,"data-dismissible":ie,"data-type":ne,"data-invert":be,"data-swipe-out":q,"data-swipe-direction":L,"data-expanded":Boolean(v||R&&F),"data-testid":u.testId,style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${$?G:me.current}px`,"--initial-height":R?"auto":`${Y}px`,...k,...u.style},onDragEnd:()=>{B(!1),D(null),fe.current=null},onPointerDown:e=>{2!==e.button&&!we&&ie&&(ee.current=new Date,J(me.current),e.target.setPointerCapture(e.pointerId),"BUTTON"!==e.target.tagName&&(B(!0),fe.current={x:e.clientX,y:e.clientY}))},onPointerUp:()=>{var e,t,r;if(q||!ie)return;fe.current=null;const s=Number((null==(e=te.current)?void 0:e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),a=Number((null==(t=te.current)?void 0:t.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),n=(new Date).getTime()-(null==(r=ee.current)?void 0:r.getTime()),i="x"===M?s:a,o=Math.abs(i)/n;if(Math.abs(i)>=45||o>.11)return J(me.current),null==u.onDismiss||u.onDismiss.call(u,u),z("x"===M?s>0?"right":"left":a>0?"down":"up"),je(),void W(!0);var l,c;null==(l=te.current)||l.style.setProperty("--swipe-amount-x","0px"),null==(c=te.current)||c.style.setProperty("--swipe-amount-y","0px"),Z(!1),B(!1),D(null)},onPointerMove:t=>{var r,s,a;if(!fe.current||!ie)return;if((null==(r=window.getSelection())?void 0:r.toString().length)>0)return;const n=t.clientY-fe.current.y,i=t.clientX-fe.current.x;var o;const l=null!=(o=e.swipeDirections)?o:function(e){const[t,r]=e.split("-"),s=[];return t&&s.push(t),r&&s.push(r),s}(I);!M&&(Math.abs(i)>1||Math.abs(n)>1)&&D(Math.abs(i)>Math.abs(n)?"x":"y");let c={x:0,y:0};const d=e=>1/(1.5+Math.abs(e)/20);if("y"===M){if(l.includes("top")||l.includes("bottom"))if(l.includes("top")&&n<0||l.includes("bottom")&&n>0)c.y=n;else{const e=n*d(n);c.y=Math.abs(e)<Math.abs(n)?e:n}}else if("x"===M&&(l.includes("left")||l.includes("right")))if(l.includes("left")&&i<0||l.includes("right")&&i>0)c.x=i;else{const e=i*d(i);c.x=Math.abs(e)<Math.abs(i)?e:i}(Math.abs(c.x)>0||Math.abs(c.y)>0)&&Z(!0),null==(s=te.current)||s.style.setProperty("--swipe-amount-x",`${c.x}px`),null==(a=te.current)||a.style.setProperty("--swipe-amount-y",`${c.y}px`)}},de&&!u.jsx&&"loading"!==ne?ae.createElement("button",{"aria-label":O,"data-disabled":we,"data-close-button":!0,onClick:we||!ie?()=>{}:()=>{je(),null==u.onDismiss||u.onDismiss.call(u,u)},className:da(null==A?void 0:A.closeButton,null==u||null==(s=u.classNames)?void 0:s.closeButton)},null!=(Se=null==P?void 0:P.close)?Se:ta):null,(ne||u.icon||u.promise)&&null!==u.icon&&(null!==(null==P?void 0:P[ne])||u.icon)?ae.createElement("div",{"data-icon":"",className:da(null==A?void 0:A.icon,null==u||null==(a=u.classNames)?void 0:a.icon)},u.promise||"loading"===u.type&&!u.icon?u.icon||function(){var e,t;return(null==P?void 0:P.loading)?ae.createElement("div",{className:da(null==A?void 0:A.loader,null==u||null==(t=u.classNames)?void 0:t.loader,"sonner-loader"),"data-visible":"loading"===ne},P.loading):ae.createElement(Js,{className:da(null==A?void 0:A.loader,null==u||null==(e=u.classNames)?void 0:e.loader),visible:"loading"===ne})}():null,"loading"!==u.type?ke:null):null,ae.createElement("div",{"data-content":"",className:da(null==A?void 0:A.content,null==u||null==(n=u.classNames)?void 0:n.content)},ae.createElement("div",{"data-title":"",className:da(null==A?void 0:A.title,null==u||null==(i=u.classNames)?void 0:i.title)},u.jsx?u.jsx:"function"==typeof u.title?u.title():u.title),u.description?ae.createElement("div",{"data-description":"",className:da(E,le,null==A?void 0:A.description,null==u||null==(o=u.classNames)?void 0:o.description)},"function"==typeof u.description?u.description():u.description):null),ae.isValidElement(u.cancel)?u.cancel:u.cancel&&oa(u.cancel)?ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:u.cancelButtonStyle||N,onClick:e=>{oa(u.cancel)&&ie&&(null==u.cancel.onClick||u.cancel.onClick.call(u.cancel,e),je())},className:da(null==A?void 0:A.cancelButton,null==u||null==(l=u.classNames)?void 0:l.cancelButton)},u.cancel.label):null,ae.isValidElement(u.action)?u.action:u.action&&oa(u.action)?ae.createElement("button",{"data-button":!0,"data-action":!0,style:u.actionButtonStyle||S,onClick:e=>{oa(u.action)&&(null==u.action.onClick||u.action.onClick.call(u.action,e),e.defaultPrevented||je())},className:da(null==A?void 0:A.actionButton,null==u||null==(c=u.classNames)?void 0:c.actionButton)},u.action.label):null)};function ha(){if("undefined"==typeof window)return"ltr";if("undefined"==typeof document)return"ltr";const e=document.documentElement.getAttribute("dir");return"auto"!==e&&e?e:window.getComputedStyle(document.documentElement).direction}function ma(e,t){const r={};return[e,t].forEach((e,t)=>{const s=1===t,a=s?"--mobile-offset":"--offset",n=s?"16px":"24px";function i(e){["top","right","bottom","left"].forEach(t=>{r[`${a}-${t}`]="number"==typeof e?`${e}px`:e})}"number"==typeof e||"string"==typeof e?i(e):"object"==typeof e?["top","right","bottom","left"].forEach(t=>{void 0===e[t]?r[`${a}-${t}`]=n:r[`${a}-${t}`]="number"==typeof e[t]?`${e[t]}px`:e[t]}):i(n)}),r}const pa=ae.forwardRef(function(e,r){const{id:s,invert:a,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:o,closeButton:l,className:c,offset:d,mobileOffset:u,theme:h="light",richColors:m,duration:p,style:f,visibleToasts:g=la,toastOptions:y,dir:x=ha(),gap:v=ca,icons:b,containerAriaLabel:w="Notifications"}=e,[j,k]=ae.useState([]),N=ae.useMemo(()=>s?j.filter(e=>e.toasterId===s):j.filter(e=>!e.toasterId),[j,s]),S=ae.useMemo(()=>Array.from(new Set([n].concat(N.filter(e=>e.position).map(e=>e.position)))),[N,n]),[_,E]=ae.useState([]),[C,I]=ae.useState(!1),[T,R]=ae.useState(!1),[A,P]=ae.useState("system"!==h?h:"undefined"!=typeof window&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=ae.useRef(null),M=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),D=ae.useRef(null),L=ae.useRef(!1),z=ae.useCallback(e=>{k(t=>{var r;return(null==(r=t.find(t=>t.id===e.id))?void 0:r.delete)||sa.dismiss(e.id),t.filter(({id:t})=>t!==e.id)})},[]);return ae.useEffect(()=>sa.subscribe(e=>{e.dismiss?requestAnimationFrame(()=>{k(t=>t.map(t=>t.id===e.id?{...t,delete:!0}:t))}):setTimeout(()=>{t.flushSync(()=>{k(t=>{const r=t.findIndex(t=>t.id===e.id);return-1!==r?[...t.slice(0,r),{...t[r],...e},...t.slice(r+1)]:[e,...t]})})})}),[j]),ae.useEffect(()=>{if("system"!==h)return void P(h);if("system"===h&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?P("dark"):P("light")),"undefined"==typeof window)return;const e=window.matchMedia("(prefers-color-scheme: dark)");try{e.addEventListener("change",({matches:e})=>{P(e?"dark":"light")})}catch(t){e.addListener(({matches:e})=>{try{P(e?"dark":"light")}catch(t){}})}},[h]),ae.useEffect(()=>{j.length<=1&&I(!1)},[j]),ae.useEffect(()=>{const e=e=>{var t;var r;i.every(t=>e[t]||e.code===t)&&(I(!0),null==(r=O.current)||r.focus());"Escape"!==e.code||document.activeElement!==O.current&&!(null==(t=O.current)?void 0:t.contains(document.activeElement))||I(!1)};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[i]),ae.useEffect(()=>{if(O.current)return()=>{D.current&&(D.current.focus({preventScroll:!0}),D.current=null,L.current=!1)}},[O.current]),ae.createElement("section",{ref:r,"aria-label":`${w} ${M}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((t,r)=>{var s;const[n,i]=t.split("-");return N.length?ae.createElement("ol",{key:t,dir:"auto"===x?ha():x,tabIndex:-1,ref:O,className:c,"data-sonner-toaster":!0,"data-sonner-theme":A,"data-y-position":n,"data-x-position":i,style:{"--front-toast-height":`${(null==(s=_[0])?void 0:s.height)||0}px`,"--width":"356px","--gap":`${v}px`,...f,...ma(d,u)},onBlur:e=>{L.current&&!e.currentTarget.contains(e.relatedTarget)&&(L.current=!1,D.current&&(D.current.focus({preventScroll:!0}),D.current=null))},onFocus:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||L.current||(L.current=!0,D.current=e.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{T||I(!1)},onDragEnd:()=>I(!1),onPointerDown:e=>{e.target instanceof HTMLElement&&"false"===e.target.dataset.dismissible||R(!0)},onPointerUp:()=>R(!1)},N.filter(e=>!e.position&&0===r||e.position===t).map((r,s)=>{var n,i;return ae.createElement(ua,{key:r.id,icons:b,index:s,toast:r,defaultRichColors:m,duration:null!=(n=null==y?void 0:y.duration)?n:p,className:null==y?void 0:y.className,descriptionClassName:null==y?void 0:y.descriptionClassName,invert:a,visibleToasts:g,closeButton:null!=(i=null==y?void 0:y.closeButton)?i:l,interacting:T,position:t,style:null==y?void 0:y.style,unstyled:null==y?void 0:y.unstyled,classNames:null==y?void 0:y.classNames,cancelButtonStyle:null==y?void 0:y.cancelButtonStyle,actionButtonStyle:null==y?void 0:y.actionButtonStyle,closeButtonAriaLabel:null==y?void 0:y.closeButtonAriaLabel,removeToast:z,toasts:N.filter(e=>e.position==r.position),heights:_.filter(e=>e.position==r.position),setHeights:E,expandByDefault:o,gap:v,expanded:C,swipeDirections:e.swipeDirections})})):null}))});function fa({position:t="bottom-right",className:r=""}={}){return e.jsx(pa,{position:t,className:`sonner-toast-container ${r}`,toastOptions:{duration:5e3,className:"sonner-toast",descriptionClassName:"sonner-description"},theme:"system",richColors:!0})}function ga(){return re.useEffect(()=>()=>{document.body.style.paddingBottom=""},[]),e.jsx("footer",{className:"w-screen border-t border-primary/20 bg-background/95 mt-8",style:{position:"relative",left:0,right:0,margin:0,padding:0,zIndex:10,width:"100vw",marginLeft:"calc(-50vw + 50%)"},children:e.jsxs("div",{className:"w-full flex flex-col items-center justify-center py-4 px-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-800 dark:text-gray-200 whitespace-nowrap mb-2",children:" Bubble's Cafe 2025.All rights reserved."}),e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx(ne,{href:"/privacy",className:"text-sm font-medium text-gray-700 hover:text-primary dark:text-gray-300 dark:hover:text-primary transition-colors px-3 whitespace-nowrap",children:"Privacy Policy"}),e.jsx("span",{className:"text-primary/40 text-sm mx-1",children:""}),e.jsx(ne,{href:"/contact",className:"text-sm font-medium text-gray-700 hover:text-primary dark:text-gray-300 dark:hover:text-primary transition-colors px-3 whitespace-nowrap",children:"Contact Me"})]})]})})}const ya=re.createContext({theme:"system",setTheme:()=>null,toggleTheme:()=>null});function xa({children:t,defaultTheme:r="system",storageKey:s="vite-ui-theme",...a}){const[n,i]=re.useState(()=>{try{return"undefined"!=typeof window&&localStorage.getItem(s)||r}catch{return r}});re.useEffect(()=>{const e=window.document.documentElement;if(e.style.setProperty("transition","background-color 0.3s ease, color 0.3s ease"),e.classList.remove("light","dark"),"system"===n){const t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";e.classList.add(t);const r=window.matchMedia("(prefers-color-scheme: dark)"),s=t=>{e.classList.remove("light","dark");const r=t.matches?"dark":"light";e.classList.add(r)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s),e.style.removeProperty("transition")}}e.classList.add(n);const t=setTimeout(()=>{e.style.removeProperty("transition")},300);return()=>{clearTimeout(t),e.style.removeProperty("transition")}},[n]);const o={theme:n,setTheme:e=>{localStorage.setItem(s,e),i(e)},toggleTheme:()=>{i(e=>{if("system"===e){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"light":"dark";return localStorage.setItem(s,e),e}const t="dark"===e?"light":"dark";return localStorage.setItem(s,t),t})}};return e.jsx(ya.Provider,{...a,value:o,children:t})}function va(){const e=re.useContext(ya);if(void 0===e)throw new Error("useTheme must be used within a ThemeProvider");return e}function ba(){const e=It(),{toast:t}=Bs(),r=Mt({queryKey:["/api/auth/me"],queryFn:async()=>await Fs("/api/auth/me"),retry:!1,staleTime:3e5}),s=Dt({mutationFn:async e=>await Fs("/api/auth/login",{method:"POST",body:JSON.stringify(e)}),onSuccess:r=>{if(!r.success||!r.user)throw new Error(r.message||"Login failed");e.setQueryData(["/api/auth/me"],r),e.invalidateQueries({queryKey:["/api/auth/me"]}),t({title:"Login successful",description:`Welcome back, ${r.user.username}!`})},onError:e=>{t({title:"Login failed",description:e.message||"Please check your credentials",variant:"destructive"})}}),a=Dt({mutationFn:async e=>await Fs("/api/auth/register",{method:"POST",body:JSON.stringify(e)}),onSuccess:r=>{if(!r.success||!r.user)throw new Error(r.message||"Registration failed");e.setQueryData(["/api/auth/me"],r),e.invalidateQueries({queryKey:["/api/auth/me"]}),t({title:"Registration successful",description:`Welcome, ${r.user.username}!`})},onError:e=>{t({title:"Registration failed",description:e.message||"Please try again",variant:"destructive"})}}),n=Dt({mutationFn:async()=>await Fs("/api/auth/logout",{method:"POST"}),onSuccess:()=>{e.setQueryData(["/api/auth/me"],null),e.invalidateQueries({queryKey:["/api/auth/me"]}),t({title:"Logged out",description:"You have been successfully logged out"})},onError:e=>{t({title:"Logout failed",description:e.message||"Logout failed",variant:"destructive"})}});return{user:r.data||null,isAuthenticated:!!r.data,isLoading:r.isLoading,loginMutation:s,registerMutation:a,logoutMutation:n}}function wa({children:e}){return e}var ja={};const ka=function(e){const t=[];let r=0;for(let s=0;s<e.length;s++){let a=e.charCodeAt(s);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=63&a|128):55296==(64512&a)&&s+1<e.length&&56320==(64512&e.charCodeAt(s+1))?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++s)),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=63&a|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=63&a|128)}return t},Na={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<e.length;a+=3){const t=e[a],n=a+1<e.length,i=n?e[a+1]:0,o=a+2<e.length,l=o?e[a+2]:0,c=t>>2,d=(3&t)<<4|i>>4;let u=(15&i)<<2|l>>6,h=63&l;o||(h=64,n||(u=64)),s.push(r[c],r[d],r[u],r[h])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ka(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let r=0,s=0;for(;r<e.length;){const a=e[r++];if(a<128)t[s++]=String.fromCharCode(a);else if(a>191&&a<224){const n=e[r++];t[s++]=String.fromCharCode((31&a)<<6|63&n)}else if(a>239&&a<365){const n=((7&a)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++])-65536;t[s++]=String.fromCharCode(55296+(n>>10)),t[s++]=String.fromCharCode(56320+(1023&n))}else{const n=e[r++],i=e[r++];t[s++]=String.fromCharCode((15&a)<<12|(63&n)<<6|63&i)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<e.length;){const t=r[e.charAt(a++)],n=a<e.length?r[e.charAt(a)]:0;++a;const i=a<e.length?r[e.charAt(a)]:64;++a;const o=a<e.length?r[e.charAt(a)]:64;if(++a,null==t||null==n||null==i||null==o)throw new Sa;const l=t<<2|n>>4;if(s.push(l),64!==i){const e=n<<4&240|i>>2;if(s.push(e),64!==o){const e=i<<6&192|o;s.push(e)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Sa extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _a=function(e){return function(e){const t=ka(e);return Na.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ea=function(e){try{return Na.decodeString(e,!0)}catch(t){}return null};const Ca=()=>function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ia=()=>{try{return Ca()||(()=>{if("undefined"==typeof process)return;const e=ja.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(r){return}const t=e&&Ea(e[1]);return t&&JSON.parse(t)})()}catch(e){return}},Ta=()=>Ia()?.config,Ra=e=>Ia()?.[`_${e}`];class Aa{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Pa(e){try{return(e.startsWith("http://")||e.startsWith("https://")?new URL(e).hostname:e).endsWith(".cloudworkstations.dev")}catch{return!1}}const Oa={};let Ma=!1;function Da(e,t){if("undefined"==typeof window||"undefined"==typeof document||!Pa(window.location.host)||Oa[e]===t||Oa[e]||Ma)return;function r(e){return`__firebase__banner__${e}`}Oa[e]=t;const s="__firebase__banner",a=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(Oa))Oa[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function n(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{Ma=!0,function(){const e=document.getElementById(s);e&&e.remove()}()},e}function i(){const e=function(e){let t=document.getElementById(e),r=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),r=!0),{created:r,element:t}}(s),t=r("text"),i=document.getElementById(t)||document.createElement("span"),o=r("learnmore"),l=document.getElementById(o)||document.createElement("a"),c=r("preprendIcon"),d=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,o);const r=n();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(d,c),t.append(d,i,l,r),document.body.appendChild(t)}a?(i.innerText="Preview backend disconnected.",d.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(d.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',i.innerText="Preview backend running in this workspace."),i.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",i):i()}function La(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class za extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,za.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fa.prototype.create)}}class Fa{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],n=a?function(e,t){return e.replace(Ua,(e,r)=>{const s=t[r];return null!=s?String(s):`<${r}?>`})}(a,r):"Error",i=`${this.serviceName}: ${n} (${s}).`;return new za(s,i,r)}}const Ua=/\{\$([^}]+)}/g;function $a(e,t){if(e===t)return!0;const r=Object.keys(e),s=Object.keys(t);for(const a of r){if(!s.includes(a))return!1;const r=e[a],n=t[a];if(Va(r)&&Va(n)){if(!$a(r,n))return!1}else if(r!==n)return!1}for(const a of s)if(!r.includes(a))return!1;return!0}function Va(e){return null!==e&&"object"==typeof e}function Ha(e){const t=[];for(const[r,s]of Object.entries(e))Array.isArray(s)?s.forEach(e=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function Ba(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[r,s]=e.split("=");t[decodeURIComponent(r)]=decodeURIComponent(s)}}),t}function qa(e){const t=e.indexOf("?");if(!t)return"";const r=e.indexOf("#",t);return e.substring(t,r>0?r:void 0)}class Wa{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");s=function(e,t){if("object"!=typeof e||null===e)return!1;for(const r of t)if(r in e&&"function"==typeof e[r])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===s.next&&(s.next=Ka),void 0===s.error&&(s.error=Ka),void 0===s.complete&&(s.complete=Ka);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch(e){}}),this.observers.push(s),a}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ka(){}function Za(e){return e&&e._delegate?e._delegate:e}class Ga{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ja="[DEFAULT]";let Ya=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Aa;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&e.resolve(r)}catch(r){}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(!this.isInitialized(t)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch(t){}for(const[e,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:s});r.resolve(e)}catch(t){}}}}clearInstance(e=Ja){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(e=Ja){return this.instances.has(e)}getOptions(e=Ja){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,n]of this.instancesDeferred.entries()){r===this.normalizeInstanceIdentifier(a)&&n.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(s=e,s===Ja?void 0:s),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var s;return r||null}normalizeInstanceIdentifier(e=Ja){return this.component?this.component.multipleInstances?e:Ja:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}};class Qa{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ya(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var Xa;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Xa||(Xa={}));const en={debug:Xa.DEBUG,verbose:Xa.VERBOSE,info:Xa.INFO,warn:Xa.WARN,error:Xa.ERROR,silent:Xa.SILENT},tn=Xa.INFO,rn={[Xa.DEBUG]:"log",[Xa.VERBOSE]:"log",[Xa.INFO]:"info",[Xa.WARN]:"warn",[Xa.ERROR]:"error"},sn=(e,t,...r)=>{if(t<e.logLevel)return;(new Date).toISOString();if(!rn[t])throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class an{constructor(e){this.name=e,this._logLevel=tn,this._logHandler=sn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xa))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?en[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xa.DEBUG,...e),this._logHandler(this,Xa.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xa.VERBOSE,...e),this._logHandler(this,Xa.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xa.INFO,...e),this._logHandler(this,Xa.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xa.WARN,...e),this._logHandler(this,Xa.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xa.ERROR,...e),this._logHandler(this,Xa.ERROR,...e)}}let nn,on;const ln=new WeakMap,cn=new WeakMap,dn=new WeakMap,un=new WeakMap,hn=new WeakMap;let mn={get(e,t,r){if(e instanceof IDBTransaction){if("done"===t)return cn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||dn.get(e);if("store"===t)return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return gn(e[t])},set:(e,t,r)=>(e[t]=r,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function pn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(on||(on=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(yn(this),t),gn(ln.get(this))}:function(...t){return gn(e.apply(yn(this),t))}:function(t,...r){const s=e.call(yn(this),t,...r);return dn.set(s,t.sort?t.sort():[t]),gn(s)}}function fn(e){return"function"==typeof e?pn(e):(e instanceof IDBTransaction&&function(e){if(cn.has(e))return;const t=new Promise((t,r)=>{const s=()=>{e.removeEventListener("complete",a),e.removeEventListener("error",n),e.removeEventListener("abort",n)},a=()=>{t(),s()},n=()=>{r(e.error||new DOMException("AbortError","AbortError")),s()};e.addEventListener("complete",a),e.addEventListener("error",n),e.addEventListener("abort",n)});cn.set(e,t)}(e),((e,t)=>t.some(t=>e instanceof t))(e,nn||(nn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,mn):e)}function gn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,r)=>{const s=()=>{e.removeEventListener("success",a),e.removeEventListener("error",n)},a=()=>{t(gn(e.result)),s()},n=()=>{r(e.error),s()};e.addEventListener("success",a),e.addEventListener("error",n)});return t.then(t=>{t instanceof IDBCursor&&ln.set(t,e)}).catch(()=>{}),hn.set(t,e),t}(e);if(un.has(e))return un.get(e);const t=fn(e);return t!==e&&(un.set(e,t),hn.set(t,e)),t}const yn=e=>hn.get(e);const xn=["get","getKey","getAll","getAllKeys","count"],vn=["put","add","delete","clear"],bn=new Map;function wn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(bn.get(t))return bn.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,a=vn.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!a&&!xn.includes(r))return;const n=async function(e,...t){const n=this.transaction(e,a?"readwrite":"readonly");let i=n.store;return s&&(i=i.index(t.shift())),(await Promise.all([i[r](...t),a&&n.done]))[0]};return bn.set(t,n),n}mn=(e=>({...e,get:(t,r,s)=>wn(t,r)||e.get(t,r,s),has:(t,r)=>!!wn(t,r)||e.has(t,r)}))(mn);class jn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===t?.type}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const kn="@firebase/app",Nn="0.14.1",Sn=new an("@firebase/app"),_n="@firebase/app-compat",En="@firebase/analytics-compat",Cn="@firebase/analytics",In="@firebase/app-check-compat",Tn="@firebase/app-check",Rn="@firebase/auth",An="@firebase/auth-compat",Pn="@firebase/database",On="@firebase/data-connect",Mn="@firebase/database-compat",Dn="@firebase/functions",Ln="@firebase/functions-compat",zn="@firebase/installations",Fn="@firebase/installations-compat",Un="@firebase/messaging",$n="@firebase/messaging-compat",Vn="@firebase/performance",Hn="@firebase/performance-compat",Bn="@firebase/remote-config",qn="@firebase/remote-config-compat",Wn="@firebase/storage",Kn="@firebase/storage-compat",Zn="@firebase/firestore",Gn="@firebase/ai",Jn="@firebase/firestore-compat",Yn="firebase",Qn="[DEFAULT]",Xn={[kn]:"fire-core",[_n]:"fire-core-compat",[Cn]:"fire-analytics",[En]:"fire-analytics-compat",[Tn]:"fire-app-check",[In]:"fire-app-check-compat",[Rn]:"fire-auth",[An]:"fire-auth-compat",[Pn]:"fire-rtdb",[On]:"fire-data-connect",[Mn]:"fire-rtdb-compat",[Dn]:"fire-fn",[Ln]:"fire-fn-compat",[zn]:"fire-iid",[Fn]:"fire-iid-compat",[Un]:"fire-fcm",[$n]:"fire-fcm-compat",[Vn]:"fire-perf",[Hn]:"fire-perf-compat",[Bn]:"fire-rc",[qn]:"fire-rc-compat",[Wn]:"fire-gcs",[Kn]:"fire-gcs-compat",[Zn]:"fire-fst",[Jn]:"fire-fst-compat",[Gn]:"fire-vertex","fire-js":"fire-js",[Yn]:"fire-js-all"},ei=new Map,ti=new Map,ri=new Map;function si(e,t){try{e.container.addComponent(t)}catch(r){Sn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,r)}}function ai(e){const t=e.name;if(ri.has(t))return Sn.debug(`There were multiple attempts to register component ${t}.`),!1;ri.set(t,e);for(const r of ei.values())si(r,e);for(const r of ti.values())si(r,e);return!0}function ni(e,t){const r=e.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),e.container.getProvider(t)}function ii(e){return null!=e&&void 0!==e.settings}const oi=new Fa("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class li{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ga("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}const ci="12.1.0";function di(e,t={}){let r=e;if("object"!=typeof t){t={name:t}}const s={name:Qn,automaticDataCollectionEnabled:!0,...t},a=s.name;if("string"!=typeof a||!a)throw oi.create("bad-app-name",{appName:String(a)});if(r||(r=Ta()),!r)throw oi.create("no-options");const n=ei.get(a);if(n){if($a(r,n.options)&&$a(s,n.config))return n;throw oi.create("duplicate-app",{appName:a})}const i=new Qa(a);for(const l of ri.values())i.addComponent(l);const o=new li(r,s,i);return ei.set(a,o),o}function ui(){return Array.from(ei.values())}function hi(e,t,r){let s=Xn[e]??e;r&&(s+=`-${r}`);const a=s.match(/\s|\//),n=t.match(/\s|\//);if(a||n){const e=[`Unable to register library "${s}" with version "${t}":`];return a&&e.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&n&&e.push("and"),n&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Sn.warn(e.join(" "))}ai(new Ga(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}const mi="firebase-heartbeat-store";let pi=null;function fi(){return pi||(pi=function(e,t,{blocked:r,upgrade:s,blocking:a,terminated:n}={}){const i=indexedDB.open(e,t),o=gn(i);return s&&i.addEventListener("upgradeneeded",e=>{s(gn(i.result),e.oldVersion,e.newVersion,gn(i.transaction),e)}),r&&i.addEventListener("blocked",e=>r(e.oldVersion,e.newVersion,e)),o.then(e=>{n&&e.addEventListener("close",()=>n()),a&&e.addEventListener("versionchange",e=>a(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(mi)}catch(r){}}}).catch(e=>{throw oi.create("idb-open",{originalErrorMessage:e.message})})),pi}async function gi(e,t){try{const r=(await fi()).transaction(mi,"readwrite"),s=r.objectStore(mi);await s.put(t,yi(e)),await r.done}catch(r){if(r instanceof za)Sn.warn(r.message);else{const e=oi.create("idb-set",{originalErrorMessage:r?.message});Sn.warn(e.message)}}}function yi(e){return`${e.name}!${e.options.appId}`}class xi{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new bi(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=vi();if(null==this._heartbeatsCache?.heartbeats&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats))return;if(this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,r=e[0].date;for(let s=1;s<e.length;s++)e[s].date<r&&(r=e[s].date,t=s);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Sn.warn(e)}}async getHeartbeatsHeader(){try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==this._heartbeatsCache?.heartbeats||0===this._heartbeatsCache.heartbeats.length)return"";const e=vi(),{heartbeatsToSend:t,unsentEntries:r}=function(e,t=1024){const r=[];let s=e.slice();for(const a of e){const e=r.find(e=>e.agent===a.agent);if(e){if(e.dates.push(a.date),wi(r)>t){e.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),wi(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}(this._heartbeatsCache.heartbeats),s=_a(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Sn.warn(e),""}}}function vi(){return(new Date).toISOString().substring(0,10)}class bi{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!function(){try{return"object"==typeof indexedDB}catch(e){return!1}}()&&new Promise((e,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(s),e(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(r){t(r)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await fi()).transaction(mi),r=await t.objectStore(mi).get(yi(e));return await t.done,r}catch(t){if(t instanceof za)Sn.warn(t.message);else{const e=oi.create("idb-get",{originalErrorMessage:t?.message});Sn.warn(e.message)}}}(this.app);return e?.heartbeats?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return gi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){if(await this._canUseIndexedDBPromise){const t=await this.read();return gi(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}}}function wi(e){return _a(JSON.stringify({version:2,heartbeats:e})).length}var ji;function ki(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}ji="",ai(new Ga("platform-logger",e=>new jn(e),"PRIVATE")),ai(new Ga("heartbeat",e=>new xi(e),"PRIVATE")),hi(kn,Nn,ji),hi(kn,Nn,"esm2020"),hi("fire-js","");const Ni=ki,Si=new Fa("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),_i=new an("@firebase/auth");function Ei(e,...t){_i.logLevel<=Xa.ERROR&&_i.error(`Auth (${ci}): ${e}`,...t)}function Ci(e,...t){throw Ai(e,...t)}function Ii(e,...t){return Ai(e,...t)}function Ti(e,t,r){const s={...Ni(),[t]:r};return new Fa("auth","Firebase",s).create(t,{appName:e.name})}function Ri(e){return Ti(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ai(e,...t){if("string"!=typeof e){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=e.name),e._errorFactory.create(r,...s)}return Si.create(e,...t)}function Pi(e,t,...r){if(!e)throw Ai(t,...r)}function Oi(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Ei(t),new Error(t)}function Mi(e,t){e||Oi(t)}function Di(){return"undefined"!=typeof self&&self.location?.href||""}function Li(){return"undefined"!=typeof self&&self.location?.protocol||null}function zi(){return"undefined"==typeof navigator||!navigator||!("onLine"in navigator)||"boolean"!=typeof navigator.onLine||"http:"!==Li()&&"https:"!==Li()&&!function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}()&&!("connection"in navigator)||navigator.onLine}class Fi{constructor(e,t){this.shortDelay=e,this.longDelay=t,Mi(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(La())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return zi()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ui(e,t){Mi(e.emulator,"Emulator should always be set here");const{url:r}=e.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}class $i{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:"undefined"!=typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!=typeof fetch?fetch:void Oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:"undefined"!=typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!=typeof Headers?Headers:void Oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:"undefined"!=typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!=typeof Response?Response:void Oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Vi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Hi=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bi=new Fi(3e4,6e4);function qi(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Wi(e,t,r,s,a={}){return Ki(e,a,async()=>{let a={},n={};s&&("GET"===t?n=s:a={body:JSON.stringify(s)});const i=Ha({key:e.config.apiKey,...n}).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l={method:t,headers:o,...a};return"undefined"!=typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Pa(e.emulatorConfig.host)&&(l.credentials="include"),$i.fetch()(await Gi(e,e.config.apiHost,r,i),l)})}async function Ki(e,t,r){e._canInitEmulator=!1;const s={...Vi,...t};try{const t=new Yi(e),a=await Promise.race([r(),t.promise]);t.clearNetworkTimeout();const n=await a.json();if("needConfirmation"in n)throw Qi(e,"account-exists-with-different-credential",n);if(a.ok&&!("errorMessage"in n))return n;{const t=a.ok?n.errorMessage:n.error.message,[r,i]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===r)throw Qi(e,"credential-already-in-use",n);if("EMAIL_EXISTS"===r)throw Qi(e,"email-already-in-use",n);if("USER_DISABLED"===r)throw Qi(e,"user-disabled",n);const o=s[r]||r.toLowerCase().replace(/[_\s]+/g,"-");if(i)throw Ti(e,o,i);Ci(e,o)}}catch(a){if(a instanceof za)throw a;Ci(e,"network-request-failed",{message:String(a)})}}async function Zi(e,t,r,s,a={}){const n=await Wi(e,t,r,s,a);return"mfaPendingCredential"in n&&Ci(e,"multi-factor-auth-required",{_serverResponse:n}),n}async function Gi(e,t,r,s){const a=`${t}${r}?${s}`,n=e,i=n.config.emulator?Ui(e.config,a):`${e.config.apiScheme}://${a}`;if(Hi.includes(r)&&(await n._persistenceManagerAvailable,"COOKIE"===n._getPersistenceType())){return n._getPersistence()._getFinalTarget(i).toString()}return i}function Ji(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Ii(this.auth,"network-request-failed")),Bi.get())})}}function Qi(e,t,r){const s={appName:e.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const a=Ii(e,t,s);return a.customData._tokenResponse=r,a}function Xi(e){return void 0!==e&&void 0!==e.enterprise}class eo{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ji(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function to(e,t){return Wi(e,"POST","/v1/accounts:lookup",t)}function ro(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function so(e){return 1e3*Number(e)}function ao(e){const[t,r,s]=e.split(".");if(void 0===t||void 0===r||void 0===s)return Ei("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ea(r);return e?JSON.parse(e):(Ei("Failed to decode base64 JWT payload"),null)}catch(a){return Ei("Caught error parsing JWT payload as JSON",a?.toString()),null}}function no(e){const t=ao(e);return Pi(t,"internal-error"),Pi(void 0!==t.exp,"internal-error"),Pi(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function io(e,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof za&&function({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}(s)&&e.auth.currentUser===e&&await e.auth.signOut(),s}}class oo{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&this.schedule(!0))}this.schedule()}}class lo{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ro(this.lastLoginAt),this.creationTime=ro(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function co(e){const t=e.auth,r=await e.getIdToken(),s=await io(e,to(t,{idToken:r}));Pi(s?.users.length,t,"internal-error");const a=s.users[0];e._notifyReloadListener(a);const n=a.providerUserInfo?.length?uo(a.providerUserInfo):[],i=function(e,t){const r=e.filter(e=>!t.some(t=>t.providerId===e.providerId));return[...r,...t]}(e.providerData,n),o=e.isAnonymous,l=!(e.email&&a.passwordHash||i?.length),c=!!o&&l,d={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:i,metadata:new lo(a.createdAt,a.lastLoginAt),isAnonymous:c};Object.assign(e,d)}function uo(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Pi(e.idToken,"internal-error"),Pi(void 0!==e.idToken,"internal-error"),Pi(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):no(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Pi(0!==e.length,"internal-error");const t=no(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return t||!this.accessToken||this.isExpired?(Pi(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await async function(e,t){const r=await Ki(e,{},async()=>{const r=Ha({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:s,apiKey:a}=e.config,n=await Gi(e,s,"/v1/token",`key=${a}`),i=await e._getAdditionalHeaders();i["Content-Type"]="application/x-www-form-urlencoded";const o={method:"POST",headers:i,body:r};return e.emulatorConfig&&Pa(e.emulatorConfig.host)&&(o.credentials="include"),$i.fetch()(n,o)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,n=new ho;return r&&(Pi("string"==typeof r,"internal-error",{appName:e}),n.refreshToken=r),s&&(Pi("string"==typeof s,"internal-error",{appName:e}),n.accessToken=s),a&&(Pi("number"==typeof a,"internal-error",{appName:e}),n.expirationTime=a),n}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return Oi("not implemented")}}function mo(e,t){Pi("string"==typeof e||void 0===e,"internal-error",{appName:t})}class po{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new oo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new lo(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await io(this,this.stsTokenManager.getToken(this.auth,e));return Pi(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e,t=!1){const r=Za(e),s=await r.getIdToken(t),a=ao(s);Pi(a&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error");const n="object"==typeof a.firebase?a.firebase:void 0,i=n?.sign_in_provider;return{claims:a,token:s,authTime:ro(so(a.auth_time)),issuedAtTime:ro(so(a.iat)),expirationTime:ro(so(a.exp)),signInProvider:i||null,signInSecondFactor:n?.sign_in_second_factor||null}}(this,e)}reload(){return async function(e){const t=Za(e);await co(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Pi(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new po({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Pi(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await co(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ii(this.auth.app))return Promise.reject(Ri(this.auth));const e=await this.getIdToken();return await io(this,async function(e,t){return Wi(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,n=t.photoURL??void 0,i=t.tenantId??void 0,o=t._redirectEventId??void 0,l=t.createdAt??void 0,c=t.lastLoginAt??void 0,{uid:d,emailVerified:u,isAnonymous:h,providerData:m,stsTokenManager:p}=t;Pi(d&&p,e,"internal-error");const f=ho.fromJSON(this.name,p);Pi("string"==typeof d,e,"internal-error"),mo(r,e.name),mo(s,e.name),Pi("boolean"==typeof u,e,"internal-error"),Pi("boolean"==typeof h,e,"internal-error"),mo(a,e.name),mo(n,e.name),mo(i,e.name),mo(o,e.name),mo(l,e.name),mo(c,e.name);const g=new po({uid:d,auth:e,email:s,emailVerified:u,displayName:r,isAnonymous:h,photoURL:n,phoneNumber:a,tenantId:i,stsTokenManager:f,createdAt:l,lastLoginAt:c});return m&&Array.isArray(m)&&(g.providerData=m.map(e=>({...e}))),o&&(g._redirectEventId=o),g}static async _fromIdTokenResponse(e,t,r=!1){const s=new ho;s.updateFromServerResponse(t);const a=new po({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await co(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];Pi(void 0!==s.localId,"internal-error");const a=void 0!==s.providerUserInfo?uo(s.providerUserInfo):[],n=!(s.email&&s.passwordHash||a?.length),i=new ho;i.updateFromIdToken(r);const o=new po({uid:s.localId,auth:e,stsTokenManager:i,isAnonymous:n}),l={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new lo(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash||a?.length)};return Object.assign(o,l),o}}const fo=new Map;function go(e){Mi(e instanceof Function,"Expected a class definition");let t=fo.get(e);return t?(Mi(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,fo.set(e,t),t)}class yo{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yo.type="NONE";const xo=yo;function vo(e,t,r){return`firebase:${e}:${t}:${r}`}class bo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=vo(this.userKey,s.apiKey,a),this.fullPersistenceKey=vo("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"==typeof e){const t=await to(this.auth,{idToken:e}).catch(()=>{});return t?po._fromGetAccountInfoResponse(this.auth,t,e):null}return po._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new bo(go(xo),e,r);const s=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let a=s[0]||go(xo);const n=vo(r,e.config.apiKey,e.name);let i=null;for(const l of t)try{const t=await l._get(n);if(t){let r;if("string"==typeof t){const s=await to(e,{idToken:t}).catch(()=>{});if(!s)break;r=await po._fromGetAccountInfoResponse(e,s,t)}else r=po._fromJSON(e,t);l!==a&&(i=r),a=l;break}}catch{}const o=s.filter(e=>e._shouldAllowMigration);return a._shouldAllowMigration&&o.length?(a=o[0],i&&await a._set(n,i.toJSON()),await Promise.all(t.map(async e=>{if(e!==a)try{await e._remove(n)}catch{}})),new bo(a,e,r)):new bo(a,e,r)}}function wo(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(So(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(jo(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Eo(t))return"Blackberry";if(Co(t))return"Webos";if(ko(t))return"Safari";if((t.includes("chrome/")||No(t))&&!t.includes("edge/"))return"Chrome";if(_o(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(t);if(2===r?.length)return r[1]}return"Other"}function jo(e=La()){return/firefox\//i.test(e)}function ko(e=La()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function No(e=La()){return/crios\//i.test(e)}function So(e=La()){return/iemobile/i.test(e)}function _o(e=La()){return/android/i.test(e)}function Eo(e=La()){return/blackberry/i.test(e)}function Co(e=La()){return/webos/i.test(e)}function Io(e=La()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function To(){return function(){const e=La();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Ro(e=La()){return Io(e)||_o(e)||Co(e)||Eo(e)||/windows phone/i.test(e)||So(e)}function Ao(e,t=[]){let r;switch(e){case"Browser":r=wo(La());break;case"Worker":r=`${wo(La())}-${e}`;break;default:r=e}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${ci}/${s}`}class Po{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=t=>new Promise((r,s)=>{try{r(e(t))}catch(a){s(a)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const e of t)try{e()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}class Oo{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??6,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),void 0!==t.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),void 0!==t.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),void 0!==t.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),void 0!==t.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Mo{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lo(this),this.idTokenSubscription=new Lo(this),this.beforeStateQueue=new Po(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Si,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=go(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(r){}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void(await this.currentUser.getIdToken())):void(await this._updateCurrentUser(e,!0)):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await to(this,{idToken:e}),r=await po._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ii(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const t=this.redirectUser?._redirectEventId,a=r?._redirectEventId,n=await this.tryRedirectSignIn(e);t&&t!==a||!n?.user||(r=n.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Pi(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await co(e)}catch(t){if("auth/network-request-failed"!==t?.code)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ii(this.app))return Promise.reject(Ri(this));const t=e?Za(e):null;return t&&Pi(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Pi(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ii(this.app)?Promise.reject(Ri(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ii(this.app)?Promise.reject(Ri(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(go(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e,t={}){return Wi(e,"GET","/v2/passwordPolicy",qi(e,t))}(this),t=new Oo(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fa("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Wi(e,"POST","/v2/accounts:revokeToken",qi(e,t))}(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&go(e)||this._popupRedirectResolver;Pi(t,this,"argument-error"),this.redirectPersistenceManager=await bo.create(this,[go(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t);let n=!1;const i=this._isInitialized?Promise.resolve():this._initializationPromise;if(Pi(i,this,"internal-error"),i.then(()=>{n||a(this.currentUser)}),"function"==typeof t){const a=e.addObserver(t,r,s);return()=>{n=!0,a()}}{const r=e.addObserver(t);return()=>{n=!0,r()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Pi(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ao(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await(this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ii(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await(this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken());return e?.error&&function(e,...t){_i.logLevel<=Xa.WARN&&_i.warn(`Auth (${ci}): ${e}`,...t)}(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Do(e){return Za(e)}class Lo{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const r=new Wa(e,t);return r.subscribe.bind(r)}(e=>this.observer=e)}get next(){return Pi(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let zo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Fo(e){return zo.loadJS(e)}class Uo{constructor(){this.enterprise=new $o}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $o{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Vo="NO_RECAPTCHA";class Ho{constructor(e){this.type="recaptcha-enterprise",this.auth=Do(e)}async verify(e="verify",t=!1){async function r(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,r)=>{(async function(e,t){return Wi(e,"GET","/v2/recaptchaConfig",qi(e,t))})(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(s=>{if(void 0!==s.recaptchaKey){const r=new eo(s);return null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,t(r.siteKey)}r(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{r(e)})})}function s(t,r,s){const a=window.grecaptcha;Xi(a)?a.enterprise.ready(()=>{a.enterprise.execute(t,{action:e}).then(e=>{r(e)}).catch(()=>{r(Vo)})}):s(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Uo).execute("siteKey",{action:"verify"})}return new Promise((e,a)=>{r(this.auth).then(r=>{if(!t&&Xi(window.grecaptcha))s(r,e,a);else{if("undefined"==typeof window)return void a(new Error("RecaptchaVerifier is only supported in browser"));let t=zo.recaptchaEnterpriseScript;0!==t.length&&(t+=r),Fo(t).then(()=>{s(r,e,a)}).catch(e=>{a(e)})}}).catch(e=>{a(e)})})}}async function Bo(e,t,r,s=!1,a=!1){const n=new Ho(e);let i;if(a)i=Vo;else try{i=await n.verify(r)}catch(l){i=await n.verify(r,!0)}const o={...t};if("mfaSmsEnrollment"===r||"mfaSmsSignIn"===r){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:i,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return s?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function qo(e,t,r,s,a){if(e._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Bo(e,t,r,"getOobCode"===r);return s(e,a)}return s(e,t).catch(async a=>{if("auth/missing-recaptcha-token"===a.code){const a=await Bo(e,t,r,"getOobCode"===r);return s(e,a)}return Promise.reject(a)})}function Wo(e,t,r){const s=Do(e);Pi(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const a=Ko(t),{host:n,port:i}=function(e){const t=Ko(e),r=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(s);if(a){const e=a[1];return{host:e,port:Zo(s.substr(e.length+1))}}{const[e,t]=s.split(":");return{host:e,port:Zo(t)}}}(t),o=null===i?"":`:${i}`,l={url:`${a}//${n}${o}/`},c=Object.freeze({host:n,port:i,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:!1})});if(!s._canInitEmulator)return Pi(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),void Pi($a(l,s.config.emulator)&&$a(c,s.emulatorConfig),s,"emulator-config-failed");s.config.emulator=l,s.emulatorConfig=c,s.settings.appVerificationDisabledForTesting=!0,Pa(n)?(!async function(e){(await fetch(e,{credentials:"include"})).ok}(`${a}//${n}${o}`),Da("Auth",!0)):function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&console.info;"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ko(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Zo(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Go{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Oi("not implemented")}_getIdTokenResponse(e){return Oi("not implemented")}_linkToIdToken(e,t){return Oi("not implemented")}_getReauthenticationResolver(e){return Oi("not implemented")}}async function Jo(e,t){return Wi(e,"POST","/v1/accounts:signUp",t)}async function Yo(e,t){return Zi(e,"POST","/v1/accounts:signInWithPassword",qi(e,t))}async function Qo(e,t){return async function(e,t){return Wi(e,"POST","/v1/accounts:sendOobCode",qi(e,t))}(e,t)}class Xo extends Go{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new Xo(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Xo(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return qo(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Yo);case"emailLink":return async function(e,t){return Zi(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return qo(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Jo);case"emailLink":return async function(e,t){return Zi(e,"POST","/v1/accounts:signInWithEmailLink",qi(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ci(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function el(e,t){return Zi(e,"POST","/v1/accounts:signInWithIdp",qi(e,t))}class tl extends Go{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new tl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ci("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const n=new tl(r,s);return n.idToken=a.idToken||void 0,n.accessToken=a.accessToken||void 0,n.secret=a.secret,n.nonce=a.nonce,n.pendingToken=a.pendingToken||null,n}_getIdTokenResponse(e){return el(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,el(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ha(t)}return e}}class rl{constructor(e){const t=Ba(qa(e)),r=t.apiKey??null,s=t.oobCode??null,a=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(t.mode??null);Pi(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=function(e){const t=Ba(qa(e)).link,r=t?Ba(qa(t)).deep_link_id:null,s=Ba(qa(e)).deep_link_id;return(s?Ba(qa(s)).link:null)||s||r||t||e}(e);try{return new rl(t)}catch{return null}}}class sl{constructor(){this.providerId=sl.PROVIDER_ID}static credential(e,t){return Xo._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=rl.parseLink(t);return Pi(r,"argument-error"),Xo._fromEmailAndCode(e,r.code,r.tenantId)}}sl.PROVIDER_ID="password",sl.EMAIL_PASSWORD_SIGN_IN_METHOD="password",sl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class al{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class nl extends al{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class il extends nl{constructor(){super("facebook.com")}static credential(e){return tl._fromParams({providerId:il.PROVIDER_ID,signInMethod:il.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return il.credentialFromTaggedObject(e)}static credentialFromError(e){return il.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return il.credential(e.oauthAccessToken)}catch{return null}}}il.FACEBOOK_SIGN_IN_METHOD="facebook.com",il.PROVIDER_ID="facebook.com";class ol extends nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return tl._fromParams({providerId:ol.PROVIDER_ID,signInMethod:ol.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ol.credentialFromTaggedObject(e)}static credentialFromError(e){return ol.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return ol.credential(t,r)}catch{return null}}}ol.GOOGLE_SIGN_IN_METHOD="google.com",ol.PROVIDER_ID="google.com";class ll extends nl{constructor(){super("github.com")}static credential(e){return tl._fromParams({providerId:ll.PROVIDER_ID,signInMethod:ll.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ll.credentialFromTaggedObject(e)}static credentialFromError(e){return ll.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e))return null;if(!e.oauthAccessToken)return null;try{return ll.credential(e.oauthAccessToken)}catch{return null}}}ll.GITHUB_SIGN_IN_METHOD="github.com",ll.PROVIDER_ID="github.com";class cl extends nl{constructor(){super("twitter.com")}static credential(e,t){return tl._fromParams({providerId:cl.PROVIDER_ID,signInMethod:cl.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cl.credentialFromTaggedObject(e)}static credentialFromError(e){return cl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return cl.credential(t,r)}catch{return null}}}async function dl(e,t){return Zi(e,"POST","/v1/accounts:signUp",qi(e,t))}cl.TWITTER_SIGN_IN_METHOD="twitter.com",cl.PROVIDER_ID="twitter.com";class ul{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await po._fromIdTokenResponse(e,r,s),n=hl(r);return new ul({user:a,providerId:n,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=hl(r);return new ul({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function hl(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ml extends za{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ml.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new ml(e,t,r,s)}}function pl(e,t,r,s){return("reauthenticate"===t?r._getReauthenticationResolver(e):r._getIdTokenResponse(e)).catch(r=>{if("auth/multi-factor-auth-required"===r.code)throw ml._fromErrorAndOperation(e,r,t,s);throw r})}async function fl(e,t,r=!1){if(ii(e.app))return Promise.reject(Ri(e));const s="signIn",a=await pl(e,s,t),n=await ul._fromIdTokenResponse(e,s,a);return r||await e._updateCurrentUser(n.user),n}async function gl(e){const t=Do(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function yl(e,t,r){return ii(e.app)?Promise.reject(Ri(e)):async function(e,t){return fl(Do(e),t)}(Za(e),sl.credential(t,r)).catch(async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&gl(e),t})}const xl="__sak";class vl{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(xl,"1"),this.storage.removeItem(xl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class bl extends vl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ro(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,r)=>{this.notifyListeners(e,r)});const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const e=this.storage.getItem(r);(t||this.localCache[r]!==e)&&this.notifyListeners(r,e)},a=this.storage.getItem(r);To()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,10):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bl.type="LOCAL";const wl=bl;class jl extends vl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}jl.type="SESSION";const kl=jl;class Nl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const r=new Nl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,n=this.handlersMap[s];if(!n?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const i=Array.from(n).map(async e=>e(t.origin,a)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(i);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Sl(e="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(10*Math.random());return e+r}Nl.receivers=[];class _l{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,n;return new Promise((i,o)=>{const l=Sl("",20);s.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},r);n={messageChannel:s,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),a=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),i(t.data.response);break;default:clearTimeout(c),clearTimeout(a),o(new Error("invalid_response"))}}},this.handlers.add(n),s.port1.addEventListener("message",n.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[s.port2])}).finally(()=>{n&&this.removeMessageHandler(n)})}}function El(){return window}function Cl(){return void 0!==El().WorkerGlobalScope&&"function"==typeof El().importScripts}const Il="firebaseLocalStorageDb",Tl="firebaseLocalStorage",Rl="fbase_key";class Al{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Pl(e,t){return e.transaction([Tl],t?"readwrite":"readonly").objectStore(Tl)}function Ol(){const e=indexedDB.open(Il,1);return new Promise((t,r)=>{e.addEventListener("error",()=>{r(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Tl,{keyPath:Rl})}catch(s){r(s)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(Tl)?t(r):(r.close(),await function(){const e=indexedDB.deleteDatabase(Il);return new Al(e).toPromise()}(),t(await Ol()))})})}async function Ml(e,t,r){const s=Pl(e,!0).put({[Rl]:t,value:r});return new Al(s).toPromise()}function Dl(e,t){const r=Pl(e,!0).delete(t);return new Al(r).toPromise()}class Ll{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Ol()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(r){if(t++>3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cl()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nl._getInstance(Cl()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await async function(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}(),!this.activeServiceWorker)return;this.sender=new _l(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&(navigator?.serviceWorker?.controller||null)===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ol();return await Ml(e,xl,"1"),await Dl(e,xl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ml(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const r=Pl(e,!1).get(t),s=await new Al(r).toPromise();return void 0===s?null:s.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Dl(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Pl(e,!1).getAll();return new Al(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],r=new Set;if(0!==e.length)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ll.type="LOCAL";const zl=Ll;function Fl(e,t){return t?go(t):(Pi(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}new Fi(3e4,6e4);class Ul extends Go{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $l(e){return fl(e.auth,new Ul(e),e.bypassAuthState)}function Vl(e){const{auth:t,user:r}=e;return Pi(r,t,"internal-error"),async function(e,t,r=!1){const{auth:s}=e;if(ii(s.app))return Promise.reject(Ri(s));const a="reauthenticate";try{const n=await io(e,pl(s,a,t,e),r);Pi(n.idToken,s,"internal-error");const i=ao(n.idToken);Pi(i,s,"internal-error");const{sub:o}=i;return Pi(e.uid===o,s,"user-mismatch"),ul._forOperation(e,a,n)}catch(n){throw"auth/user-not-found"===n?.code&&Ci(s,"user-mismatch"),n}}(r,new Ul(e),e.bypassAuthState)}async function Hl(e){const{auth:t,user:r}=e;return Pi(r,t,"internal-error"),async function(e,t,r=!1){const s=await io(e,t._linkToIdToken(e.auth,await e.getIdToken()),r);return ul._forOperation(e,"link",s)}(r,new Ul(e),e.bypassAuthState)}class Bl{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:n,type:i}=e;if(n)return void this.reject(n);const o={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(i)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $l;case"linkViaPopup":case"linkViaRedirect":return Hl;case"reauthViaPopup":case"reauthViaRedirect":return Vl;default:Ci(this.auth,"internal-error")}}resolve(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ql=new Fi(2e3,1e4);async function Wl(e,t,r){if(ii(e.app))return Promise.reject(Ii(e,"operation-not-supported-in-this-environment"));const s=Do(e);!function(e,t,r){if(!(t instanceof r))throw r.name!==t.constructor.name&&Ci(e,"argument-error"),Ti(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(e,t,al);const a=Fl(s,r);return new Kl(s,"signInViaPopup",t,a).executeNotNull()}class Kl extends Bl{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Kl.currentPopupAction&&Kl.currentPopupAction.cancel(),Kl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Pi(e,this.auth,"internal-error"),e}async onExecution(){Mi(1===this.filter.length,"Popup operations only handle one event");const e=Sl();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kl.currentPopupAction=null}pollUserCancellation(){const e=()=>{this.authWindow?.window?.closed?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,ql.get())};e()}}Kl.currentPopupAction=null;const Zl="pendingRedirect",Gl=new Map;class Jl extends Bl{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Gl.get(this.auth._key());if(!e){try{const t=await async function(e,t){const r=function(e){return vo(Zl,e.config.apiKey,e.name)}(t),s=function(e){return go(e._redirectPersistence)}(e);if(!(await s._isAvailable()))return!1;const a="true"===await s._get(r);return await s._remove(r),a}(this.resolver,this.auth),r=t?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Gl.set(this.auth._key(),e)}return this.bypassAuthState||Gl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Yl(e,t){Gl.set(e._key(),t)}async function Ql(e,t,r=!1){if(ii(e.app))return Promise.reject(Ri(e));const s=Do(e),a=Fl(s,t),n=new Jl(s,a,r),i=await n.execute();return i&&!r&&(delete i.user._redirectEventId,await s._persistUserIfCurrent(i.user),await s._setRedirectUser(null,t)),i}class Xl{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return tc(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!tc(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Ii(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ec(e))}saveEventToCache(e){this.cachedEventUids.add(ec(e)),this.lastProcessedEventTime=Date.now()}}function ec(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function tc({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===t?.code}const rc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sc=/^https?/;async function ac(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e,t={}){return Wi(e,"GET","/v1/projects",t)}(e);for(const r of t)try{if(nc(r))return}catch{}Ci(e,"unauthorized-domain")}function nc(e){const t=Di(),{protocol:r,hostname:s}=new URL(t);if(e.startsWith("chrome-extension://")){const a=new URL(e);return""===a.hostname&&""===s?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===s}if(!sc.test(r))return!1;if(rc.test(e))return s===e;const a=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(s)}const ic=new Fi(3e4,6e4);function oc(){const e=El().___jsl;if(e?.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let r=0;r<e.CP.length;r++)e.CP[r]=null}function lc(e){return new Promise((t,r)=>{function s(){oc(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oc(),r(Ii(e,"network-request-failed"))},timeout:ic.get()})}if(El().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else{if(!El().gapi?.load){const t=`__${"iframefcb"}${Math.floor(1e6*Math.random())}`;return El()[t]=()=>{gapi.load?s():r(Ii(e,"network-request-failed"))},Fo(`${zo.gapiScript}?onload=${t}`).catch(e=>r(e))}s()}}).catch(e=>{throw cc=null,e})}let cc=null;const dc=new Fi(5e3,15e3),uc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hc=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mc(e){const t=e.config;Pi(t.authDomain,e,"auth-domain-config-required");const r=t.emulator?Ui(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,s={apiKey:t.apiKey,appName:e.name,v:ci},a=hc.get(e.config.apiHost);a&&(s.eid=a);const n=e._getFrameworks();return n.length&&(s.fw=n.join(",")),`${r}?${Ha(s).slice(1)}`}async function pc(e){const t=await function(e){return cc=cc||lc(e),cc}(e),r=El().gapi;return Pi(r,e,"internal-error"),t.open({where:document.body,url:mc(e),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:uc,dontclear:!0},t=>new Promise(async(r,s)=>{await t.restyle({setHideOnLeave:!1});const a=Ii(e,"network-request-failed"),n=El().setTimeout(()=>{s(a)},dc.get());function i(){El().clearTimeout(n),r(t)}t.ping(i).then(i,()=>{s(a)})}))}const fc={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gc{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function yc(e,t,r,s=500,a=600){const n=Math.max((window.screen.availHeight-a)/2,0).toString(),i=Math.max((window.screen.availWidth-s)/2,0).toString();let o="";const l={...fc,width:s.toString(),height:a.toString(),top:n,left:i},c=La().toLowerCase();r&&(o=No(c)?"_blank":r),jo(c)&&(t=t||"http://localhost",l.scrollbars="yes");const d=Object.entries(l).reduce((e,[t,r])=>`${e}${t}=${r},`,"");if(function(e=La()){return Io(e)&&!!window.navigator?.standalone}(c)&&"_self"!==o)return function(e,t){const r=document.createElement("a");r.href=e,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}(t||"",o),new gc(null);const u=window.open(t||"",o,d);Pi(u,e,"popup-blocked");try{u.focus()}catch(h){}return new gc(u)}const xc="__/auth/handler",vc="emulator/auth/handler",bc=encodeURIComponent("fac");async function wc(e,t,r,s,a,n){Pi(e.config.authDomain,e,"auth-domain-config-required"),Pi(e.config.apiKey,e,"invalid-api-key");const i={apiKey:e.config.apiKey,appName:e.name,authType:r,redirectUrl:s,v:ci,eventId:a};if(t instanceof al){t.setDefaultLanguage(e.languageCode),i.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(i.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries({}))i[e]=t}if(t instanceof nl){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(i.scopes=e.join(","))}e.tenantId&&(i.tid=e.tenantId);const o=i;for(const d of Object.keys(o))void 0===o[d]&&delete o[d];const l=await e._getAppCheckToken(),c=l?`#${bc}=${encodeURIComponent(l)}`:"";return`${function({config:e}){if(!e.emulator)return`https://${e.authDomain}/${xc}`;return Ui(e,vc)}(e)}?${Ha(o).slice(1)}${c}`}const jc="webStorageSupport";const kc=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kl,this._completeRedirectFn=Ql,this._overrideRedirectResult=Yl}async _openPopup(e,t,r,s){Mi(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");return yc(e,await wc(e,t,r,Di(),s),Sl())}async _openRedirect(e,t,r,s){await this._originValidation(e);return function(e){El().location.href=e}(await wc(e,t,r,Di(),s)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:r}=this.eventManagers[t];return e?Promise.resolve(e):(Mi(r,"If manager is not set, promise should be"),r)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await pc(e),r=new Xl(e);return t.register("authEvent",t=>{Pi(t?.authEvent,e,"invalid-auth-event");return{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(jc,{type:jc},r=>{const s=r?.[0]?.[jc];void 0!==s&&t(!!s),Ci(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ac(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Ro()||ko()||Io()}};var Nc="@firebase/auth",Sc="1.11.0";class _c{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Pi(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ec=Ra("authIdTokenMaxAge")||300;let Cc=null;var Ic;zo={loadJS:e=>new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",e),s.onload=t,s.onerror=e=>{const t=Ii("internal-error");t.customData=e,r(t)},s.type="text/javascript",s.charset="UTF-8",(document.getElementsByTagName("head")?.[0]??document).appendChild(s)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Ic="Browser",ai(new Ga("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:n,authDomain:i}=r.options;Pi(n&&!n.includes(":"),"invalid-api-key",{appName:r.name});const o={apiKey:n,authDomain:i,clientPlatform:Ic,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ao(Ic)},l=new Mo(r,s,a,o);return function(e,t){const r=t?.persistence||[],s=(Array.isArray(r)?r:[r]).map(go);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(s,t?.popupRedirectResolver)}(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ai(new Ga("auth-internal",e=>(e=>new _c(e))(Do(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),hi(Nc,Sc,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ic)),hi(Nc,Sc,"esm2020");hi("firebase","12.1.0","app");const Tc={apiKey:"AIzaSyAJ-ZRi3GUVHUaM0p5vbbRB8NoqV4b_VvM",authDomain:"bubbles-cafe.firebaseapp.com",projectId:"bubbles-cafe",storageBucket:"bubbles-cafe.appspot.com",appId:"1:870151001940:web:f11d39b75764457a91ac1"};let Rc=null,Ac=null,Pc=null;try{Rc=0===ui().length?di(Tc):ui()[0],Ac=function(e=function(e=Qn){const t=ei.get(e);if(!t&&e===Qn&&Ta())return di();if(!t)throw oi.create("no-app",{appName:e});return t}()){const t=ni(e,"auth");if(t.isInitialized())return t.getImmediate();const r=function(e,t){const r=ni(e,"auth");if(r.isInitialized()){const e=r.getImmediate();if($a(r.getOptions(),t??{}))return e;Ci(e,"already-initialized")}return r.initialize({options:t})}(e,{popupRedirectResolver:kc,persistence:[zl,wl,kl]}),s=Ra("authTokenSyncURL");if(s&&"boolean"==typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=(a=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),r=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ec)return;const s=t?.token;Cc!==s&&(Cc=s,await fetch(a,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});!function(e,t,r){Za(e).beforeAuthStateChanged(t,r)}(r,t,()=>t(r.currentUser)),function(e,t,r,s){Za(e).onIdTokenChanged(t,r,s)}(r,e=>t(e))}}var a;const n=(i="auth",Ia()?.emulatorHosts?.[i]);var i;return n&&Wo(r,`http://${n}`),r}(Rc),Pc=new ol}catch(vN){}if(Pc)try{Pc.setCustomParameters({prompt:"select_account"})}catch(vN){}const Oc=async()=>{try{if(!Ac||!Pc)throw new Error("Google sign-in is not available. Firebase authentication not properly initialized.");const e=await Wl(Ac,Pc);if(!e.user)throw new Error("No user data returned from Google sign-in");return e}catch(vN){if("auth/popup-blocked"===vN.code)throw new Error("Pop-up blocked. Please allow pop-ups for this site and try again.");if("auth/popup-closed-by-user"===vN.code)throw new Error("Sign-in was cancelled by user.");if("auth/network-request-failed"===vN.code)throw new Error("Network error. Please check your internet connection.");if("auth/internal-error"===vN.code)throw new Error("Authentication service temporarily unavailable. Please try again.");throw vN}},Mc=(e,t)=>{if(!Ac)throw new Error("Firebase auth not initialized");return async function(e,t,r){if(ii(e.app))return Promise.reject(Ri(e));const s=Do(e),a=qo(s,{returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dl),n=await a.catch(t=>{throw"auth/password-does-not-meet-requirements"===t.code&&gl(e),t}),i=await ul._fromIdTokenResponse(s,"signIn",n);return await s._updateCurrentUser(i.user),i}(Ac,e,t)},Dc=()=>{if(!Ac)throw new Error("Firebase auth not initialized");return function(e){return Za(e).signOut()}(Ac)},Lc=e=>{if(!Ac)throw new Error("Firebase auth not initialized");return async function(e,t){const r=Do(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};await qo(r,s,"getOobCode",Qo)}(Ac,e)},zc=re.createContext(void 0);function Fc({children:t}){const[r,s]=re.useState(null),[a,n]=re.useState(null),[i,o]=re.useState(!0),{toast:l}=Bs(),c=async e=>{try{const t=await fetch("/api/auth/firebase-sync",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({uid:e.uid,email:e.email,fullName:e.displayName,avatar:e.photoURL})});if(t.ok){const e=await t.json();s(e.user)}}catch(vN){}};re.useEffect(()=>{if(!Ac)return void o(!1);const e=function(e,t,r,s){return Za(e).onAuthStateChanged(t,r,s)}(Ac,async e=>{n(e),e?await c(e):s(null),o(!1)});return()=>e()},[]);const d={user:r,firebaseUser:a,isAuthenticated:!!r,isLoading:i,signInWithGoogle:async()=>{o(!0);try{return await Oc()}catch(vN){throw l({title:"Sign In Error",description:vN.message,variant:"destructive"}),vN}finally{o(!1)}},signInWithEmailPassword:async(e,t)=>{o(!0);try{const r=await((e,t)=>{if(!Ac)throw new Error("Firebase auth not initialized");return yl(Ac,e,t)})(e,t);return r}catch(vN){throw l({title:"Sign In Error",description:vN.message,variant:"destructive"}),vN}finally{o(!1)}},signUpWithEmailPassword:async(e,t)=>{o(!0);try{return await Mc(e,t)}catch(vN){throw l({title:"Sign Up Error",description:vN.message,variant:"destructive"}),vN}finally{o(!1)}},signOut:async()=>{try{await Dc(),s(null),n(null),await fetch("/api/auth/logout",{method:"POST"}),l({title:"Signed Out",description:"You have been successfully signed out"})}catch(vN){l({title:"Sign Out Error",description:vN.message,variant:"destructive"})}},sendPasswordReset:async e=>{try{await Lc(e),l({title:"Password Reset Sent",description:"Check your email for password reset instructions"})}catch(vN){throw l({title:"Password Reset Error",description:vN.message,variant:"destructive"}),vN}},syncWithBackend:c};return e.jsx(zc.Provider,{value:d,children:t})}function Uc({children:t}){return e.jsx(Fc,{children:t})}const $c="cookieConsent",Vc="cookieConsentExpiry",Hc=7776e6,Bc=6048e5,qc={essential:!0,functional:!1,analytics:!1,performance:!1,marketing:!1,lastUpdated:(new Date).toISOString()};function Wc(){if("undefined"==typeof window||"undefined"==typeof localStorage)return qc;try{const t=localStorage.getItem($c);if(!t)return qc;let r;try{r=JSON.parse(t)}catch(e){return localStorage.removeItem($c),qc}return r&&"object"==typeof r?{...qc,...r,essential:!0}:(localStorage.removeItem($c),qc)}catch(vN){try{localStorage.removeItem($c)}catch(t){}return qc}}function Kc(e){if("essential"===e)return!0;return!0===Wc()[e]}function Zc(e){if("undefined"!=typeof window&&"undefined"!=typeof localStorage)try{const t={...Wc(),...e,essential:!0,lastUpdated:(new Date).toISOString()};localStorage.setItem($c,JSON.stringify(t));const r=t.functional||t.analytics||t.performance||t.marketing?Hc:Bc,s=new Date(Date.now()+r).toISOString();localStorage.setItem(Vc,s)}catch(vN){}}function Gc(){if("undefined"==typeof window||"undefined"==typeof localStorage)return!0;try{const t=localStorage.getItem(Vc);if(!t)return!0;try{const e=new Date(t);return new Date>e}catch(e){return localStorage.removeItem(Vc),!0}}catch(vN){return!0}}function Jc(){if("undefined"==typeof window||"undefined"==typeof localStorage)return!1;try{const t=localStorage.getItem($c);if(Gc())return localStorage.removeItem($c),localStorage.removeItem(Vc),!1;if(t)try{const e=JSON.parse(t);return e&&"object"==typeof e&&(void 0!==e.essential||void 0!==e.functional||void 0!==e.analytics)}catch(e){return localStorage.removeItem($c),localStorage.removeItem(Vc),!1}return!1}catch(vN){return!1}}function Yc(e,t="/"){if("undefined"!=typeof window&&"undefined"!=typeof document)try{document.cookie=`${encodeURIComponent(e)}=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=${t}; SameSite=Lax`}catch(vN){}}function Qc(){if("undefined"!=typeof window&&"undefined"!=typeof document)try{if(!document.cookie)return;const r=document.cookie.split(";"),s=["session","csrftoken","cookieConsent","connect.sid","XSRF-TOKEN","JSESSIONID","sessionid"];for(const a of r)try{const t=a.indexOf("=");if(-1===t)continue;const r=a.substring(0,t).trim();let n;try{n=decodeURIComponent(r)}catch(e){n=r}s.includes(n)||Yc(n)}catch(t){}}catch(vN){}}const Xc={consentGiven:!1,showConsentBanner:!1,cookiePreferences:{essential:!0,functional:!1,analytics:!1,performance:!1,marketing:!1,lastUpdated:(new Date).toISOString()},acceptAll:()=>{},acceptEssentialOnly:()=>{},toggleCategory:()=>{},updatePreferences:()=>{},isCategoryAllowed:()=>!0,allCookies:{},openPreferencesModal:()=>{},closePreferencesModal:()=>{},isPreferencesModalOpen:!1},ed=re.createContext(Xc),td=({children:t})=>{const[r,s]=re.useState(Wc()),[a,n]=re.useState(!1),[i,o]=re.useState(!1);re.useEffect(()=>{try{const e=Jc();"/cookie-test"===window.location.pathname?(localStorage.removeItem($c),localStorage.removeItem(Vc),n(!0)):Gc()?n(!0):n(!e),s(Wc());const t=e=>{if(e.key===$c||e.key===Vc){s(Wc());const e=Jc()&&!Gc();n(!e)}};return window.addEventListener("storage",t),()=>window.removeEventListener("storage",t)}catch(vN){n(!0)}},[]);const l=function(){if("undefined"==typeof window||"undefined"==typeof document)return{};try{const r={};if(!document.cookie)return r;const s=document.cookie.split(";");for(const a of s)if(a.trim())try{const t=a.indexOf("=");if(-1===t){const e=a.trim();r[decodeURIComponent(e)]="";continue}const s=a.substring(0,t).trim(),n=a.substring(t+1).trim();let i,o;try{i=decodeURIComponent(s)}catch(e){i=s}try{o=n?decodeURIComponent(n):""}catch(e){o=n||""}r[i]=o}catch(t){}return r}catch(vN){return{}}}(),c={consentGiven:Jc()&&!Gc(),showConsentBanner:a,cookiePreferences:r,acceptAll:()=>{try{!function(){if("undefined"!=typeof window&&"undefined"!=typeof localStorage)try{const e={essential:!0,functional:!0,analytics:!0,performance:!0,marketing:!0,lastUpdated:(new Date).toISOString()};localStorage.setItem($c,JSON.stringify(e));const t=new Date(Date.now()+Hc).toISOString();localStorage.setItem(Vc,t)}catch(vN){}}(),s(Wc()),n(!1)}catch(vN){}},acceptEssentialOnly:()=>{try{!function(){if("undefined"!=typeof window&&"undefined"!=typeof localStorage)try{localStorage.setItem($c,JSON.stringify(qc));const e=new Date(Date.now()+Bc).toISOString();localStorage.setItem(Vc,e)}catch(vN){}}(),Qc(),s(Wc()),n(!1)}catch(vN){}},toggleCategory:e=>{try{if("essential"===e)return;const t=!r[e];Zc({[e]:t}),s(Wc()),t||Qc()}catch(vN){}},updatePreferences:e=>{try{Zc(e),s(Wc())}catch(vN){}},isCategoryAllowed:Kc,allCookies:l,openPreferencesModal:()=>{o(!0)},closePreferencesModal:()=>{o(!1)},isPreferencesModalOpen:i};return e.jsx(ed.Provider,{value:c,children:t})};function rd(){return re.useContext(ed)}function sd(){const{showConsentBanner:t,acceptAll:r,acceptEssentialOnly:s}=rd();if(!t)return null;return e.jsx(ge.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.5,ease:[.4,0,.2,1],y:{type:"spring",stiffness:300,damping:30}},className:"fixed inset-0 flex items-start justify-center pt-[25vh] z-50 bg-background/80 backdrop-blur-sm pointer-events-auto",role:"dialog","aria-modal":"true","aria-labelledby":"cookie-consent-title","aria-describedby":"cookie-consent-description",children:e.jsxs("div",{className:"max-w-[300px] w-full mx-auto bg-card rounded-lg shadow-xl border border-border/50 p-6 space-y-4",children:[e.jsx("div",{className:"flex justify-center relative",children:e.jsxs("svg",{className:"w-[50px] h-[50px] transition-all duration-300 hover:rotate-12 hover:scale-110",viewBox:"0 0 122.88 122.25",children:[e.jsx("path",{d:"M101.77,49.38c2.09,3.1,4.37,5.11,6.86,5.78c2.45,0.66,5.32,0.06,8.7-2.01c1.36-0.84,3.14-0.41,3.97,0.95c0.28,0.46,0.42,0.96,0.43,1.47c0.13,1.4,0.21,2.82,0.24,4.26c0.03,1.46,0.02,2.91-0.05,4.35h0v0c0,0.13-0.01,0.26-0.03,0.38c-0.91,16.72-8.47,31.51-20,41.93c-11.55,10.44-27.06,16.49-43.82,15.69v0.01h0c-0.13,0-0.26-0.01-0.38-0.03c-16.72-0.91-31.51-8.47-41.93-20C5.31,90.61-0.73,75.1,0.07,58.34H0.07v0c0-0.13,0.01-0.26,0.03-0.38C1,41.22,8.81,26.35,20.57,15.87C32.34,5.37,48.09-0.73,64.85,0.07V0.07h0c1.6,0,2.89,1.29,2.89,2.89c0,0.4-0.08,0.78-0.23,1.12c-1.17,3.81-1.25,7.34-0.27,10.14c0.89,2.54,2.7,4.51,5.41,5.52c1.44,0.54,2.2,2.1,1.74,3.55l0.01,0c-1.83,5.89-1.87,11.08-0.52,15.26c0.82,2.53,2.14,4.69,3.88,6.4c1.74,1.72,3.9,3,6.39,3.78c4.04,1.26,8.94,1.18,14.31-0.55C99.73,47.78,101.08,48.3,101.77,49.38L101.77,49.38z",className:"fill-[#C4A484]"}),e.jsx("circle",{cx:"45",cy:"25",r:"6",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"92",cy:"42",r:"5",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"35",cy:"68",r:"7",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"73",cy:"55",r:"4",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"58",cy:"82",r:"5",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"25",cy:"45",r:"4",className:"fill-[#3D1C02]"}),e.jsx("circle",{cx:"82",cy:"75",r:"3",className:"fill-[#3D1C02]"})]})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("h2",{id:"cookie-consent-title",className:"text-xl font-bold text-foreground",children:"We use cookies"}),e.jsxs("p",{id:"cookie-consent-description",className:"text-sm text-muted-foreground",children:["This website uses cookies to enhance your experience. By continuing to use this site, you agree to our"," ",e.jsx(ne,{href:"/privacy",className:"underline hover:text-foreground",children:"privacy policy"}),"."]}),e.jsx("p",{className:"text-xs text-muted-foreground/80",children:"Accept: won't show for 3 months  Decline: won't show for 1 week"})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsx("button",{onClick:()=>{r()},className:qs("px-6 py-2 rounded-full bg-primary text-primary-foreground font-medium","transition-all duration-300 hover:opacity-90 hover:scale-105 hover:shadow-lg hover:shadow-primary/20"),children:"Accept"}),e.jsx("button",{onClick:()=>{s()},className:qs("px-6 py-2 rounded-full bg-muted text-muted-foreground font-medium","transition-all duration-300 hover:bg-muted/80 hover:scale-105 hover:shadow-lg"),children:"Decline"})]})]})})}const ad=ue("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus:ring-2 focus:ring-ring focus:ring-offset-1 focus:outline-none disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 data-[loading=true]:loading",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-[#444444] dark:bg-[#333333] text-white dark:text-white hover:bg-[#505050] dark:hover:bg-[#3f3f3f]",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline",charcoal:"bg-[#121212] dark:bg-[#121212] text-white dark:text-white hover:bg-[#1a1a1a] dark:hover:bg-[#1a1a1a]"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),nd=re.forwardRef(({className:t,variant:s,size:a,asChild:n=!1,noOutline:i=!1,children:o,...l},c)=>{const d=n?r:"button",u=Boolean(l["aria-label"]),h="string"==typeof o?o:void 0,m="true"===l["data-loading"],p=Boolean(l.role),f="tabIndex"in l,g=i?{outline:"none",boxShadow:"none"}:{};return e.jsx(d,{className:qs(ad({variant:s,size:a,className:t}),i?"focus:outline-none focus:ring-0 focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0":""),ref:c,"aria-label":!u&&h?h:void 0,"aria-busy":m?"true":void 0,role:!p&&n?"button":void 0,tabIndex:!f&&n?0:void 0,style:{WebkitTapHighlightColor:i?"transparent":void 0,...g,...l.style},...l,children:o})});nd.displayName="Button";const id=ue("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",warning:"border-yellow-500/50 text-yellow-700 dark:text-yellow-300 dark:border-yellow-500 [&>svg]:text-yellow-600 dark:[&>svg]:text-yellow-400"}},defaultVariants:{variant:"default"}}),od=re.forwardRef(({className:t,variant:r,...s},a)=>e.jsx("div",{ref:a,role:"alert",className:qs(id({variant:r}),t),...s}));od.displayName="Alert";const ld=re.forwardRef(({className:t,...r},s)=>e.jsx("h5",{ref:s,className:qs("mb-1 font-medium leading-none tracking-tight",t),...r}));ld.displayName="AlertTitle";const cd=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:qs("text-sm [&_p]:leading-relaxed",t),...r}));cd.displayName="AlertDescription";class dd{static instance;static getInstance(){return dd.instance||(dd.instance=new dd),dd.instance}logError(e,t,r){const s=this.generateErrorId(),a={id:s,timestamp:(new Date).toISOString(),message:e.message,stack:e.stack,componentStack:t?.componentStack,userAgent:navigator.userAgent,url:window.location.href,userId:this.getCurrentUserId(),context:r};return this.sendToErrorService(a),this.storeErrorLocally(a),s}generateErrorId(){return`err_${Date.now()}_${Math.random().toString(36).substr(2,9)}`}getCurrentUserId(){try{const e=JSON.parse(localStorage.getItem("user")||"null");return e?.id||null}catch{return null}}async sendToErrorService(e){try{await fetch("/api/errors",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}catch(t){}}storeErrorLocally(e){try{const t=JSON.parse(localStorage.getItem("app_errors")||"[]");t.unshift(e);const r=t.slice(0,10);localStorage.setItem("app_errors",JSON.stringify(r))}catch(t){}}}const ud=({error:t,resetError:r,level:s,errorId:a})=>e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[200px] p-6 text-center",children:[e.jsxs(od,{className:"max-w-md",children:[e.jsx(Ss,{className:"h-4 w-4"}),e.jsx(ld,{children:"Oops! Something went wrong"}),e.jsxs(cd,{className:"mt-2",children:["critical"===s?"A critical error occurred. Please refresh the page.":"page"===s?"Something went wrong on this page. Please try again.":"A component failed to load. Please try again.",!1]})]}),e.jsxs("div",{className:"flex gap-2 mt-4",children:[e.jsxs(nd,{onClick:r,variant:"default",children:[e.jsx(ss,{className:"w-4 h-4 mr-2"}),"Try Again"]}),e.jsx(nd,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Page"}),e.jsxs(nd,{onClick:async()=>{try{await fetch("/api/user-feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:"bug",content:`Error Report - ID: ${a}`,metadata:{errorId:a,userAgent:navigator.userAgent,url:window.location.href}})}),alert("Error report sent. Thank you!")}catch(e){}},variant:"ghost",size:"sm",children:[e.jsx(Xt,{className:"w-4 h-4 mr-2"}),"Report Bug"]})]}),!1]});class hd extends re.Component{errorLogger=dd.getInstance();constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null,errorId:""}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){const r=this.errorLogger.logError(e,t,{level:this.props.level||"component",component:"ErrorBoundary"});this.setState({errorInfo:t,errorId:r}),this.props.onError?.(e,t)}resetError=()=>{this.setState({hasError:!1,error:null,errorInfo:null,errorId:""})};render(){if(this.state.hasError){const t=this.props.fallback||ud;return e.jsx(t,{error:this.state.error,errorInfo:this.state.errorInfo,resetError:this.resetError,level:this.props.level||"component",errorId:this.state.errorId})}return this.props.children}}class md{static instance;errorLogger=dd.getInstance();static getInstance(){return md.instance||(md.instance=new md),md.instance}wrapAsync(e,t){return async(...r)=>{try{return await e(...r)}catch(vN){return this.handleAsyncError(vN,t),null}}}handleAsyncError(e,t){const r=this.errorLogger.logError(e,void 0,{type:"async",context:t||"unknown"});this.showErrorNotification(e,r)}showErrorNotification(e,t){const r=new CustomEvent("show-error-notification",{detail:{message:"An error occurred while processing your request.",errorId:t,error:e.message}});window.dispatchEvent(r)}}let pd=class extends re.Component{state={hasError:!1,error:null,errorInfo:null};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){this.props.onError&&this.props.onError(e,t),this.setState({error:e,errorInfo:t})}handleRefresh=()=>{window.location.reload()};handleGoHome=()=>{window.location.href="/"};handleRetry=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background p-4",children:e.jsxs("div",{className:"max-w-md w-full text-center space-y-6",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx(cr,{className:"h-16 w-16 text-destructive"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h1",{className:"text-2xl font-bold text-foreground",children:"Something went wrong"}),e.jsx("p",{className:"text-muted-foreground",children:"We encountered an unexpected error. Please try refreshing the page or return to the homepage."})]}),!1,e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[e.jsxs(nd,{onClick:this.handleRetry,variant:"default",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Try Again"]}),e.jsxs(nd,{onClick:this.handleRefresh,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(ss,{className:"h-4 w-4"}),"Refresh Page"]}),e.jsxs(nd,{onClick:this.handleGoHome,variant:"outline",className:"flex items-center gap-2",children:[e.jsx(Lr,{className:"h-4 w-4"}),"Go Home"]})]})]})}):this.props.children}};const fd=re.forwardRef(({className:t,type:r,...s},a)=>e.jsx("input",{type:r,className:qs("flex h-10 w-full rounded-md border border-input bg-background input-solid-bg px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:a,...s}));fd.displayName="Input";var gd="horizontal",yd=["horizontal","vertical"],xd=re.forwardRef((t,r)=>{const{decorative:a,orientation:n=gd,...i}=t,o=function(e){return yd.includes(e)}(n)?n:gd,l=a?{role:"none"}:{"aria-orientation":"vertical"===o?o:void 0,role:"separator"};return e.jsx(s.div,{"data-orientation":o,...l,...i,ref:r})});xd.displayName="Separator";var vd=xd;const bd=re.forwardRef(({className:t,orientation:r="horizontal",decorative:s=!0,...a},n)=>e.jsx(vd,{ref:n,decorative:s,orientation:r,className:qs("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...a}));bd.displayName=vd.displayName;const wd=c,jd=d,kd=n,Nd=re.forwardRef(({className:t,...r},s)=>e.jsx(a,{className:qs("fixed inset-0 z-50 bg-background/60 backdrop-blur-[2px] data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));Nd.displayName=a.displayName;const Sd=ue("fixed z-50 gap-4 bg-background/95 p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-200 data-[state=open]:duration-300",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),_d=re.forwardRef(({side:t="right",className:r,children:s,...a},n)=>{re.useRef(null);const o="left"===t?"left":"right";!function({onClose:e,minSwipeDistance:t=50,direction:r="left",ref:s,maxDiagonalRatio:a=.8}){const[n,i]=re.useState(null),[o,l]=re.useState(!1);re.useEffect(()=>{const c=s?.current||document,d=e=>{e instanceof TouchEvent&&(i({x:e.touches[0].clientX,y:e.touches[0].clientY}),l(!1))},u=s=>{if(!(s instanceof TouchEvent)||null===n||o)return;const i=s.touches[0].clientX,c=s.touches[0].clientY,d=n.x-i,u=n.y-c,h=Math.abs(d),m=Math.abs(u);if(!("left"===r||"right"===r?m/h<=a:h/m<=a))return;let p=!1;switch(r){case"left":p=d>t;break;case"right":p=d<-t;break;case"top":p=u>t;break;case"bottom":p=u<-t}p&&(l(!0),e())},h=()=>{i(null),setTimeout(()=>{l(!1)},300)};return c.addEventListener("touchstart",d,{passive:!1}),c.addEventListener("touchmove",u,{passive:!1}),c.addEventListener("touchend",h),()=>{c.removeEventListener("touchstart",d),c.removeEventListener("touchmove",u),c.removeEventListener("touchend",h)}},[n,o,e,t,r,s,a])}({onClose:()=>{const e=document.querySelector('[data-state="open"] [role="dialog"] button[aria-label="Close"]');if(e)return void e.click();const t=document.querySelector('[data-state="open"][role="dialog"]');if(t){const e=new KeyboardEvent("keydown",{key:"Escape",keyCode:27,which:27,bubbles:!0,cancelable:!0});t.dispatchEvent(e)}},direction:o,minSwipeDistance:70});return e.jsxs(kd,{children:[e.jsx(Nd,{}),e.jsx(i,{ref:e=>{"function"==typeof n?n(e):n&&(n.current=e)},className:qs(Sd({side:t}),r),"data-swipe-direction":o,...a,children:s})]})});_d.displayName=i.displayName;const Ed=re.forwardRef(({className:t,...r},s)=>e.jsx(o,{ref:s,className:qs("text-lg font-semibold text-foreground",t),...r}));Ed.displayName=o.displayName;const Cd=re.forwardRef(({className:t,...r},s)=>e.jsx(l,{ref:s,className:qs("text-sm text-muted-foreground",t),...r}));function Id({className:t,...r}){return e.jsx("div",{className:qs("animate-pulse rounded-md bg-muted",t),...r})}Cd.displayName=l.displayName;var Td=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rd=re.forwardRef((t,r)=>e.jsx(s.span,{...t,ref:r,style:{...Td,...t.style}}));Rd.displayName="VisuallyHidden";var Ad=Rd,[Pd,Od]=u("Tooltip",[m]),Md=m(),Dd="TooltipProvider",Ld=700,zd="tooltip.open",[Fd,Ud]=Pd(Dd),$d=t=>{const{__scopeTooltip:r,delayDuration:s=Ld,skipDelayDuration:a=300,disableHoverableContent:n=!1,children:i}=t,o=re.useRef(!0),l=re.useRef(!1),c=re.useRef(0);return re.useEffect(()=>{const e=c.current;return()=>window.clearTimeout(e)},[]),e.jsx(Fd,{scope:r,isOpenDelayedRef:o,delayDuration:s,onOpen:re.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:re.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,a)},[a]),isPointerInTransitRef:l,onPointerInTransitChange:re.useCallback(e=>{l.current=e},[]),disableHoverableContent:n,children:i})};$d.displayName=Dd;var Vd="Tooltip",[Hd,Bd]=Pd(Vd),qd=t=>{const{__scopeTooltip:r,children:s,open:a,defaultOpen:n,onOpenChange:i,disableHoverableContent:o,delayDuration:l}=t,c=Ud(Vd,t.__scopeTooltip),d=Md(r),[u,h]=re.useState(null),m=x(),p=re.useRef(0),f=o??c.disableHoverableContent,g=l??c.delayDuration,y=re.useRef(!1),[w,j]=v({prop:a,defaultProp:n??!1,onChange:e=>{e?(c.onOpen(),document.dispatchEvent(new CustomEvent(zd))):c.onClose(),i?.(e)},caller:Vd}),k=re.useMemo(()=>w?y.current?"delayed-open":"instant-open":"closed",[w]),N=re.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y.current=!1,j(!0)},[j]),S=re.useCallback(()=>{window.clearTimeout(p.current),p.current=0,j(!1)},[j]),_=re.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{y.current=!0,j(!0),p.current=0},g)},[g,j]);return re.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(b,{...d,children:e.jsx(Hd,{scope:r,contentId:m,open:w,stateAttribute:k,trigger:u,onTriggerChange:h,onTriggerEnter:re.useCallback(()=>{c.isOpenDelayedRef.current?_():N()},[c.isOpenDelayedRef,_,N]),onTriggerLeave:re.useCallback(()=>{f?S():(window.clearTimeout(p.current),p.current=0)},[S,f]),onOpen:N,onClose:S,disableHoverableContent:f,children:s})})};qd.displayName=Vd;var Wd="TooltipTrigger",Kd=re.forwardRef((t,r)=>{const{__scopeTooltip:a,...n}=t,i=Bd(Wd,a),o=Ud(Wd,a),l=Md(a),c=re.useRef(null),d=y(r,c,i.onTriggerChange),u=re.useRef(!1),h=re.useRef(!1),m=re.useCallback(()=>u.current=!1,[]);return re.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),e.jsx(w,{asChild:!0,...l,children:e.jsx(s.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:d,onPointerMove:j(t.onPointerMove,e=>{"touch"!==e.pointerType&&(h.current||o.isPointerInTransitRef.current||(i.onTriggerEnter(),h.current=!0))}),onPointerLeave:j(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:j(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:j(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:j(t.onBlur,i.onClose),onClick:j(t.onClick,i.onClose)})})});Kd.displayName=Wd;var[Zd,Gd]=Pd("TooltipPortal",{forceMount:void 0}),Jd="TooltipContent",Yd=re.forwardRef((t,r)=>{const s=Gd(Jd,t.__scopeTooltip),{forceMount:a=s.forceMount,side:n="top",...i}=t,o=Bd(Jd,t.__scopeTooltip);return e.jsx(h,{present:a||o.open,children:o.disableHoverableContent?e.jsx(ru,{side:n,...i,ref:r}):e.jsx(Qd,{side:n,...i,ref:r})})}),Qd=re.forwardRef((t,r)=>{const s=Bd(Jd,t.__scopeTooltip),a=Ud(Jd,t.__scopeTooltip),n=re.useRef(null),i=y(r,n),[o,l]=re.useState(null),{trigger:c,onClose:d}=s,u=n.current,{onPointerInTransitChange:h}=a,m=re.useCallback(()=>{l(null),h(!1)},[h]),p=re.useCallback((e,t)=>{const r=e.currentTarget,s={x:e.clientX,y:e.clientY},a=function(e,t,r=5){const s=[];switch(t){case"top":s.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":s.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":s.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":s.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r})}return s}(s,function(e,t){const r=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),n=Math.abs(t.left-e.x);switch(Math.min(r,s,a,n)){case n:return"left";case a:return"right";case r:return"top";case s:return"bottom";default:throw new Error("unreachable")}}(s,r.getBoundingClientRect())),n=function(e){const t=e.slice();return t.sort((e,t)=>e.x<t.x?-1:e.x>t.x?1:e.y<t.y?-1:e.y>t.y?1:0),function(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const r=e[s];for(;t.length>=2;){const e=t[t.length-1],s=t[t.length-2];if(!((e.x-s.x)*(r.y-s.y)>=(e.y-s.y)*(r.x-s.x)))break;t.pop()}t.push(r)}t.pop();const r=[];for(let s=e.length-1;s>=0;s--){const t=e[s];for(;r.length>=2;){const e=r[r.length-1],s=r[r.length-2];if(!((e.x-s.x)*(t.y-s.y)>=(e.y-s.y)*(t.x-s.x)))break;r.pop()}r.push(t)}return r.pop(),1===t.length&&1===r.length&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}(t)}([...a,...function(e){const{top:t,right:r,bottom:s,left:a}=e;return[{x:a,y:t},{x:r,y:t},{x:r,y:s},{x:a,y:s}]}(t.getBoundingClientRect())]);l(n),h(!0)},[h]);return re.useEffect(()=>()=>m(),[m]),re.useEffect(()=>{if(c&&u){const e=e=>p(e,u),t=e=>p(e,c);return c.addEventListener("pointerleave",e),u.addEventListener("pointerleave",t),()=>{c.removeEventListener("pointerleave",e),u.removeEventListener("pointerleave",t)}}},[c,u,p,m]),re.useEffect(()=>{if(o){const e=e=>{const t=e.target,r={x:e.clientX,y:e.clientY},s=c?.contains(t)||u?.contains(t),a=!function(e,t){const{x:r,y:s}=e;let a=!1;for(let n=0,i=t.length-1;n<t.length;i=n++){const e=t[n],o=t[i],l=e.x,c=e.y,d=o.x,u=o.y;c>s!=u>s&&r<(d-l)*(s-c)/(u-c)+l&&(a=!a)}return a}(r,o);s?m():a&&(m(),d())};return document.addEventListener("pointermove",e),()=>document.removeEventListener("pointermove",e)}},[c,u,o,d,m]),e.jsx(ru,{...t,ref:i})}),[Xd,eu]=Pd(Vd,{isInside:!1}),tu=g("TooltipContent"),ru=re.forwardRef((t,r)=>{const{__scopeTooltip:s,children:a,"aria-label":n,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=Bd(Jd,s),d=Md(s),{onClose:u}=c;return re.useEffect(()=>(document.addEventListener(zd,u),()=>document.removeEventListener(zd,u)),[u]),re.useEffect(()=>{if(c.trigger){const e=e=>{const t=e.target;t?.contains(c.trigger)&&u()};return window.addEventListener("scroll",e,{capture:!0}),()=>window.removeEventListener("scroll",e,{capture:!0})}},[c.trigger,u]),e.jsx(p,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:u,children:e.jsxs(f,{"data-state":c.stateAttribute,...d,...l,ref:r,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(tu,{children:a}),e.jsx(Xd,{scope:s,isInside:!0,children:e.jsx(Ad,{id:c.contentId,role:"tooltip",children:n||a})})]})})});Yd.displayName=Jd;var su="TooltipArrow";re.forwardRef((t,r)=>{const{__scopeTooltip:s,...a}=t,n=Md(s);return eu(su,s).isInside?null:e.jsx(k,{...n,...a,ref:r})}).displayName=su;var au=Yd;const nu=$d,iu=qd,ou=Kd,lu=re.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(au,{ref:a,sideOffset:r,className:qs("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s}));lu.displayName=au.displayName;const cu=re.createContext(null),du=()=>{const e=re.useContext(cu);if(!e)throw new Error("useSidebar must be used within a SidebarProvider");return e};function uu({children:t,defaultOpen:r=!0}){const s=function(){const[e,t]=re.useState(void 0);return re.useEffect(()=>{const e=window.matchMedia("(max-width: 767px)"),r=()=>{t(window.innerWidth<768)};return e.addEventListener("change",r),t(window.innerWidth<768),()=>e.removeEventListener("change",r)},[]),!!e}(),[a,n]=re.useState(!1),[i,o]=re.useState(r),l=re.useCallback(()=>s?n(e=>!e):o(e=>!e),[s]),c=i?"expanded":"collapsed",d=re.useMemo(()=>({state:c,open:i,setOpen:o,isMobile:s,openMobile:a,setOpenMobile:n,toggleSidebar:l}),[c,i,s,a,l]);return e.jsx(cu.Provider,{value:d,children:e.jsx(nu,{delayDuration:0,children:e.jsx("div",{style:{"--sidebar-width":"16rem","--sidebar-width-icon":"3rem"},className:"group/sidebar-wrapper flex min-h-svh w-full text-sidebar-foreground has-[[data-variant=inset]]:bg-sidebar",children:t})})})}re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"content",className:qs("flex min-h-0 flex-1 flex-col overflow-y-auto overflow-x-hidden sidebar-content smooth-scroll","scrollbar-hide px-0 sm:px-1 md:px-2",t),style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},...r})).displayName="SidebarContent";const hu=re.forwardRef(({children:t,className:r,side:s="left",variant:a="sidebar",collapsible:n},i)=>{const{isMobile:o,state:l,openMobile:c,setOpenMobile:d}=du();return o?e.jsx(wd,{open:c,onOpenChange:d,children:e.jsxs(_d,{"data-sidebar":"sidebar","data-mobile":"true",className:"relative w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground",style:{"--sidebar-width":"18rem"},side:s,children:[e.jsx(Ed,{className:"sr-only",children:"Navigation Menu"}),e.jsx(Cd,{className:"sr-only",children:"Main navigation menu for the application"}),e.jsxs("button",{onClick:()=>d(!1),className:"absolute right-2 top-2 h-5 w-5 rounded-full opacity-70 touch-manipulation transition-all duration-150 ease-out hover:opacity-100 active:scale-95 active:opacity-100 focus:outline-none disabled:pointer-events-none",style:{WebkitTapHighlightColor:"transparent"},children:[e.jsx(As,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"sr-only",children:"Close"}),e.jsx("span",{className:"absolute inset-0 bg-current opacity-0 hover:opacity-10 active:opacity-20 transition-opacity duration-150 rounded-full"})]}),e.jsx("div",{className:"flex h-full w-full flex-col overflow-y-auto overflow-x-hidden sidebar-full-height",children:t})]})}):e.jsxs("div",{ref:i,className:"group peer hidden md:block","data-state":l,"data-variant":a,"data-side":s,"data-collapsible":n,children:[e.jsx("div",{className:qs("duration-200 relative h-svh w-[--sidebar-width] bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180","floating"===a||"inset"===a?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),e.jsx("div",{className:qs("duration-300 fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-out md:flex","left"===s?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]","floating"===a||"inset"===a?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),children:e.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col overflow-hidden bg-sidebar after:hidden group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow sidebar-full-height",children:t})})]})});hu.displayName="Sidebar";re.forwardRef(({className:t,onClick:r,...s},a)=>{const{toggleSidebar:n}=du();return e.jsxs(nd,{ref:a,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:qs("h-14 w-14 mt-4 touch-manipulation relative transition-all duration-150 ease-out active:scale-95 active:opacity-90 focus:outline-none focus-visible:outline-none focus-visible:ring-0 focus-visible:ring-offset-0",t),style:{WebkitTapHighlightColor:"transparent"},onClick:e=>{r?.(e),n()},...s,children:[e.jsx(Qr,{className:"h-8 w-8"}),e.jsx("span",{className:"sr-only",children:"Toggle Sidebar"}),e.jsx("span",{className:"absolute inset-0 rounded-md bg-current opacity-0 hover:opacity-5 active:opacity-10 transition-opacity duration-150"})]})}).displayName="SidebarTrigger";re.forwardRef(({className:t,...r},s)=>{const{toggleSidebar:a}=du();return e.jsx("button",{ref:s,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:a,title:"Toggle Sidebar",className:qs("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-out duration-150 after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex touch-manipulation active:bg-sidebar/10","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar/10","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),style:{WebkitTapHighlightColor:"transparent"},...r})}).displayName="SidebarRail";re.forwardRef(({className:t,...r},s)=>e.jsx("main",{ref:s,className:qs("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...r})).displayName="SidebarInset";re.forwardRef(({className:t,...r},s)=>e.jsx(fd,{ref:s,"data-sidebar":"input",className:qs("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...r})).displayName="SidebarInput";re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"header",className:qs("flex flex-col gap-2 p-2",t),...r})).displayName="SidebarHeader";re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"footer",className:qs("flex flex-col gap-2 p-2",t),...r})).displayName="SidebarFooter";re.forwardRef(({className:t,...r},s)=>e.jsx(bd,{ref:s,"data-sidebar":"separator",className:qs("mx-2 w-auto bg-sidebar-border",t),...r})).displayName="SidebarSeparator";const mu=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"group",className:qs("relative flex w-full min-w-0 flex-col p-2",t),...r}));mu.displayName="SidebarGroup";const pu=re.forwardRef(({className:t,asChild:s=!1,...a},n)=>{const i=s?r:"div";return e.jsx(i,{ref:n,"data-sidebar":"group-label",className:qs("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none transition-[margin,opa] ease-linear focus:outline-none [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...a})});pu.displayName="SidebarGroupLabel";re.forwardRef(({className:t,asChild:s=!1,...a},n)=>{const i=s?r:"button";return e.jsxs(i,{ref:n,"data-sidebar":"group-action",className:qs("absolute right-3 top-3.5 flex aspect-square w-6 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none transition-all duration-150 ease-out hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus:outline-none [&>svg]:size-4 [&>svg]:shrink-0 active:scale-95 active:opacity-90 touch-manipulation","after:absolute after:-inset-3 after:md:hidden","group-data-[collapsible=icon]:hidden",t),style:{WebkitTapHighlightColor:"transparent"},...a,children:[a.children,e.jsx("span",{className:"absolute inset-0 rounded-md bg-current opacity-0 hover:opacity-5 active:opacity-10 transition-opacity duration-150"})]})}).displayName="SidebarGroupAction";const fu=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"group-content",className:qs("w-full text-xs sm:text-sm",t),...r}));fu.displayName="SidebarGroupContent";const gu=re.forwardRef(({className:t,...r},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu",role:"menu","aria-orientation":"vertical",className:qs("flex w-full min-w-0 flex-col gap-0 -space-y-2",t),...r}));gu.displayName="SidebarMenu";const yu=re.forwardRef(({className:t,...r},s)=>e.jsx("li",{ref:s,"data-sidebar":"menu-item",role:"presentation",className:qs("group/menu-item relative",t),...r}));yu.displayName="SidebarMenuItem";const xu=ue("peer/menu-button flex w-full items-center gap-1 sm:gap-2 overflow-hidden rounded-md p-1 sm:p-1.5 text-left text-xs sm:text-sm outline-none transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus:outline-none active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>svg]:size-3 [&>svg]:sm:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-6 text-sm",sm:"h-5 text-xs",lg:"h-9 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),vu=re.forwardRef(({asChild:t=!1,isActive:s=!1,variant:a="default",size:n="default",tooltip:i,className:o,"aria-label":l,...c},d)=>{const u=t?r:"button",{isMobile:h,state:m}=du(),p=e.jsxs(u,{ref:d,"data-sidebar":"menu-button","data-size":n,"data-active":s,role:"menuitem","aria-selected":s,"aria-current":s?"page":void 0,"aria-label":l,tabIndex:0,className:qs(xu({variant:a,size:n}),"touch-manipulation relative active:scale-[0.98] active:opacity-90 transition-all duration-150 ease-out focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1",o),style:{WebkitTapHighlightColor:"transparent"},...c,children:[c.children,e.jsx("span",{className:"absolute inset-0 rounded-md bg-current opacity-0 hover:opacity-5 active:opacity-10 transition-opacity duration-150","aria-hidden":"true"})]});return i?("string"==typeof i&&(i={children:i}),e.jsxs(iu,{children:[e.jsx(ou,{asChild:!0,children:p}),e.jsx(lu,{side:"right",align:"center",hidden:"collapsed"!==m||h,...i})]})):p});vu.displayName="SidebarMenuButton";re.forwardRef(({className:t,asChild:s=!1,showOnHover:a=!1,"aria-label":n,...i},o)=>{const l=s?r:"button";return e.jsxs(l,{ref:o,"data-sidebar":"menu-action",role:"button","aria-label":n||"Menu action",tabIndex:0,className:qs("absolute right-1 top-1.5 flex aspect-square w-6 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none transition-all duration-150 ease-out hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0 active:scale-95 active:opacity-90 touch-manipulation","after:absolute after:-inset-3 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",a&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),style:{WebkitTapHighlightColor:"transparent"},...i,children:[i.children,e.jsx("span",{className:"absolute inset-0 rounded-md bg-current opacity-0 hover:opacity-5 active:opacity-10 transition-opacity duration-150","aria-hidden":"true"})]})}).displayName="SidebarMenuAction";re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,"data-sidebar":"menu-badge",className:qs("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...r})).displayName="SidebarMenuBadge";re.forwardRef(({className:t,showIcon:r=!1,...s},a)=>{const n=re.useMemo(()=>`${Math.floor(40*Math.random())+50}%`,[]);return e.jsxs("div",{ref:a,"data-sidebar":"menu-skeleton",className:qs("rounded-md h-8 flex gap-2 px-2 items-center",t),...s,children:[r&&e.jsx(Id,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),e.jsx(Id,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":n}})]})}).displayName="SidebarMenuSkeleton";const bu=re.forwardRef(({className:t,...r},s)=>e.jsx("ul",{ref:s,"data-sidebar":"menu-sub",role:"menu","aria-orientation":"vertical",className:qs("mx-2 sm:mx-3.5 flex min-w-0 translate-x-px flex-col gap-2 sm:gap-3 border-l border-sidebar-border px-1.5 sm:px-2.5 py-1","group-data-[collapsible=icon]:hidden",t),...r}));bu.displayName="SidebarMenuSub";const wu=re.forwardRef(({className:t,...r},s)=>e.jsx("li",{ref:s,role:"presentation",className:qs(t),...r}));wu.displayName="SidebarMenuSubItem";const ju=re.forwardRef(({asChild:t=!1,size:s="md",isActive:a,className:n,"aria-label":i,...o},l)=>{const c=t?r:"a";return e.jsxs(c,{ref:l,"data-sidebar":"menu-sub-button","data-size":s,"data-active":a,role:"menuitem","aria-selected":a,"aria-current":a?"page":void 0,"aria-label":i,tabIndex:0,className:qs("relative flex h-5 sm:h-6 min-w-0 -translate-x-px items-center gap-1 sm:gap-2 overflow-hidden rounded-md px-1.5 sm:px-2 text-sidebar-foreground outline-none hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-1 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>svg]:size-3 [&>svg]:sm:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground touch-manipulation transition-all duration-150 ease-out active:scale-[0.98] active:opacity-90","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground","sm"===s&&"text-[10px] sm:text-xs","md"===s&&"text-xs sm:text-sm","group-data-[collapsible=icon]:hidden",n),style:{WebkitTapHighlightColor:"transparent"},...o,children:[o.children,e.jsx("span",{className:"absolute inset-0 rounded-md bg-current opacity-0 hover:opacity-5 active:opacity-10 transition-opacity duration-150","aria-hidden":"true"})]})});function ku({path:t,component:r,requireAdmin:s=!1,adminOnly:a=!1,children:n}){const{user:i,isLoading:o}=ba(),l=a||s,c=i;return n?e.jsx(ie,{path:t,children:()=>o?e.jsx("div",{className:"min-h-[60vh]"}):i?l&&!c?.isAdmin?e.jsx(oe,{to:"/"}):e.jsx(e.Fragment,{children:n}):e.jsx(oe,{to:"/auth"})}):e.jsx(ie,{path:t,children:t=>o?e.jsx("div",{className:"min-h-[60vh]"}):i?l&&!c?.isAdmin?e.jsx(oe,{to:"/"}):e.jsx(r,{params:t}):e.jsx(oe,{to:"/auth"})})}ju.displayName="SidebarMenuSubButton";const Nu=({position:t="bottom-right"})=>{const[r,s]=re.useState(!1);re.useEffect(()=>{const e=()=>{const e=window.pageYOffset||document.documentElement.scrollTop;s(e>300)};return window.addEventListener("scroll",e),e(),()=>window.removeEventListener("scroll",e)},[]);const a={position:"fixed",zIndex:9999,bottom:"25px",right:"bottom-right"===t?"25px":"auto",left:"bottom-left"===t?"25px":"auto",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#f5f5f5",color:"#666",border:"1px solid #e0e0e0",cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0 2px 6px rgba(0, 0, 0, 0.08)",transition:"all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)",opacity:r?1:0,transform:r?"scale(1)":"scale(0.7)",pointerEvents:r?"auto":"none"},[n,i]=re.useState(!1);return e.jsx("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},style:{...a,...n?{backgroundColor:"#fafafa",boxShadow:"0 3px 8px rgba(0, 0, 0, 0.12)",transform:"translateY(-1px)"}:{}},"aria-label":"Scroll to top",onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTouchStart:()=>i(!0),onTouchEnd:()=>i(!1),children:e.jsx(Bt,{size:18})})},Su=O,_u=M,Eu=D;re.forwardRef(({className:t,inset:r,children:s,...a},n)=>e.jsxs(N,{ref:n,className:qs("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",r&&"pl-8",t),...a,children:[s,e.jsx(or,{className:"ml-auto h-4 w-4"})]})).displayName=N.displayName;re.forwardRef(({className:t,...r},s)=>e.jsx(S,{ref:s,className:qs("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover input-solid-bg p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})).displayName=S.displayName;const Cu=re.forwardRef(({className:t,sideOffset:r=4,...s},a)=>e.jsx(_,{children:e.jsx(E,{ref:a,sideOffset:r,className:qs("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover input-solid-bg p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...s})}));Cu.displayName=E.displayName;const Iu=re.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(C,{ref:a,className:qs("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...s}));Iu.displayName=C.displayName;const Tu=re.forwardRef(({className:t,children:r,checked:s,...a},n)=>e.jsxs(I,{ref:n,className:qs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:s,...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(T,{children:e.jsx(nr,{className:"h-4 w-4"})})}),r]}));Tu.displayName=I.displayName;re.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(R,{ref:a,className:qs("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(T,{children:e.jsx(fr,{className:"h-2 w-2 fill-current"})})}),r]})).displayName=R.displayName;const Ru=re.forwardRef(({className:t,inset:r,...s},a)=>e.jsx(A,{ref:a,className:qs("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...s}));Ru.displayName=A.displayName;const Au=re.forwardRef(({className:t,...r},s)=>e.jsx(P,{ref:s,className:qs("-mx-1 my-1 h-px bg-muted",t),...r}));Au.displayName=P.displayName;const Pu=[{value:"system",label:"System",icon:e.jsx(Yr,{className:"h-4 w-4"}),preview:"Auto",description:"Follow system preference"},{value:"light",label:"Light",icon:e.jsx(vs,{className:"h-4 w-4"}),preview:"",description:"Clean and bright"},{value:"dark",label:"Dark",icon:e.jsx(Gr,{className:"h-4 w-4"}),preview:"",description:"Easy on the eyes"},{value:"blue-pastel",label:"Ocean Blue",icon:e.jsx(ys,{className:"h-4 w-4"}),preview:"",description:"Calm and serene"},{value:"green-pastel",label:"Nature Green",icon:e.jsx(Fr,{className:"h-4 w-4"}),preview:"",description:"Fresh and natural"},{value:"purple-pastel",label:"Lavender Dream",icon:e.jsx(Or,{className:"h-4 w-4"}),preview:"",description:"Elegant and soft"},{value:"brown-pastel",label:"Warm Earth",icon:e.jsx(br,{className:"h-4 w-4"}),preview:"",description:"Cozy and warm"}],Ou=({className:t})=>{const[r,s]=re.useState("system"),[a,n]=re.useState(!1);re.useEffect(()=>{const e=localStorage.getItem("theme")||"system";s(e),i(e)},[]);const i=e=>{const t=document.documentElement;if(t.classList.remove("dark"),t.removeAttribute("data-theme"),"system"===e){window.matchMedia("(prefers-color-scheme: dark)").matches&&t.classList.add("dark")}else"dark"===e?t.classList.add("dark"):"light"===e||t.setAttribute("data-theme",e)};return e.jsxs(Su,{open:a,onOpenChange:n,children:[e.jsx(_u,{asChild:!0,children:e.jsxs(nd,{variant:"ghost",size:"sm",className:qs("relative h-9 w-9 rounded-lg border-2 transition-all duration-200","hover:border-primary/50 hover:shadow-lg","focus:ring-2 focus:ring-primary/20",t),"aria-label":"Theme switcher",children:[e.jsx("div",{className:"flex items-center justify-center",children:(Pu.find(e=>e.value===r)||Pu[0]).icon}),e.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),e.jsxs(Cu,{align:"end",className:"w-64 p-2 bg-card/95 backdrop-blur-md border border-border/50 shadow-xl",sideOffset:8,children:[e.jsxs("div",{className:"grid gap-1",children:[e.jsx("div",{className:"px-2 py-1.5 text-sm font-medium text-muted-foreground border-b border-border/50 mb-1",children:"Choose Theme"}),Pu.map(t=>e.jsxs(Iu,{onClick:()=>{return e=t.value,s(e),localStorage.setItem("theme",e),i(e),void n(!1);var e},className:qs("flex items-center gap-3 px-3 py-2.5 rounded-lg cursor-pointer transition-all duration-200","hover:bg-accent/50 hover:text-accent-foreground","focus:bg-accent/50 focus:text-accent-foreground",r===t.value&&"bg-primary/10 text-primary border border-primary/20"),children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:"flex items-center justify-center w-8 h-8 rounded-md bg-background/50 border border-border/30",children:t.icon}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium text-sm",children:t.label}),e.jsx("span",{className:"text-lg",children:t.preview})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-0.5",children:t.description})]})]}),r===t.value&&e.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse"})]},t.value))]}),e.jsx("div",{className:"border-t border-border/50 mt-2 pt-2 px-2",children:e.jsx("p",{className:"text-xs text-muted-foreground text-center",children:"Theme preferences are saved automatically"})})]})]})};"undefined"!=typeof window&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{const t=localStorage.getItem("theme");if("system"===t||!t){const t=document.documentElement;t.classList.remove("dark"),e.matches&&t.classList.add("dark")}});var Mu="Collapsible",[Du,Lu]=u(Mu),[zu,Fu]=Du(Mu),Uu=re.forwardRef((t,r)=>{const{__scopeCollapsible:a,open:n,defaultOpen:i,disabled:o,onOpenChange:l,...c}=t,[d,u]=v({prop:n,defaultProp:i??!1,onChange:l,caller:Mu});return e.jsx(zu,{scope:a,disabled:o,contentId:x(),open:d,onOpenToggle:re.useCallback(()=>u(e=>!e),[u]),children:e.jsx(s.div,{"data-state":Wu(d),"data-disabled":o?"":void 0,...c,ref:r})})});Uu.displayName=Mu;var $u="CollapsibleTrigger",Vu=re.forwardRef((t,r)=>{const{__scopeCollapsible:a,...n}=t,i=Fu($u,a);return e.jsx(s.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Wu(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:r,onClick:j(t.onClick,i.onOpenToggle)})});Vu.displayName=$u;var Hu="CollapsibleContent",Bu=re.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=Fu(Hu,t.__scopeCollapsible);return e.jsx(h,{present:s||n.open,children:({present:t})=>e.jsx(qu,{...a,ref:r,present:t})})});Bu.displayName=Hu;var qu=re.forwardRef((t,r)=>{const{__scopeCollapsible:a,present:n,children:i,...o}=t,l=Fu(Hu,a),[c,d]=re.useState(n),u=re.useRef(null),h=y(r,u),m=re.useRef(0),p=m.current,f=re.useRef(0),g=f.current,x=l.open||c,v=re.useRef(x),b=re.useRef(void 0);return re.useEffect(()=>{const e=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(e)},[]),L(()=>{const e=u.current;if(e){b.current=b.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";const t=e.getBoundingClientRect();m.current=t.height,f.current=t.width,v.current||(e.style.transitionDuration=b.current.transitionDuration,e.style.animationName=b.current.animationName),d(n)}},[l.open,n]),e.jsx(s.div,{"data-state":Wu(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!x,...o,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...t.style},children:x&&i})});function Wu(e){return e?"open":"closed"}var Ku=Uu,Zu=Vu,Gu=Bu;const Ju=Ku,Yu=Vu,Qu=Bu;function Xu({onNavigate:t}){const[r,s]=se(),{user:a,logoutMutation:n}=ba(),{showLoading:i}=Os(),[o,l]=re.useState(!1),[c,d]=re.useState(!1),[u,h]=re.useState(!1),[m,p]=re.useState(!1),[f,g]=re.useState(null),y=du(),x=re.useRef(null),v=re.useCallback(()=>{x.current&&x.current.scrollTo({top:0,behavior:"smooth"})},[]),b=re.useCallback(e=>{if(x.current){const t=x.current,r=e.getBoundingClientRect(),s=t.getBoundingClientRect();r.bottom>s.bottom&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}},[]);re.useEffect(()=>{if(!y?.isMobile||!y?.openMobile)return;let e=0,t=0,r=0,s=0,a=!1;const n=r=>{r.target.closest(".sidebar-menu-container")?a=!0:(e=r.touches[0].clientX,t=r.touches[0].clientY,g(e),a=!1)},i=n=>{if(!f||a)return;r=n.touches[0].clientX,s=n.touches[0].clientY;const i=e-r,o=Math.abs(t-s);if(i>50&&o<40){y.setOpenMobile(!1);const e=document.querySelector('[data-sidebar="sidebar"] button');e&&e.click(),g(null)}},o=()=>{e=0,t=0,r=0,s=0,a=!1,g(null)};return document.addEventListener("touchstart",n,{passive:!0}),document.addEventListener("touchmove",i,{passive:!0}),document.addEventListener("touchend",o,{passive:!0}),()=>{document.removeEventListener("touchstart",n),document.removeEventListener("touchmove",i),document.removeEventListener("touchend",o)}},[y,f]);const[w,j]=re.useState(!1),k=re.useCallback(e=>{if(r===e||w)return y&&y.isMobile&&e===r&&y.setOpenMobile(!1),void(e===r&&v());try{j(!0),l(!1),d(!1),h(!1),p(!1),y&&y.isMobile&&y.setOpenMobile(!1),t&&t(),i(),setTimeout(()=>{s(e),setTimeout(()=>{j(!1)},500)},50)}catch(vN){j(!1),window.location.href=e}},[r,w,t,y,s,i]),N=qs("sidebar-menu-button-enhanced","group relative flex items-center gap-2 px-2 py-1 rounded-md text-sm font-medium","text-sidebar-foreground/80 hover:text-sidebar-foreground","transition-all duration-200 ease-out","hover:bg-sidebar-accent hover:shadow-sm","focus:outline-none focus:ring-2 focus:ring-primary/20 focus:bg-sidebar-accent","data-[active=true]:bg-gradient-to-r data-[active=true]:from-primary/10 data-[active=true]:to-primary/5","data-[active=true]:text-primary data-[active=true]:shadow-sm","whitespace-nowrap overflow-hidden","font-sans"),S="text-[hsl(var(--sidebar-foreground))] hover:text-[hsl(var(--sidebar-accent-foreground))] focus:text-[hsl(var(--sidebar-accent-foreground))] data-[active=true]:text-[hsl(var(--sidebar-accent-foreground))] data-[active=true]:font-medium transition-all duration-100 ease-out text-sm font-medium py-1.5 px-2 pr-12 whitespace-nowrap overflow-hidden min-h-[36px] flex items-center -mb-1 rounded-sm hover:bg-[hsl(var(--sidebar-accent))] focus:bg-[hsl(var(--sidebar-accent))]";return e.jsxs(ge.div,{ref:x,initial:{opacity:0,x:-25},animate:{opacity:1,x:0},transition:{duration:.3,ease:[.25,.46,.45,.94]},className:"flex flex-col h-full sidebar-menu-container relative overflow-hidden",role:"navigation","aria-label":"Main navigation",style:{scrollbarWidth:"thin",scrollbarColor:"rgba(156, 163, 175, 0.3) transparent"},children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-3 bg-gradient-to-t from-background to-transparent z-2 opacity-60"})}),e.jsxs("div",{className:"flex-1 overflow-y-auto overflow-x-hidden space-y-0 pt-0 px-1 pb-1 scroll-smooth scrollbar-hide",style:{scrollBehavior:"smooth",scrollbarWidth:"none",msOverflowStyle:"none",WebkitOverflowScrolling:"touch"},children:[e.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.4,delay:.1,ease:[.25,.46,.45,.94]},children:e.jsxs(mu,{className:"space-y-0 -mt-4",children:[e.jsxs(pu,{className:"sidebar-group-label-enhanced px-1 text-xs font-bold text-sidebar-foreground/60 uppercase tracking-wider -mb-1 flex items-center gap-2 font-sans",children:[e.jsx(wr,{className:"h-4 w-4 sidebar-icon-enhanced"}),"Navigation"]}),e.jsx(fu,{children:e.jsxs(gu,{className:"space-y-0",children:[e.jsx(yu,{children:e.jsx(ge.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:.2,ease:[.25,.46,.45,.94]},whileHover:{x:3},whileTap:{scale:.98},children:e.jsxs(vu,{isActive:"/"===r,onClick:()=>k("/"),tooltip:"Home",className:N,"aria-current":"/"===r?"page":void 0,children:[e.jsx(Lr,{className:"sidebar-icon-enhanced h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"sidebar-menu-text-enhanced",children:"HOME"}),"/"===r&&e.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(xs,{className:"h-3 w-3 text-primary fill-current"})})]})})}),e.jsx(yu,{children:e.jsx(ge.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:.25,ease:[.25,.46,.45,.94]},whileHover:{x:3},whileTap:{scale:.98},children:e.jsxs(vu,{isActive:"/stories"===r,onClick:()=>k("/stories"),tooltip:"Story Index",className:N,"aria-current":"/stories"===r?"page":void 0,children:[null,e.jsx(ns,{className:"sidebar-icon-enhanced h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"sidebar-menu-text-enhanced",children:"STORY INDEX"}),"/stories"===r&&e.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(xs,{className:"h-3 w-3 text-primary fill-current"})})]})})}),e.jsx(yu,{children:e.jsx(ge.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:.3,ease:[.25,.46,.45,.94]},whileHover:{x:3},whileTap:{scale:.98},children:e.jsxs(vu,{isActive:"/reader"===r,onClick:()=>k("/reader"),tooltip:"Interactive Reader",className:N,"aria-current":"/reader"===r?"page":void 0,children:[null,e.jsx(Jt,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"sidebar-menu-text-enhanced",children:"READER"}),"/reader"===r&&e.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(xs,{className:"h-3 w-3 text-primary fill-current"})})]})})}),e.jsx(yu,{children:e.jsx(ge.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:.35,ease:[.25,.46,.45,.94]},whileHover:{x:3},whileTap:{scale:.98},children:e.jsxs(vu,{isActive:"/community"===r,onClick:()=>k("/community"),tooltip:"Community Hub",className:N,"aria-current":"/community"===r?"page":void 0,children:[null,e.jsx(Ts,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"sidebar-menu-text-enhanced",children:"COMMUNITY"}),"/community"===r&&e.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(xs,{className:"h-3 w-3 text-primary fill-current"})})]})})}),e.jsx(yu,{children:e.jsx(ge.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{duration:.3,delay:.4,ease:[.25,.46,.45,.94]},whileHover:{x:3},whileTap:{scale:.98},children:e.jsxs(vu,{isActive:"/bookmarks"===r,onClick:()=>k("/bookmarks"),tooltip:"Saved Stories",className:N,"aria-current":"/bookmarks"===r?"page":void 0,children:[null,e.jsx(Yt,{className:"h-5 w-5 group-hover:scale-110 transition-transform duration-200"}),e.jsx("span",{className:"sidebar-menu-text-enhanced",children:"BOOKMARKS"}),"/bookmarks"===r&&e.jsx(ge.div,{initial:{scale:0},animate:{scale:1},className:"ml-auto",children:e.jsx(xs,{className:"h-3 w-3 text-primary fill-current"})})]})})})]})})]})}),e.jsxs(mu,{className:"-mt-4",children:[e.jsx(pu,{className:"px-1 text-xs font-medium text-[hsl(var(--sidebar-foreground))] -mb-1 uppercase tracking-wider",children:"GAMES & INTERACTIVE"}),e.jsx(fu,{className:"-mt-1",children:e.jsx(gu,{className:"space-y-0",children:e.jsx(yu,{children:e.jsxs(vu,{isActive:"/eden-hollow"===r,onClick:()=>k("/eden-hollow"),tooltip:"Eden's Hollow - Coming Soon",className:N,"aria-current":"/eden-hollow"===r?"page":void 0,children:[null,e.jsx(Ar,{className:"h-5 w-5"}),e.jsx("span",{children:"Eden's Hollow"})]})})})})]}),a?.isAdmin&&e.jsxs(mu,{className:"-mt-4",children:[e.jsx(pu,{className:"px-1 text-xs font-medium text-[hsl(var(--sidebar-foreground))] -mb-1 uppercase tracking-wider",children:"ADMINISTRATION"}),e.jsx(fu,{className:"-mt-1",children:e.jsx(gu,{className:"space-y-0",children:e.jsx(yu,{children:e.jsxs(Ju,{open:m,onOpenChange:p,className:"sidebar-dropdown-container",children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(vu,{className:"w-full justify-between text-[hsl(var(--sidebar-foreground))] data-[state=open]:bg-[hsl(var(--sidebar-accent))] data-[state=open]:text-[hsl(var(--sidebar-accent-foreground))] hover:bg-[hsl(var(--sidebar-accent))] hover:text-[hsl(var(--sidebar-accent-foreground))] whitespace-nowrap","aria-expanded":m,"aria-controls":"admin-controls-content",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(ps,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Admin Controls"})]}),e.jsx(ir,{className:qs("h-4 w-4 shrink-0 text-[hsl(var(--sidebar-foreground))] opacity-50 transition-transform duration-200",m&&"rotate-180")})]})}),e.jsx(Qu,{id:"admin-controls-content",className:"overflow-hidden sidebar-collapsible-content",children:e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.08,ease:[.4,0,.2,1]},className:"px-0 py-0.5",children:e.jsxs(bu,{className:"space-y-0 border-l border-sidebar-border/30 ml-2 pl-3",children:[e.jsx(wu,{children:e.jsxs(ju,{isActive:"/admin/dashboard"===r,onClick:()=>k("/admin/dashboard"),className:S,"aria-current":"/admin/dashboard"===r?"page":void 0,children:[e.jsx(Zr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Dashboard"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/admin/stories"===r||"/admin/content"===r||"/admin/wordpress-sync"===r||"/admin/content-management"===r,onClick:()=>k("/admin/content-management"),className:S,"aria-current":"/admin/content-management"===r||"/admin/stories"===r||"/admin/content"===r||"/admin/wordpress-sync"===r,children:[e.jsx(Ir,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Content Management"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/admin/themes"===r,onClick:()=>k("/admin/themes"),className:S,"aria-current":"/admin/themes"===r?"page":void 0,children:[e.jsx(Yr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Theme Management"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/admin/users"===r||"/admin/content-moderation"===r,onClick:()=>k("/admin/users"),className:S,"aria-current":"/admin/users"===r||"/admin/content-moderation"===r,children:[e.jsx(Ts,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"User Management"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/admin/analytics"===r||"/admin/site-statistics"===r||"/admin/feedback"===r||"/admin/bug-reports"===r,onClick:()=>k("/admin/analytics"),className:S,"aria-current":"/admin/analytics"===r||"/admin/site-statistics"===r||"/admin/feedback"===r||"/admin/bug-reports"===r,children:[e.jsx(sr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Insights & Reports"})]})})]})})})]})})})})]}),e.jsxs(mu,{className:"-mt-4",children:[e.jsx(pu,{className:"px-1 text-xs font-medium text-[hsl(var(--sidebar-foreground))] -mb-1 uppercase tracking-wider",children:"READING & ACCESSIBILITY"}),e.jsx(fu,{className:"-mt-1",children:e.jsx(gu,{className:"space-y-0",children:e.jsx(yu,{children:e.jsxs(Ju,{open:o,onOpenChange:e=>{l(e),e&&setTimeout(()=>{const e=document.querySelector('.sidebar-collapsible-trigger[data-state="open"]');e&&b(e)},150)},className:"sidebar-dropdown-container",children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(vu,{className:"w-full justify-between text-[hsl(var(--sidebar-foreground))] data-[state=open]:bg-[hsl(var(--sidebar-accent))] data-[state=open]:text-[hsl(var(--sidebar-accent-foreground))] hover:bg-[hsl(var(--sidebar-accent))] hover:text-[hsl(var(--sidebar-accent-foreground))] whitespace-nowrap sidebar-collapsible-trigger","aria-expanded":o,"aria-controls":"accessibility-settings-content",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Yr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Accessibility Settings"})]}),e.jsx(ir,{className:qs("h-4 w-4 shrink-0 text-[hsl(var(--sidebar-foreground))] opacity-50 transition-transform duration-200",o&&"rotate-180")})]})}),e.jsx(Qu,{id:"accessibility-settings-content",className:"overflow-hidden sidebar-collapsible-content",children:e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.08,ease:[.4,0,.2,1]},className:"px-0 py-0.5",children:e.jsxs(bu,{className:"space-y-0 border-l border-sidebar-border/30 ml-2 pl-3",children:[e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/fonts"===r,onClick:()=>k("/settings/fonts"),className:S,"aria-current":"/settings/fonts"===r?"page":void 0,children:[e.jsx(_s,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Font Settings"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/accessibility"===r,onClick:()=>k("/settings/accessibility"),className:S,"aria-current":"/settings/accessibility"===r?"page":void 0,children:[e.jsx(hr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Reading Preferences"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/quick-settings"===r,onClick:()=>k("/settings/quick-settings"),className:S,"aria-current":"/settings/quick-settings"===r?"page":void 0,children:[e.jsx(cs,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Quick Settings"})]})}),e.jsx(wu,{children:e.jsxs("div",{className:"flex items-center justify-between w-full px-3 py-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Yr,{className:"h-4 w-4"}),e.jsx("span",{children:"Theme"})]}),e.jsx(Ou,{className:"text-foreground/80"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/preview"===r,onClick:()=>k("/settings/preview"),className:S,"aria-current":"/settings/preview"===r?"page":void 0,children:[e.jsx(Cr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Preview"})]})})]})})})]})})})})]}),e.jsxs(mu,{className:"-mt-4",children:[e.jsx(pu,{className:"px-1 text-xs font-medium text-[hsl(var(--sidebar-foreground))] -mb-1 uppercase tracking-wider",children:"ACCOUNT SETTINGS"}),e.jsx(fu,{className:"-mt-1",children:e.jsx(gu,{className:"space-y-0",children:e.jsx(yu,{children:e.jsxs(Ju,{open:c,onOpenChange:d,className:"sidebar-dropdown-container",children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(vu,{className:"w-full justify-between text-[hsl(var(--sidebar-foreground))] data-[state=open]:bg-[hsl(var(--sidebar-accent))] data-[state=open]:text-[hsl(var(--sidebar-accent-foreground))] hover:bg-[hsl(var(--sidebar-accent))] hover:text-[hsl(var(--sidebar-accent-foreground))] whitespace-nowrap","aria-expanded":c,"aria-controls":"account-settings-content",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(mr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Account Settings"})]}),e.jsx(ir,{className:qs("h-4 w-4 shrink-0 text-[hsl(var(--sidebar-foreground))] opacity-50 transition-transform duration-200",c&&"rotate-180")})]})}),e.jsx(Qu,{id:"account-settings-content",className:"overflow-hidden sidebar-collapsible-content",children:e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.08,ease:[.4,0,.2,1]},className:"px-0 py-0.5",children:e.jsxs(bu,{className:"space-y-0 border-l border-sidebar-border/30 ml-2 pl-3",children:[e.jsx(wu,{children:e.jsxs(ju,{isActive:"/profile"===r,onClick:()=>k("/profile"),className:S,"aria-current":"/profile"===r?"page":void 0,children:[e.jsx(mr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"My Profile"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/profile"===r,onClick:()=>k("/settings/profile"),className:S,"aria-current":"/settings/profile"===r?"page":void 0,children:[e.jsx(Is,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Profile Settings"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/notifications"===r,onClick:()=>k("/settings/notifications"),className:S,"aria-current":"/settings/notifications"===r?"page":void 0,children:[e.jsx(Kt,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Notifications"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/privacy"===r,onClick:()=>k("/settings/privacy"),className:S,"aria-current":"/settings/privacy"===r?"page":void 0,children:[e.jsx(Vr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Privacy & Security"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/settings/connected"===r,onClick:()=>k("/settings/connected"),className:S,"aria-current":"/settings/connected"===r?"page":void 0,children:[e.jsx(Ur,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Connected Accounts"})]})})]})})})]})})})})]}),e.jsxs(mu,{className:"-mt-4",children:[e.jsx(pu,{className:"px-1 text-xs font-medium text-[hsl(var(--sidebar-foreground))] -mb-1 uppercase tracking-wider",children:"SUPPORT & LEGAL"}),e.jsx(fu,{className:"-mt-1",children:e.jsx(gu,{className:"space-y-0",children:e.jsx(yu,{children:e.jsxs(Ju,{open:u,onOpenChange:h,className:"sidebar-dropdown-container",children:[e.jsx(Yu,{asChild:!0,children:e.jsxs(vu,{className:"w-full justify-between text-[hsl(var(--sidebar-foreground))] data-[state=open]:bg-[hsl(var(--sidebar-accent))] data-[state=open]:text-[hsl(var(--sidebar-accent-foreground))] hover:bg-[hsl(var(--sidebar-accent))] hover:text-[hsl(var(--sidebar-accent-foreground))] whitespace-nowrap","aria-expanded":u,"aria-controls":"support-legal-content",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(hr,{className:"h-4 w-4 mr-2"}),e.jsx("span",{children:"Support & Legal"})]}),e.jsx(ir,{className:qs("h-4 w-4 shrink-0 text-[hsl(var(--sidebar-foreground))] opacity-50 transition-transform duration-200",u&&"rotate-180")})]})}),e.jsx(Qu,{id:"support-legal-content",className:"overflow-hidden sidebar-collapsible-content",children:e.jsx(ge.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.08,ease:[.4,0,.2,1]},className:"px-0 py-0.5",children:e.jsxs(bu,{className:"space-y-0 border-l border-sidebar-border/30 ml-2 pl-3",children:[e.jsx(wu,{children:e.jsxs(ju,{isActive:"/about"===r,onClick:()=>k("/about"),className:S,"aria-current":"/about"===r?"page":void 0,children:[e.jsx(er,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"About Me"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/feedback"===r,onClick:()=>k("/feedback"),className:S,"aria-current":"/feedback"===r?"page":void 0,children:[e.jsx(qr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Feedback & Suggestions"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/contact"===r,onClick:()=>k("/contact"),className:S,"aria-current":"/contact"===r?"page":void 0,children:[e.jsx(Hr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Contact Me"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/report-bug"===r,onClick:()=>k("/report-bug"),className:S,"aria-current":"/report-bug"===r?"page":void 0,children:[e.jsx(Xt,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Report a Bug"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/legal/terms"===r,onClick:()=>k("/legal/terms"),className:S,"aria-current":"/legal/terms"===r?"page":void 0,children:[e.jsx(Ir,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Terms of Service"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/privacy"===r,onClick:()=>k("/privacy"),className:S,"aria-current":"/privacy"===r?"page":void 0,children:[e.jsx(Vr,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Privacy Policy"})]})}),e.jsx(wu,{children:e.jsxs(ju,{isActive:"/legal/copyright"===r,onClick:()=>k("/legal/copyright"),className:S,"aria-current":"/legal/copyright"===r?"page":void 0,children:[e.jsx(ps,{className:"h-7 w-7 mr-2"}),e.jsx("span",{children:"Copyright Policy"})]})})]})})})]})})})})]}),e.jsxs("div",{className:"mt-auto mb-0 border-t border-[hsl(var(--sidebar-border))] pt-3",children:[a?e.jsx(nd,{variant:"default",size:"sm",className:"w-full text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm uppercase tracking-wider px-4 py-2",onClick:()=>{n&&n.mutate()},"aria-label":"Sign out of your account",children:"SIGN OUT"}):e.jsx(nd,{variant:"default",size:"sm",className:"w-full text-sm font-medium bg-primary text-primary-foreground hover:bg-primary/90 shadow-sm uppercase tracking-wider px-4 py-2",onClick:()=>k("/auth"),"aria-label":"Sign in to your account",children:"SIGN IN"}),e.jsxs(ge.button,{onClick:()=>k("/report-bug"),whileHover:{scale:1.02,translateX:2},whileTap:{scale:.98},className:qs("mt-2 mb-0 text-sm flex items-center justify-center gap-2 w-full px-2 py-1.5 rounded-md transition-colors focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-1","/report-bug"===r?"text-[hsl(var(--sidebar-primary))] font-medium bg-[hsl(var(--sidebar-accent))]":"text-[hsl(var(--sidebar-foreground))] hover:text-[hsl(var(--sidebar-primary))] hover:bg-[hsl(var(--sidebar-accent))]"),"aria-label":"Report a bug or issue",role:"link",children:[e.jsx(Xt,{className:"h-4 w-4","aria-hidden":"true"}),e.jsx("span",{className:"uppercase tracking-wider font-medium",children:"Report Bug"})]})]})]})]})}function eh(e,t,r){function s(r,s){var a;Object.defineProperty(r,"_zod",{value:r._zod??{},enumerable:!1}),(a=r._zod).traits??(a.traits=new Set),r._zod.traits.add(e),t(r,s);for(const e in i.prototype)e in r||Object.defineProperty(r,e,{value:i.prototype[e].bind(r)});r._zod.constr=i,r._zod.def=s}const a=r?.Parent??Object;class n extends a{}function i(e){var t;const a=r?.Parent?new n:this;s(a,e),(t=a._zod).deferred??(t.deferred=[]);for(const r of a._zod.deferred)r();return a}return Object.defineProperty(n,"name",{value:e}),Object.defineProperty(i,"init",{value:s}),Object.defineProperty(i,Symbol.hasInstance,{value:t=>!!(r?.Parent&&t instanceof r.Parent)||t?._zod?.traits?.has(e)}),Object.defineProperty(i,"name",{value:e}),i}class th extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const rh={};function sh(e){return rh}function ah(e,t){return"bigint"==typeof t?t.toString():t}function nh(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ih(e){return null==e}function oh(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}const lh=Symbol("evaluating");function ch(e,t,r){let s;Object.defineProperty(e,t,{get(){if(s!==lh)return void 0===s&&(s=lh,s=r()),s},set(r){Object.defineProperty(e,t,{value:r})},configurable:!0})}function dh(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function uh(...e){const t={};for(const r of e){const e=Object.getOwnPropertyDescriptors(r);Object.assign(t,e)}return Object.defineProperties({},t)}function hh(e){return JSON.stringify(e)}const mh="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function ph(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}const fh=nh(()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(e){return!1}});function gh(e){if(!1===ph(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!1!==ph(r)&&!1!==Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")}function yh(e){return gh(e)?{...e}:e}const xh=new Set(["string","number","symbol"]);function vh(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function bh(e,t,r){const s=new e._zod.constr(t??e._zod.def);return t&&!r?.parent||(s._zod.parent=e),s}function wh(e){const t=e;if(!t)return{};if("string"==typeof t)return{error:()=>t};if(void 0!==t?.message){if(void 0!==t?.error)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,"string"==typeof t.error?{...t,error:()=>t.error}:t}const jh={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function kh(e,t=0){for(let r=t;r<e.issues.length;r++)if(!0!==e.issues[r]?.continue)return!0;return!1}function Nh(e,t){return t.map(t=>{var r;return(r=t).path??(r.path=[]),t.path.unshift(e),t})}function Sh(e){return"string"==typeof e?e:e?.message}function _h(e,t,r){const s={...e,path:e.path??[]};if(!e.message){const a=Sh(e.inst?._zod.def?.error?.(e))??Sh(t?.error?.(e))??Sh(r.customError?.(e))??Sh(r.localeError?.(e))??"Invalid input";s.message=a}return delete s.inst,delete s.continue,t?.reportInput||delete s.input,s}function Eh(e){return Array.isArray(e)?"array":"string"==typeof e?"string":"unknown"}function Ch(...e){const[t,r,s]=e;return"string"==typeof t?{message:t,code:"custom",input:r,inst:s}:{...t}}const Ih=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,ah,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},Th=eh("$ZodError",Ih),Rh=eh("$ZodError",Ih,{Parent:Error});const Ah=e=>(t,r,s,a)=>{const n=s?Object.assign(s,{async:!1}):{async:!1},i=t._zod.run({value:r,issues:[]},n);if(i instanceof Promise)throw new th;if(i.issues.length){const t=new(a?.Err??e)(i.issues.map(e=>_h(e,n,sh())));throw mh(t,a?.callee),t}return i.value},Ph=Ah(Rh),Oh=e=>async(t,r,s,a)=>{const n=s?Object.assign(s,{async:!0}):{async:!0};let i=t._zod.run({value:r,issues:[]},n);if(i instanceof Promise&&(i=await i),i.issues.length){const t=new(a?.Err??e)(i.issues.map(e=>_h(e,n,sh())));throw mh(t,a?.callee),t}return i.value},Mh=Oh(Rh),Dh=e=>(t,r,s)=>{const a=s?{...s,async:!1}:{async:!1},n=t._zod.run({value:r,issues:[]},a);if(n instanceof Promise)throw new th;return n.issues.length?{success:!1,error:new(e??Th)(n.issues.map(e=>_h(e,a,sh())))}:{success:!0,data:n.value}},Lh=Dh(Rh),zh=e=>async(t,r,s)=>{const a=s?Object.assign(s,{async:!0}):{async:!0};let n=t._zod.run({value:r,issues:[]},a);return n instanceof Promise&&(n=await n),n.issues.length?{success:!1,error:new e(n.issues.map(e=>_h(e,a,sh())))}:{success:!0,data:n.value}},Fh=zh(Rh),Uh=/^[cC][^\s-]{8,}$/,$h=/^[0-9a-z]+$/,Vh=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Hh=/^[0-9a-vA-V]{20}$/,Bh=/^[A-Za-z0-9]{27}$/,qh=/^[a-zA-Z0-9_-]{21}$/,Wh=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Kh=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,Zh=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,Gh=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const Jh=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Yh=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,Qh=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,Xh=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,em=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,tm=/^[A-Za-z0-9_-]*$/,rm=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,sm=/^\+(?:[0-9]){6,14}[0-9]$/,am="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",nm=new RegExp(`^${am}$`);function im(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof e.precision?-1===e.precision?`${t}`:0===e.precision?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}const om=/^\d+$/,lm=/^-?\d+(?:\.\d+)?/i,cm=/true|false/i,dm=/^[^A-Z]*$/,um=/^[^a-z]*$/,hm=eh("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),mm={number:"number",bigint:"bigint",object:"date"},pm=eh("$ZodCheckLessThan",(e,t)=>{hm.init(e,t);const r=mm[typeof t.value];e._zod.onattach.push(e=>{const r=e._zod.bag,s=(t.inclusive?r.maximum:r.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?r.maximum=t.value:r.exclusiveMaximum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value<=t.value:s.value<t.value)||s.issues.push({origin:r,code:"too_big",maximum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),fm=eh("$ZodCheckGreaterThan",(e,t)=>{hm.init(e,t);const r=mm[typeof t.value];e._zod.onattach.push(e=>{const r=e._zod.bag,s=(t.inclusive?r.minimum:r.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?r.minimum=t.value:r.exclusiveMinimum=t.value)}),e._zod.check=s=>{(t.inclusive?s.value>=t.value:s.value>t.value)||s.issues.push({origin:r,code:"too_small",minimum:t.value,input:s.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),gm=eh("$ZodCheckMultipleOf",(e,t)=>{hm.init(e,t),e._zod.onattach.push(e=>{var r;(r=e._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof r.value?r.value%t.value===BigInt(0):0===function(e,t){const r=(e.toString().split(".")[1]||"").length,s=t.toString();let a=(s.split(".")[1]||"").length;if(0===a&&/\d?e-\d?/.test(s)){const e=s.match(/\d?e-(\d?)/);e?.[1]&&(a=Number.parseInt(e[1]))}const n=r>a?r:a;return Number.parseInt(e.toFixed(n).replace(".",""))%Number.parseInt(t.toFixed(n).replace(".",""))/10**n}(r.value,t.value))||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),ym=eh("$ZodCheckNumberFormat",(e,t)=>{hm.init(e,t),t.format=t.format||"float64";const r=t.format?.includes("int"),s=r?"int":"number",[a,n]=jh[t.format];e._zod.onattach.push(e=>{const s=e._zod.bag;s.format=t.format,s.minimum=a,s.maximum=n,r&&(s.pattern=om)}),e._zod.check=i=>{const o=i.value;if(r){if(!Number.isInteger(o))return void i.issues.push({expected:s,format:t.format,code:"invalid_type",continue:!1,input:o,inst:e});if(!Number.isSafeInteger(o))return void(o>0?i.issues.push({input:o,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}):i.issues.push({input:o,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:s,continue:!t.abort}))}o<a&&i.issues.push({origin:"number",input:o,code:"too_small",minimum:a,inclusive:!0,inst:e,continue:!t.abort}),o>n&&i.issues.push({origin:"number",input:o,code:"too_big",maximum:n,inst:e})}}),xm=eh("$ZodCheckMaxLength",(e,t)=>{var r;hm.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!ih(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<r&&(e._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const s=r.value;if(s.length<=t.maximum)return;const a=Eh(s);r.issues.push({origin:a,code:"too_big",maximum:t.maximum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),vm=eh("$ZodCheckMinLength",(e,t)=>{var r;hm.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!ih(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>r&&(e._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const s=r.value;if(s.length>=t.minimum)return;const a=Eh(s);r.issues.push({origin:a,code:"too_small",minimum:t.minimum,inclusive:!0,input:s,inst:e,continue:!t.abort})}}),bm=eh("$ZodCheckLengthEquals",(e,t)=>{var r;hm.init(e,t),(r=e._zod.def).when??(r.when=e=>{const t=e.value;return!ih(t)&&void 0!==t.length}),e._zod.onattach.push(e=>{const r=e._zod.bag;r.minimum=t.length,r.maximum=t.length,r.length=t.length}),e._zod.check=r=>{const s=r.value,a=s.length;if(a===t.length)return;const n=Eh(s),i=a>t.length;r.issues.push({origin:n,...i?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),wm=eh("$ZodCheckStringFormat",(e,t)=>{var r,s;hm.init(e,t),e._zod.onattach.push(e=>{const r=e._zod.bag;r.format=t.format,t.pattern&&(r.patterns??(r.patterns=new Set),r.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:t.format,input:r.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(s=e._zod).check??(s.check=()=>{})}),jm=eh("$ZodCheckRegex",(e,t)=>{wm.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,t.pattern.test(r.value)||r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),km=eh("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=dm),wm.init(e,t)}),Nm=eh("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=um),wm.init(e,t)}),Sm=eh("$ZodCheckIncludes",(e,t)=>{hm.init(e,t);const r=vh(t.includes),s=new RegExp("number"==typeof t.position?`^.{${t.position}}${r}`:r);t.pattern=s,e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(s)}),e._zod.check=r=>{r.value.includes(t.includes,t.position)||r.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:r.value,inst:e,continue:!t.abort})}}),_m=eh("$ZodCheckStartsWith",(e,t)=>{hm.init(e,t);const r=new RegExp(`^${vh(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),Em=eh("$ZodCheckEndsWith",(e,t)=>{hm.init(e,t);const r=new RegExp(`.*${vh(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(e=>{const t=e._zod.bag;t.patterns??(t.patterns=new Set),t.patterns.add(r)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),Cm=eh("$ZodCheckOverwrite",(e,t)=>{hm.init(e,t),e._zod.check=e=>{e.value=t.tx(e.value)}});class Im{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if("function"==typeof e)return e(this,{execution:"sync"}),void e(this,{execution:"async"});const t=e.split("\n").filter(e=>e),r=Math.min(...t.map(e=>e.length-e.trimStart().length)),s=t.map(e=>e.slice(r)).map(e=>" ".repeat(2*this.indent)+e);for(const a of s)this.content.push(a)}compile(){const e=Function,t=this?.args;return new e(...t,[...(this?.content??[""]).map(e=>`  ${e}`)].join("\n"))}}const Tm={major:4,minor:0,patch:17},Rm=eh("$ZodType",(e,t)=>{var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=Tm;const s=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&s.unshift(e);for(const a of s)for(const t of a._zod.onattach)t(e);if(0===s.length)(r=e._zod).deferred??(r.deferred=[]),e._zod.deferred?.push(()=>{e._zod.run=e._zod.parse});else{const t=(e,t,r)=>{let s,a=kh(e);for(const n of t){if(n._zod.def.when){if(!n._zod.def.when(e))continue}else if(a)continue;const t=e.issues.length,i=n._zod.check(e);if(i instanceof Promise&&!1===r?.async)throw new th;if(s||i instanceof Promise)s=(s??Promise.resolve()).then(async()=>{await i;e.issues.length!==t&&(a||(a=kh(e,t)))});else{if(e.issues.length===t)continue;a||(a=kh(e,t))}}return s?s.then(()=>e):e};e._zod.run=(r,a)=>{const n=e._zod.parse(r,a);if(n instanceof Promise){if(!1===a.async)throw new th;return n.then(e=>t(e,s,a))}return t(n,s,a)}}e["~standard"]={validate:t=>{try{const r=Lh(e,t);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(r){return Fh(e,t).then(e=>e.success?{value:e.data}:{issues:e.error?.issues})}},vendor:"zod",version:1}}),Am=eh("$ZodString",(e,t)=>{var r;Rm.init(e,t),e._zod.pattern=[...e?._zod.bag?.patterns??[]].pop()??(r=e._zod.bag,new RegExp(`^${r?`[\\s\\S]{${r?.minimum??0},${r?.maximum??""}}`:"[\\s\\S]*"}$`)),e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=String(r.value)}catch(s){}return"string"==typeof r.value||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Pm=eh("$ZodStringFormat",(e,t)=>{wm.init(e,t),Am.init(e,t)}),Om=eh("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=Kh),Pm.init(e,t)}),Mm=eh("$ZodUUID",(e,t)=>{if(t.version){const e={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(void 0===e)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=Zh(e))}else t.pattern??(t.pattern=Zh());Pm.init(e,t)}),Dm=eh("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=Gh),Pm.init(e,t)}),Lm=eh("$ZodURL",(e,t)=>{Pm.init(e,t),e._zod.check=r=>{try{const s=r.value.trim(),a=new URL(s);return t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(a.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:rm.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(a.protocol.endsWith(":")?a.protocol.slice(0,-1):a.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),void(t.normalize?r.value=a.href:r.value=s)}catch(s){r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),zm=eh("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Pm.init(e,t)}),Fm=eh("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=qh),Pm.init(e,t)}),Um=eh("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=Uh),Pm.init(e,t)}),$m=eh("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=$h),Pm.init(e,t)}),Vm=eh("$ZodULID",(e,t)=>{t.pattern??(t.pattern=Vh),Pm.init(e,t)}),Hm=eh("$ZodXID",(e,t)=>{t.pattern??(t.pattern=Hh),Pm.init(e,t)}),Bm=eh("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=Bh),Pm.init(e,t)}),qm=eh("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=function(e){const t=im({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const s=`${t}(?:${r.join("|")})`;return new RegExp(`^${am}T(?:${s})$`)}(t)),Pm.init(e,t)}),Wm=eh("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=nm),Pm.init(e,t)}),Km=eh("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=new RegExp(`^${im(t)}$`)),Pm.init(e,t)}),Zm=eh("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=Wh),Pm.init(e,t)}),Gm=eh("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=Jh),Pm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv4"})}),Jm=eh("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=Yh),Pm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Ym=eh("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=Qh),Pm.init(e,t)}),Qm=eh("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=Xh),Pm.init(e,t),e._zod.check=r=>{const[s,a]=r.value.split("/");try{if(!a)throw new Error;const e=Number(a);if(`${e}`!==a)throw new Error;if(e<0||e>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function Xm(e){if(""===e)return!0;if(e.length%4!=0)return!1;try{return atob(e),!0}catch{return!1}}const ep=eh("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=em),Pm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{Xm(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});const tp=eh("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=tm),Pm.init(e,t),e._zod.onattach.push(e=>{e._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{(function(e){if(!tm.test(e))return!1;const t=e.replace(/[-_]/g,e=>"-"===e?"+":"/");return Xm(t.padEnd(4*Math.ceil(t.length/4),"="))})(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),rp=eh("$ZodE164",(e,t)=>{t.pattern??(t.pattern=sm),Pm.init(e,t)});const sp=eh("$ZodJWT",(e,t)=>{Pm.init(e,t),e._zod.check=r=>{(function(e,t=null){try{const r=e.split(".");if(3!==r.length)return!1;const[s]=r;if(!s)return!1;const a=JSON.parse(atob(s));return!("typ"in a&&"JWT"!==a?.typ||!a.alg||t&&(!("alg"in a)||a.alg!==t))}catch{return!1}})(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),ap=eh("$ZodNumber",(e,t)=>{Rm.init(e,t),e._zod.pattern=e._zod.bag.pattern??lm,e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=Number(r.value)}catch(i){}const a=r.value;if("number"==typeof a&&!Number.isNaN(a)&&Number.isFinite(a))return r;const n="number"==typeof a?Number.isNaN(a)?"NaN":Number.isFinite(a)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:a,inst:e,...n?{received:n}:{}}),r}}),np=eh("$ZodNumber",(e,t)=>{ym.init(e,t),ap.init(e,t)}),ip=eh("$ZodBoolean",(e,t)=>{Rm.init(e,t),e._zod.pattern=cm,e._zod.parse=(r,s)=>{if(t.coerce)try{r.value=Boolean(r.value)}catch(n){}const a=r.value;return"boolean"==typeof a||r.issues.push({expected:"boolean",code:"invalid_type",input:a,inst:e}),r}}),op=eh("$ZodAny",(e,t)=>{Rm.init(e,t),e._zod.parse=e=>e}),lp=eh("$ZodUnknown",(e,t)=>{Rm.init(e,t),e._zod.parse=e=>e}),cp=eh("$ZodNever",(e,t)=>{Rm.init(e,t),e._zod.parse=(t,r)=>(t.issues.push({expected:"never",code:"invalid_type",input:t.value,inst:e}),t)});function dp(e,t,r){e.issues.length&&t.issues.push(...Nh(r,e.issues)),t.value[r]=e.value}const up=eh("$ZodArray",(e,t)=>{Rm.init(e,t),e._zod.parse=(r,s)=>{const a=r.value;if(!Array.isArray(a))return r.issues.push({expected:"array",code:"invalid_type",input:a,inst:e}),r;r.value=Array(a.length);const n=[];for(let e=0;e<a.length;e++){const i=a[e],o=t.element._zod.run({value:i,issues:[]},s);o instanceof Promise?n.push(o.then(t=>dp(t,r,e))):dp(o,r,e)}return n.length?Promise.all(n).then(()=>r):r}});function hp(e,t,r,s){e.issues.length&&t.issues.push(...Nh(r,e.issues)),void 0===e.value?r in s&&(t.value[r]=void 0):t.value[r]=e.value}const mp=eh("$ZodObject",(e,t)=>{Rm.init(e,t);const r=nh(()=>{const e=Object.keys(t.shape);for(const a of e)if(!t.shape[a]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${a}": expected a Zod schema`);const r=(s=t.shape,Object.keys(s).filter(e=>"optional"===s[e]._zod.optin&&"optional"===s[e]._zod.optout));var s;return{shape:t.shape,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}});ch(e._zod,"propValues",()=>{const e=t.shape,r={};for(const t in e){const s=e[t]._zod;if(s.values){r[t]??(r[t]=new Set);for(const e of s.values)r[t].add(e)}}return r});let s;const a=ph,n=!rh.jitless,i=n&&fh.value,o=t.catchall;let l;e._zod.parse=(c,d)=>{l??(l=r.value);const u=c.value;if(!a(u))return c.issues.push({expected:"object",code:"invalid_type",input:u,inst:e}),c;const h=[];if(n&&i&&!1===d?.async&&!0!==d.jitless)s||(s=(e=>{const t=new Im(["shape","payload","ctx"]),s=r.value,a=e=>{const t=hh(e);return`shape[${t}]._zod.run({ value: input[${t}], issues: [] }, ctx)`};t.write("const input = payload.value;");const n=Object.create(null);let i=0;for(const r of s.keys)n[r]="key_"+i++;t.write("const newResult = {}");for(const r of s.keys){const e=n[r],s=hh(r);t.write(`const ${e} = ${a(r)};`),t.write(`\n        if (${e}.issues.length) {\n          payload.issues = payload.issues.concat(${e}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${s}, ...iss.path] : [${s}]\n          })));\n        }\n        \n        if (${e}.value === undefined) {\n          if (${s} in input) {\n            newResult[${s}] = undefined;\n          }\n        } else {\n          newResult[${s}] = ${e}.value;\n        }\n      `)}t.write("payload.value = newResult;"),t.write("return payload;");const o=t.compile();return(t,r)=>o(e,t,r)})(t.shape)),c=s(c,d);else{c.value={};const e=l.shape;for(const t of l.keys){const r=e[t]._zod.run({value:u[t],issues:[]},d);r instanceof Promise?h.push(r.then(e=>hp(e,c,t,u))):hp(r,c,t,u)}}if(!o)return h.length?Promise.all(h).then(()=>c):c;const m=[],p=l.keySet,f=o._zod,g=f.def.type;for(const e of Object.keys(u)){if(p.has(e))continue;if("never"===g){m.push(e);continue}const t=f.run({value:u[e],issues:[]},d);t instanceof Promise?h.push(t.then(t=>hp(t,c,e,u))):hp(t,c,e,u)}return m.length&&c.issues.push({code:"unrecognized_keys",keys:m,input:u,inst:e}),h.length?Promise.all(h).then(()=>c):c}});function pp(e,t,r,s){for(const n of e)if(0===n.issues.length)return t.value=n.value,t;const a=e.filter(e=>!kh(e));return 1===a.length?(t.value=a[0].value,a[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(e=>e.issues.map(e=>_h(e,s,sh())))}),t)}const fp=eh("$ZodUnion",(e,t)=>{Rm.init(e,t),ch(e._zod,"optin",()=>t.options.some(e=>"optional"===e._zod.optin)?"optional":void 0),ch(e._zod,"optout",()=>t.options.some(e=>"optional"===e._zod.optout)?"optional":void 0),ch(e._zod,"values",()=>{if(t.options.every(e=>e._zod.values))return new Set(t.options.flatMap(e=>Array.from(e._zod.values)))}),ch(e._zod,"pattern",()=>{if(t.options.every(e=>e._zod.pattern)){const e=t.options.map(e=>e._zod.pattern);return new RegExp(`^(${e.map(e=>oh(e.source)).join("|")})$`)}});const r=1===t.options.length,s=t.options[0]._zod.run;e._zod.parse=(a,n)=>{if(r)return s(a,n);let i=!1;const o=[];for(const e of t.options){const t=e._zod.run({value:a.value,issues:[]},n);if(t instanceof Promise)o.push(t),i=!0;else{if(0===t.issues.length)return t;o.push(t)}}return i?Promise.all(o).then(t=>pp(t,a,e,n)):pp(o,a,e,n)}}),gp=eh("$ZodIntersection",(e,t)=>{Rm.init(e,t),e._zod.parse=(e,r)=>{const s=e.value,a=t.left._zod.run({value:s,issues:[]},r),n=t.right._zod.run({value:s,issues:[]},r);return a instanceof Promise||n instanceof Promise?Promise.all([a,n]).then(([t,r])=>xp(e,t,r)):xp(e,a,n)}});function yp(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e===+t)return{valid:!0,data:e};if(gh(e)&&gh(t)){const r=Object.keys(t),s=Object.keys(e).filter(e=>-1!==r.indexOf(e)),a={...e,...t};for(const n of s){const r=yp(e[n],t[n]);if(!r.valid)return{valid:!1,mergeErrorPath:[n,...r.mergeErrorPath]};a[n]=r.data}return{valid:!0,data:a}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let s=0;s<e.length;s++){const a=yp(e[s],t[s]);if(!a.valid)return{valid:!1,mergeErrorPath:[s,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function xp(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),kh(e))return e;const s=yp(t.value,r.value);if(!s.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(s.mergeErrorPath)}`);return e.value=s.data,e}const vp=eh("$ZodRecord",(e,t)=>{Rm.init(e,t),e._zod.parse=(r,s)=>{const a=r.value;if(!gh(a))return r.issues.push({expected:"record",code:"invalid_type",input:a,inst:e}),r;const n=[];if(t.keyType._zod.values){const i=t.keyType._zod.values;r.value={};for(const e of i)if("string"==typeof e||"number"==typeof e||"symbol"==typeof e){const i=t.valueType._zod.run({value:a[e],issues:[]},s);i instanceof Promise?n.push(i.then(t=>{t.issues.length&&r.issues.push(...Nh(e,t.issues)),r.value[e]=t.value})):(i.issues.length&&r.issues.push(...Nh(e,i.issues)),r.value[e]=i.value)}let o;for(const e in a)i.has(e)||(o=o??[],o.push(e));o&&o.length>0&&r.issues.push({code:"unrecognized_keys",input:a,inst:e,keys:o})}else{r.value={};for(const i of Reflect.ownKeys(a)){if("__proto__"===i)continue;const o=t.keyType._zod.run({value:i,issues:[]},s);if(o instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(o.issues.length){r.issues.push({code:"invalid_key",origin:"record",issues:o.issues.map(e=>_h(e,s,sh())),input:i,path:[i],inst:e}),r.value[o.value]=o.value;continue}const l=t.valueType._zod.run({value:a[i],issues:[]},s);l instanceof Promise?n.push(l.then(e=>{e.issues.length&&r.issues.push(...Nh(i,e.issues)),r.value[o.value]=e.value})):(l.issues.length&&r.issues.push(...Nh(i,l.issues)),r.value[o.value]=l.value)}}return n.length?Promise.all(n).then(()=>r):r}}),bp=eh("$ZodEnum",(e,t)=>{Rm.init(e,t);const r=function(e){const t=Object.values(e).filter(e=>"number"==typeof e);return Object.entries(e).filter(([e,r])=>-1===t.indexOf(+e)).map(([e,t])=>t)}(t.entries),s=new Set(r);e._zod.values=s,e._zod.pattern=new RegExp(`^(${r.filter(e=>xh.has(typeof e)).map(e=>"string"==typeof e?vh(e):e.toString()).join("|")})$`),e._zod.parse=(t,a)=>{const n=t.value;return s.has(n)||t.issues.push({code:"invalid_value",values:r,input:n,inst:e}),t}}),wp=eh("$ZodTransform",(e,t)=>{Rm.init(e,t),e._zod.parse=(e,r)=>{const s=t.transform(e.value,e);if(r.async){return(s instanceof Promise?s:Promise.resolve(s)).then(t=>(e.value=t,e))}if(s instanceof Promise)throw new th;return e.value=s,e}});function jp(e,t){return e.issues.length&&void 0===t?{issues:[],value:void 0}:e}const kp=eh("$ZodOptional",(e,t)=>{Rm.init(e,t),e._zod.optin="optional",e._zod.optout="optional",ch(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),ch(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${oh(e.source)})?$`):void 0}),e._zod.parse=(e,r)=>{if("optional"===t.innerType._zod.optin){const s=t.innerType._zod.run(e,r);return s instanceof Promise?s.then(t=>jp(t,e.value)):jp(s,e.value)}return void 0===e.value?e:t.innerType._zod.run(e,r)}}),Np=eh("$ZodNullable",(e,t)=>{Rm.init(e,t),ch(e._zod,"optin",()=>t.innerType._zod.optin),ch(e._zod,"optout",()=>t.innerType._zod.optout),ch(e._zod,"pattern",()=>{const e=t.innerType._zod.pattern;return e?new RegExp(`^(${oh(e.source)}|null)$`):void 0}),ch(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(e,r)=>null===e.value?e:t.innerType._zod.run(e,r)}),Sp=eh("$ZodDefault",(e,t)=>{Rm.init(e,t),e._zod.optin="optional",ch(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{if(void 0===e.value)return e.value=t.defaultValue,e;const s=t.innerType._zod.run(e,r);return s instanceof Promise?s.then(e=>_p(e,t)):_p(s,t)}});function _p(e,t){return void 0===e.value&&(e.value=t.defaultValue),e}const Ep=eh("$ZodPrefault",(e,t)=>{Rm.init(e,t),e._zod.optin="optional",ch(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>(void 0===e.value&&(e.value=t.defaultValue),t.innerType._zod.run(e,r))}),Cp=eh("$ZodNonOptional",(e,t)=>{Rm.init(e,t),ch(e._zod,"values",()=>{const e=t.innerType._zod.values;return e?new Set([...e].filter(e=>void 0!==e)):void 0}),e._zod.parse=(r,s)=>{const a=t.innerType._zod.run(r,s);return a instanceof Promise?a.then(t=>Ip(t,e)):Ip(a,e)}});function Ip(e,t){return e.issues.length||void 0!==e.value||e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Tp=eh("$ZodCatch",(e,t)=>{Rm.init(e,t),ch(e._zod,"optin",()=>t.innerType._zod.optin),ch(e._zod,"optout",()=>t.innerType._zod.optout),ch(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(e,r)=>{const s=t.innerType._zod.run(e,r);return s instanceof Promise?s.then(s=>(e.value=s.value,s.issues.length&&(e.value=t.catchValue({...e,error:{issues:s.issues.map(e=>_h(e,r,sh()))},input:e.value}),e.issues=[]),e)):(e.value=s.value,s.issues.length&&(e.value=t.catchValue({...e,error:{issues:s.issues.map(e=>_h(e,r,sh()))},input:e.value}),e.issues=[]),e)}}),Rp=eh("$ZodPipe",(e,t)=>{Rm.init(e,t),ch(e._zod,"values",()=>t.in._zod.values),ch(e._zod,"optin",()=>t.in._zod.optin),ch(e._zod,"optout",()=>t.out._zod.optout),ch(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(e,r)=>{const s=t.in._zod.run(e,r);return s instanceof Promise?s.then(e=>Ap(e,t,r)):Ap(s,t,r)}});function Ap(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const Pp=eh("$ZodReadonly",(e,t)=>{Rm.init(e,t),ch(e._zod,"propValues",()=>t.innerType._zod.propValues),ch(e._zod,"values",()=>t.innerType._zod.values),ch(e._zod,"optin",()=>t.innerType._zod.optin),ch(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(e,r)=>{const s=t.innerType._zod.run(e,r);return s instanceof Promise?s.then(Op):Op(s)}});function Op(e){return e.value=Object.freeze(e.value),e}const Mp=eh("$ZodCustom",(e,t)=>{hm.init(e,t),Rm.init(e,t),e._zod.parse=(e,t)=>e,e._zod.check=r=>{const s=r.value,a=t.fn(s);if(a instanceof Promise)return a.then(t=>Dp(t,r,s,e));Dp(a,r,s,e)}});function Dp(e,t,r,s){if(!e){const e={code:"custom",input:r,inst:s,path:[...s._zod.def.path??[]],continue:!s._zod.def.abort};s._zod.def.params&&(e.params=s._zod.def.params),t.issues.push(Ch(e))}}class Lp{constructor(){this._map=new Map,this._idmap=new Map}add(e,...t){const r=t[0];if(this._map.set(e,r),r&&"object"==typeof r&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(e){const t=this._map.get(e);return t&&"object"==typeof t&&"id"in t&&this._idmap.delete(t.id),this._map.delete(e),this}get(e){const t=e._zod.parent;if(t){const r={...this.get(t)??{}};delete r.id;const s={...r,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function zp(){return new Lp}const Fp=zp();function Up(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...wh(t)})}function $p(e,t){return new pm({check:"less_than",...wh(t),value:e,inclusive:!1})}function Vp(e,t){return new pm({check:"less_than",...wh(t),value:e,inclusive:!0})}function Hp(e,t){return new fm({check:"greater_than",...wh(t),value:e,inclusive:!1})}function Bp(e,t){return new fm({check:"greater_than",...wh(t),value:e,inclusive:!0})}function qp(e,t){return new gm({check:"multiple_of",...wh(t),value:e})}function Wp(e,t){return new xm({check:"max_length",...wh(t),maximum:e})}function Kp(e,t){return new vm({check:"min_length",...wh(t),minimum:e})}function Zp(e,t){return new bm({check:"length_equals",...wh(t),length:e})}function Gp(e){return new Cm({check:"overwrite",tx:e})}function Jp(e){const t=function(e,t){const r=new hm({check:"custom",...wh(t)});return r._zod.check=e,r}(r=>(r.addIssue=e=>{if("string"==typeof e)r.issues.push(Ch(e,r.value,t._zod.def));else{const s=e;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=t),s.continue??(s.continue=!t._zod.def.abort),r.issues.push(Ch(s))}},e(r.value,r)));return t}const Yp=eh("ZodISODateTime",(e,t)=>{qm.init(e,t),yf.init(e,t)});function Qp(e){return function(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...wh(t)})}(Yp,e)}const Xp=eh("ZodISODate",(e,t)=>{Wm.init(e,t),yf.init(e,t)});function ef(e){return function(e,t){return new e({type:"string",format:"date",check:"string_format",...wh(t)})}(Xp,e)}const tf=eh("ZodISOTime",(e,t)=>{Km.init(e,t),yf.init(e,t)});function rf(e){return function(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...wh(t)})}(tf,e)}const sf=eh("ZodISODuration",(e,t)=>{Zm.init(e,t),yf.init(e,t)});function af(e){return function(e,t){return new e({type:"string",format:"duration",check:"string_format",...wh(t)})}(sf,e)}const nf=(e,t)=>{Th.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:t=>function(e,t){const r=t||function(e){return e.message},s={_errors:[]},a=e=>{for(const t of e.issues)if("invalid_union"===t.code&&t.errors.length)t.errors.map(e=>a({issues:e}));else if("invalid_key"===t.code)a({issues:t.issues});else if("invalid_element"===t.code)a({issues:t.issues});else if(0===t.path.length)s._errors.push(r(t));else{let e=s,a=0;for(;a<t.path.length;){const s=t.path[a];a===t.path.length-1?(e[s]=e[s]||{_errors:[]},e[s]._errors.push(r(t))):e[s]=e[s]||{_errors:[]},e=e[s],a++}}};return a(e),s}(e,t)},flatten:{value:t=>function(e,t=e=>e.message){const r={},s=[];for(const a of e.issues)a.path.length>0?(r[a.path[0]]=r[a.path[0]]||[],r[a.path[0]].push(t(a))):s.push(t(a));return{formErrors:s,fieldErrors:r}}(e,t)},addIssue:{value:t=>{e.issues.push(t),e.message=JSON.stringify(e.issues,ah,2)}},addIssues:{value:t=>{e.issues.push(...t),e.message=JSON.stringify(e.issues,ah,2)}},isEmpty:{get:()=>0===e.issues.length}})},of=eh("ZodError",nf),lf=eh("ZodError",nf,{Parent:Error}),cf=Ah(lf),df=Oh(lf),uf=Dh(lf),hf=zh(lf),mf=eh("ZodType",(e,t)=>(Rm.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(e=>"function"==typeof e?{_zod:{check:e,def:{check:"custom"},onattach:[]}}:e)]}),e.clone=(t,r)=>bh(e,t,r),e.brand=()=>e,e.register=(t,r)=>(t.add(e,r),e),e.parse=(t,r)=>cf(e,t,r,{callee:e.parse}),e.safeParse=(t,r)=>uf(e,t,r),e.parseAsync=async(t,r)=>df(e,t,r,{callee:e.parseAsync}),e.safeParseAsync=async(t,r)=>hf(e,t,r),e.spa=e.safeParseAsync,e.refine=(t,r)=>e.check(function(e,t={}){return function(e,t,r){return new e({type:"custom",check:"custom",fn:t,...wh(r)})}(fg,e,t)}(t,r)),e.superRefine=t=>e.check(Jp(t)),e.overwrite=t=>e.check(Gp(t)),e.optional=()=>ng(e),e.nullable=()=>og(e),e.nullish=()=>ng(og(e)),e.nonoptional=t=>function(e,t){return new dg({type:"nonoptional",innerType:e,...wh(t)})}(e,t),e.array=()=>Gf(e),e.or=t=>{return new Qf({type:"union",options:[e,t],...wh(r)});var r},e.and=t=>new Xf({type:"intersection",left:e,right:t}),e.transform=t=>mg(e,new sg({type:"transform",transform:t})),e.default=t=>{return r=t,new lg({type:"default",innerType:e,get defaultValue(){return"function"==typeof r?r():yh(r)}});var r},e.prefault=t=>{return r=t,new cg({type:"prefault",innerType:e,get defaultValue(){return"function"==typeof r?r():yh(r)}});var r},e.catch=t=>{return new ug({type:"catch",innerType:e,catchValue:"function"==typeof(r=t)?r:()=>r});var r},e.pipe=t=>mg(e,t),e.readonly=()=>new pg({type:"readonly",innerType:e}),e.describe=t=>{const r=e.clone();return Fp.add(r,{description:t}),r},Object.defineProperty(e,"description",{get:()=>Fp.get(e)?.description,configurable:!0}),e.meta=(...t)=>{if(0===t.length)return Fp.get(e);const r=e.clone();return Fp.add(r,t[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),pf=eh("_ZodString",(e,t)=>{Am.init(e,t),mf.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...t)=>e.check(function(e,t){return new jm({check:"string_format",format:"regex",...wh(t),pattern:e})}(...t)),e.includes=(...t)=>e.check(function(e,t){return new Sm({check:"string_format",format:"includes",...wh(t),includes:e})}(...t)),e.startsWith=(...t)=>e.check(function(e,t){return new _m({check:"string_format",format:"starts_with",...wh(t),prefix:e})}(...t)),e.endsWith=(...t)=>e.check(function(e,t){return new Em({check:"string_format",format:"ends_with",...wh(t),suffix:e})}(...t)),e.min=(...t)=>e.check(Kp(...t)),e.max=(...t)=>e.check(Wp(...t)),e.length=(...t)=>e.check(Zp(...t)),e.nonempty=(...t)=>e.check(Kp(1,...t)),e.lowercase=t=>e.check(function(e){return new km({check:"string_format",format:"lowercase",...wh(e)})}(t)),e.uppercase=t=>e.check(function(e){return new Nm({check:"string_format",format:"uppercase",...wh(e)})}(t)),e.trim=()=>e.check(Gp(e=>e.trim())),e.normalize=(...t)=>e.check(function(e){return Gp(t=>t.normalize(e))}(...t)),e.toLowerCase=()=>e.check(Gp(e=>e.toLowerCase())),e.toUpperCase=()=>e.check(Gp(e=>e.toUpperCase()))}),ff=eh("ZodString",(e,t)=>{Am.init(e,t),pf.init(e,t),e.email=t=>e.check(function(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...wh(t)})}(xf,t)),e.url=t=>e.check(function(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...wh(t)})}(wf,t)),e.jwt=t=>e.check(function(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...wh(t)})}(Df,t)),e.emoji=t=>e.check(function(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...wh(t)})}(jf,t)),e.guid=t=>e.check(Up(vf,t)),e.uuid=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...wh(t)})}(bf,t)),e.uuidv4=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...wh(t)})}(bf,t)),e.uuidv6=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...wh(t)})}(bf,t)),e.uuidv7=t=>e.check(function(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...wh(t)})}(bf,t)),e.nanoid=t=>e.check(function(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...wh(t)})}(kf,t)),e.guid=t=>e.check(Up(vf,t)),e.cuid=t=>e.check(function(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...wh(t)})}(Nf,t)),e.cuid2=t=>e.check(function(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...wh(t)})}(Sf,t)),e.ulid=t=>e.check(function(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...wh(t)})}(_f,t)),e.base64=t=>e.check(function(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...wh(t)})}(Pf,t)),e.base64url=t=>e.check(function(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...wh(t)})}(Of,t)),e.xid=t=>e.check(function(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...wh(t)})}(Ef,t)),e.ksuid=t=>e.check(function(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...wh(t)})}(Cf,t)),e.ipv4=t=>e.check(function(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...wh(t)})}(If,t)),e.ipv6=t=>e.check(function(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...wh(t)})}(Tf,t)),e.cidrv4=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...wh(t)})}(Rf,t)),e.cidrv6=t=>e.check(function(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...wh(t)})}(Af,t)),e.e164=t=>e.check(function(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...wh(t)})}(Mf,t)),e.datetime=t=>e.check(Qp(t)),e.date=t=>e.check(ef(t)),e.time=t=>e.check(rf(t)),e.duration=t=>e.check(af(t))});function gf(e){return function(e,t){return new e({type:"string",...wh(t)})}(ff,e)}const yf=eh("ZodStringFormat",(e,t)=>{Pm.init(e,t),pf.init(e,t)}),xf=eh("ZodEmail",(e,t)=>{Dm.init(e,t),yf.init(e,t)}),vf=eh("ZodGUID",(e,t)=>{Om.init(e,t),yf.init(e,t)}),bf=eh("ZodUUID",(e,t)=>{Mm.init(e,t),yf.init(e,t)}),wf=eh("ZodURL",(e,t)=>{Lm.init(e,t),yf.init(e,t)}),jf=eh("ZodEmoji",(e,t)=>{zm.init(e,t),yf.init(e,t)}),kf=eh("ZodNanoID",(e,t)=>{Fm.init(e,t),yf.init(e,t)}),Nf=eh("ZodCUID",(e,t)=>{Um.init(e,t),yf.init(e,t)}),Sf=eh("ZodCUID2",(e,t)=>{$m.init(e,t),yf.init(e,t)}),_f=eh("ZodULID",(e,t)=>{Vm.init(e,t),yf.init(e,t)}),Ef=eh("ZodXID",(e,t)=>{Hm.init(e,t),yf.init(e,t)}),Cf=eh("ZodKSUID",(e,t)=>{Bm.init(e,t),yf.init(e,t)}),If=eh("ZodIPv4",(e,t)=>{Gm.init(e,t),yf.init(e,t)}),Tf=eh("ZodIPv6",(e,t)=>{Jm.init(e,t),yf.init(e,t)}),Rf=eh("ZodCIDRv4",(e,t)=>{Ym.init(e,t),yf.init(e,t)}),Af=eh("ZodCIDRv6",(e,t)=>{Qm.init(e,t),yf.init(e,t)}),Pf=eh("ZodBase64",(e,t)=>{ep.init(e,t),yf.init(e,t)}),Of=eh("ZodBase64URL",(e,t)=>{tp.init(e,t),yf.init(e,t)}),Mf=eh("ZodE164",(e,t)=>{rp.init(e,t),yf.init(e,t)}),Df=eh("ZodJWT",(e,t)=>{sp.init(e,t),yf.init(e,t)}),Lf=eh("ZodNumber",(e,t)=>{ap.init(e,t),mf.init(e,t),e.gt=(t,r)=>e.check(Hp(t,r)),e.gte=(t,r)=>e.check(Bp(t,r)),e.min=(t,r)=>e.check(Bp(t,r)),e.lt=(t,r)=>e.check($p(t,r)),e.lte=(t,r)=>e.check(Vp(t,r)),e.max=(t,r)=>e.check(Vp(t,r)),e.int=t=>e.check(Uf(t)),e.safe=t=>e.check(Uf(t)),e.positive=t=>e.check(Hp(0,t)),e.nonnegative=t=>e.check(Bp(0,t)),e.negative=t=>e.check($p(0,t)),e.nonpositive=t=>e.check(Vp(0,t)),e.multipleOf=(t,r)=>e.check(qp(t,r)),e.step=(t,r)=>e.check(qp(t,r)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function zf(e){return function(e,t){return new e({type:"number",checks:[],...wh(t)})}(Lf,e)}const Ff=eh("ZodNumberFormat",(e,t)=>{np.init(e,t),Lf.init(e,t)});function Uf(e){return function(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...wh(t)})}(Ff,e)}const $f=eh("ZodBoolean",(e,t)=>{ip.init(e,t),mf.init(e,t)});function Vf(e){return function(e,t){return new e({type:"boolean",...wh(t)})}($f,e)}const Hf=eh("ZodAny",(e,t)=>{op.init(e,t),mf.init(e,t)});const Bf=eh("ZodUnknown",(e,t)=>{lp.init(e,t),mf.init(e,t)});function qf(){return new Bf({type:"unknown"})}const Wf=eh("ZodNever",(e,t)=>{cp.init(e,t),mf.init(e,t)});function Kf(e){return function(e,t){return new e({type:"never",...wh(t)})}(Wf,e)}const Zf=eh("ZodArray",(e,t)=>{up.init(e,t),mf.init(e,t),e.element=t.element,e.min=(t,r)=>e.check(Kp(t,r)),e.nonempty=t=>e.check(Kp(1,t)),e.max=(t,r)=>e.check(Wp(t,r)),e.length=(t,r)=>e.check(Zp(t,r)),e.unwrap=()=>e.element});function Gf(e,t){return function(e,t,r){return new e({type:"array",element:t,...wh(r)})}(Zf,e,t)}const Jf=eh("ZodObject",(e,t)=>{mp.init(e,t),mf.init(e,t),ch(e,"shape",()=>t.shape),e.keyof=()=>rg(Object.keys(e._zod.def.shape)),e.catchall=t=>e.clone({...e._zod.def,catchall:t}),e.passthrough=()=>e.clone({...e._zod.def,catchall:qf()}),e.loose=()=>e.clone({...e._zod.def,catchall:qf()}),e.strict=()=>e.clone({...e._zod.def,catchall:Kf()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=t=>function(e,t){if(!gh(t))throw new Error("Invalid input to extend: expected a plain object");const r=uh(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t};return dh(this,"shape",r),r},checks:[]});return bh(e,r)}(e,t),e.merge=t=>function(e,t){const r=uh(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return dh(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return bh(e,r)}(e,t),e.pick=t=>function(e,t){const r=e._zod.def;return bh(e,uh(e._zod.def,{get shape(){const e={};for(const s in t){if(!(s in r.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(e[s]=r.shape[s])}return dh(this,"shape",e),e},checks:[]}))}(e,t),e.omit=t=>function(e,t){const r=e._zod.def,s=uh(e._zod.def,{get shape(){const s={...e._zod.def.shape};for(const e in t){if(!(e in r.shape))throw new Error(`Unrecognized key: "${e}"`);t[e]&&delete s[e]}return dh(this,"shape",s),s},checks:[]});return bh(e,s)}(e,t),e.partial=(...t)=>function(e,t,r){const s=uh(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const t in r){if(!(t in s))throw new Error(`Unrecognized key: "${t}"`);r[t]&&(a[t]=e?new e({type:"optional",innerType:s[t]}):s[t])}else for(const t in s)a[t]=e?new e({type:"optional",innerType:s[t]}):s[t];return dh(this,"shape",a),a},checks:[]});return bh(t,s)}(ag,e,t[0]),e.required=(...t)=>function(e,t,r){const s=uh(t._zod.def,{get shape(){const s=t._zod.def.shape,a={...s};if(r)for(const t in r){if(!(t in a))throw new Error(`Unrecognized key: "${t}"`);r[t]&&(a[t]=new e({type:"nonoptional",innerType:s[t]}))}else for(const t in s)a[t]=new e({type:"nonoptional",innerType:s[t]});return dh(this,"shape",a),a},checks:[]});return bh(t,s)}(dg,e,t[0])});function Yf(e,t){const r={type:"object",get shape(){var t;return dh(this,"shape",e?(t=e,Object.create(Object.getPrototypeOf(t),Object.getOwnPropertyDescriptors(t))):{}),this.shape},...wh(t)};return new Jf(r)}const Qf=eh("ZodUnion",(e,t)=>{fp.init(e,t),mf.init(e,t),e.options=t.options});const Xf=eh("ZodIntersection",(e,t)=>{gp.init(e,t),mf.init(e,t)});const eg=eh("ZodRecord",(e,t)=>{vp.init(e,t),mf.init(e,t),e.keyType=t.keyType,e.valueType=t.valueType});const tg=eh("ZodEnum",(e,t)=>{bp.init(e,t),mf.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(e,s)=>{const a={};for(const n of e){if(!r.has(n))throw new Error(`Key ${n} not found in enum`);a[n]=t.entries[n]}return new tg({...t,checks:[],...wh(s),entries:a})},e.exclude=(e,s)=>{const a={...t.entries};for(const t of e){if(!r.has(t))throw new Error(`Key ${t} not found in enum`);delete a[t]}return new tg({...t,checks:[],...wh(s),entries:a})}});function rg(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(e=>[e,e])):e;return new tg({type:"enum",entries:r,...wh(t)})}const sg=eh("ZodTransform",(e,t)=>{wp.init(e,t),mf.init(e,t),e._zod.parse=(r,s)=>{r.addIssue=s=>{if("string"==typeof s)r.issues.push(Ch(s,r.value,t));else{const t=s;t.fatal&&(t.continue=!1),t.code??(t.code="custom"),t.input??(t.input=r.value),t.inst??(t.inst=e),r.issues.push(Ch(t))}};const a=t.transform(r.value,r);return a instanceof Promise?a.then(e=>(r.value=e,r)):(r.value=a,r)}});const ag=eh("ZodOptional",(e,t)=>{kp.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType});function ng(e){return new ag({type:"optional",innerType:e})}const ig=eh("ZodNullable",(e,t)=>{Np.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType});function og(e){return new ig({type:"nullable",innerType:e})}const lg=eh("ZodDefault",(e,t)=>{Sp.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});const cg=eh("ZodPrefault",(e,t)=>{Ep.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType});const dg=eh("ZodNonOptional",(e,t)=>{Cp.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType});const ug=eh("ZodCatch",(e,t)=>{Tp.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});const hg=eh("ZodPipe",(e,t)=>{Rp.init(e,t),mf.init(e,t),e.in=t.in,e.out=t.out});function mg(e,t){return new hg({type:"pipe",in:e,out:t})}const pg=eh("ZodReadonly",(e,t)=>{Pp.init(e,t),mf.init(e,t),e.unwrap=()=>e._zod.def.innerType});const fg=eh("ZodCustom",(e,t)=>{Mp.init(e,t),mf.init(e,t)});function gg(e,t={error:`Input not instance of ${e.name}`}){const r=new fg({type:"custom",check:"custom",fn:t=>t instanceof e,abort:!0,...wh(t)});return r._zod.bag.Class=e,r}let yg=()=>{};function xg(e){yg=e}var vg=(e=>(e.NETWORK="network",e.API="api",e.VALIDATION="validation",e.WORDPRESS="wordpress",e.WORDPRESS_TIMEOUT="wordpress_timeout",e.WORDPRESS_PARSE="wordpress_parse",e.WORDPRESS_CORS="wordpress_cors",e.WORDPRESS_AUTH="wordpress_auth",e.WORDPRESS_RATE_LIMIT="wordpress_rate_limit",e.AUTHENTICATION="authentication",e.UNKNOWN="unknown",e))(vg||{}),bg=(e=>(e.INFO="info",e.WARNING="warning",e.ERROR="error",e.CRITICAL="critical",e))(bg||{});function wg(e,t){const{category:r="unknown",severity:s="error",showToast:a=!1,silent:n=!1}=t||{},i=function(e,t="unknown",r="error"){let s="An unknown error occurred",a={};if(e instanceof Error)s=e.message,e instanceof SyntaxError&&(t="validation",a.type="syntax"),e instanceof TypeError&&(a.type="type");else if("string"==typeof e)s=e;else if(e&&"object"==typeof e){const n=e;n.message&&(s=String(n.message)),n.status&&"number"==typeof n.status&&(a.status=n.status,n.status>=400&&n.status<500?(t="api",401!==n.status&&403!==n.status||(t="authentication")):n.status>=500&&(t="api",r="critical"))}return{message:s,category:t,severity:r,timestamp:(new Date).toISOString(),originalError:e,details:a}}(e,r,s);return n||function(e){const{severity:t,category:r,message:s,details:a}=e;e.timestamp}(i),a&&function(e){const t=function(e){switch(e){case"network":return"Connection Error";case"api":return"API Error";case"validation":return"Content Error";case"wordpress":return"Story Content Error";case"wordpress_timeout":return"Content Loading Timeout";case"wordpress_parse":return"Content Format Error";case"wordpress_cors":return"Access Restriction";case"wordpress_auth":return"Content Access Error";case"wordpress_rate_limit":return"Rate Limit Reached";case"authentication":return"Authentication Error";default:return"Error"}}(e.category);yg({variant:"destructive",title:t,description:e.message,duration:5e3})}(i),i}const jg="https://public-api.wordpress.com/wp/v2/sites/bubbleteameimei.wordpress.com",kg="/api/posts",Ng="wp_last_error",Sg=Yf({id:zf(),date:gf(),modified:gf().optional(),slug:gf(),status:gf().optional(),type:gf().optional(),link:gf().optional(),title:Yf({rendered:gf()}),content:Yf({rendered:gf(),protected:Vf().optional()}),excerpt:Yf({rendered:gf()}).optional(),author:zf().optional(),featured_media:zf().optional(),categories:Gf(zf()).optional(),tags:Gf(zf()).optional(),meta:(_g=gf(),Eg=new Hf({type:"any"}),new eg({type:"record",keyType:_g,valueType:Eg,...wh(Cg)})).optional()}).passthrough();var _g,Eg,Cg;const Ig={getCacheKey(e){const{page:t=1,perPage:r=10,categories:s,tags:a,search:n,slug:i}=e,o=JSON.stringify({page:t,perPage:r,categories:s,tags:a,search:n,slug:i});return`wp_cache_${btoa(o)}`},saveToCache(e,t){try{const r={data:t,timestamp:Date.now()};localStorage.setItem(e,JSON.stringify(r))}catch(vN){}},getFromCache(e){try{const t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t);return Date.now()-r.timestamp>18e5?(localStorage.removeItem(e),null):r.data}catch(vN){return null}},saveError(e){try{localStorage.setItem(Ng,JSON.stringify({message:e?.message||"Unknown error",timestamp:Date.now(),details:e}))}catch(t){}},getLastError(){try{const e=localStorage.getItem(Ng);return e?JSON.parse(e):null}catch(e){return null}}};function Tg(e){try{return JSON.parse(e)}catch(vN){throw new Error("Invalid JSON response")}}async function Rg(e={}){const{page:t=1,perPage:r=10,categories:s,tags:a,search:n,slug:i,includeContent:o=!0,skipCache:l=!1,maxRetries:c=1}=e;if(!l){const t=Ig.getCacheKey(e),r=Ig.getFromCache(t);if(r)return r}const d=Ig.getLastError();if(d&&Date.now()-d.timestamp<3e5&&d.message.includes("fatal"))return await Ag(e);let u=0,h=null;for(;u<=c;)try{const l=new URLSearchParams({page:t.toString(),per_page:r.toString()});s?.length&&l.append("categories",s.join(",")),a?.length&&l.append("tags",a.join(",")),n&&l.append("search",n),i&&l.append("slug",i),o||l.append("_fields","id,date,title,excerpt,slug,featured_media");const c=`${jg}/posts?${l.toString()}`,d=new AbortController,u=setTimeout(()=>d.abort(),1e4);try{const t=await fetch(c,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Origin:window.location.origin},mode:"cors",credentials:"omit",signal:d.signal});if(clearTimeout(u),!t.ok)throw new Error(`API returned status ${t.status}`);const r=t.headers.get("content-type");if(!r||!r.includes("application/json"))throw new Error(`API returned non-JSON content type: ${r}`);const s=Tg(await t.text());if(!Array.isArray(s))throw new Error("API returned non-array response");const a=s.map(e=>{const t=Sg.safeParse(e);if(!t.success){const r=t.error;Array.isArray(r?.issues)?r.issues.map(e=>`${(e.path||[]).join(".")}: ${e.message}`).join("; "):String(r?.message||"Unknown validation error");return{id:e.id||Math.floor(1e4*Math.random()),date:e.date||(new Date).toISOString(),slug:e.slug||`post-${e.id||Date.now()}`,title:{rendered:e.title?.rendered||"Untitled Post"},content:{rendered:e.content?.rendered||"Content unavailable"},excerpt:{rendered:e.excerpt?.rendered||"No excerpt available"}}}return t.data}),n={posts:a,totalPages:parseInt(t.headers.get("X-WP-TotalPages")||"1"),total:parseInt(t.headers.get("X-WP-Total")||a.length.toString())},i=Ig.getCacheKey(e);return Ig.saveToCache(i,n),localStorage.setItem("wp_sync_status",JSON.stringify({status:"success",type:"api_success",message:`Successfully fetched ${n.posts.length} posts`,timestamp:Date.now()})),n}catch(m){if(clearTimeout(u),"AbortError"===m.name)throw localStorage.setItem("wp_sync_status",JSON.stringify({status:"error",type:"timeout",message:"WordPress API request timed out after 10 seconds",timestamp:Date.now()})),new Error("WordPress API request timed out (10s)");throw m}}catch(vN){if(h=vN,Ig.saveError(vN),u++,u<=c){const e=Math.min(1e3*Math.pow(2,u-1),8e3);await new Promise(t=>setTimeout(t,e))}}return localStorage.setItem("wp_sync_status",JSON.stringify({status:"warning",type:"retries_exhausted",message:`Connection issues after ${c} attempts. Using cached content.`,timestamp:Date.now(),errorDetails:h?.message||"Unknown error"})),await Ag(e,h)}async function Ag(e,t){try{if(!e.slug){const t=Og();if(t&&t.posts.length>0){const{page:r=1,perPage:s=10}=e,a=(r-1)*s,n=a+s;return{posts:t.posts.slice(a,n),totalPages:Math.ceil(t.posts.length/s),total:t.posts.length,fromLocalSync:!0,fromFallback:!0}}}const{page:t=1,perPage:r=10}=e;let s=`${kg}?page=${t}&limit=${r}`;e.slug&&(s=`${kg}/${e.slug}`);const a=await fetch(s);if(!a.ok)throw new Error(`Server API returned status ${a.status}`);const n=await a.json();let i;if(e.slug){const e=n;i={posts:[{id:e.id,date:e.createdAt,slug:e.slug,title:{rendered:e.title},content:{rendered:e.content},excerpt:{rendered:e.excerpt||e.content.substring(0,150)+"..."}}],totalPages:1,total:1,fromFallback:!0}}else{const e=Array.isArray(n.posts)?n.posts:[];i={posts:e.map(e=>({id:e.id,date:e.createdAt,slug:e.slug,title:{rendered:e.title},content:{rendered:e.content},excerpt:{rendered:e.excerpt||e.content.substring(0,150)+"..."}})),totalPages:n.hasMore?t+1:t,total:e.length,fromFallback:!0}}return i}catch(r){return localStorage.setItem("wp_sync_status",JSON.stringify({status:"error",type:"complete_failure",message:"Unable to fetch content: both WordPress API and server fallback failed",timestamp:Date.now(),originalError:t instanceof Error?t.message:"Unknown error",fallbackError:r instanceof Error?r.message:"Unknown error"})),{posts:[],totalPages:0,total:0,error:wg(t||r,{category:vg.WORDPRESS,severity:bg.ERROR,showToast:!0}),fromFallback:!0}}}async function Pg(){const e=localStorage.getItem("wp_api_status"),t=Date.now();if(e)try{const r=JSON.parse(e);if(t-r.timestamp<3e5)return r.available}catch(r){localStorage.removeItem("wp_api_status")}try{const e=["/posts?per_page=1","/categories?per_page=1","/tags?per_page=1"];for(const r of e)try{const e=new AbortController,s=setTimeout(()=>e.abort(),15e3),a=await fetch(`${jg}${r}`,{method:"HEAD",headers:{Accept:"application/json"},signal:e.signal});if(clearTimeout(s),a.ok)return localStorage.setItem("wp_api_status",JSON.stringify({available:!0,timestamp:t,endpoint:r})),localStorage.setItem("wp_sync_status",JSON.stringify({status:"success",type:"api_available",message:"WordPress API connection established",timestamp:t})),!0}catch(s){continue}return localStorage.setItem("wp_api_status",JSON.stringify({available:!1,timestamp:t})),localStorage.setItem("wp_sync_status",JSON.stringify({status:"warning",type:"api_unavailable",message:"WordPress API connection unavailable - using cached content",timestamp:t})),!1}catch(vN){return wg(vN,{category:vg.NETWORK,silent:!0}),localStorage.setItem("wp_api_status",JSON.stringify({available:!1,timestamp:t,error:vN instanceof Error?vN.message:"Unknown error"})),localStorage.setItem("wp_sync_status",JSON.stringify({status:"error",type:"api_check_error",message:"Unable to check WordPress API status - using cached content",timestamp:t,errorDetails:vN instanceof Error?vN.message:"Unknown error"})),!1}}function Og(){try{const e="wp_local_posts",t=localStorage.getItem(e);if(!t)return null;const r=JSON.parse(t);if(!r.posts||!Array.isArray(r.posts)||0===r.posts.length)return null;r.timestamp,Date.now();return{posts:r.posts,totalPages:1,total:r.posts.length,fromLocalSync:!0}}catch(vN){return null}}function Mg(){return new Promise((t,r)=>{if(Og())return t(),void setTimeout(()=>{Pg().then(e).catch(e=>{})},3e3);Pg().then(e).then(()=>t()).catch(e=>{t()})});function e(e){return e?Rg({perPage:3,skipCache:!1,maxRetries:0,includeContent:!1}).then(e=>e):Ag({perPage:5})}}const Dg="wp_last_sync",Lg="wp_sync_history",zg="wp_sync_status",Fg=3e5;let Ug={isAvailable:!1,checkedAt:0,responseTime:0};async function $g(){const e=performance.now(),t=Date.now();let r=!1;try{r=await Vg()}catch(a){}const s={status:"default",type:"sync_starting",message:"Syncing content from WordPress...",timestamp:t,apiAvailable:r,retryCount:0,syncTime:0,postsCount:0};localStorage.setItem(zg,JSON.stringify(s));try{const s=localStorage.getItem(Dg);if(s){const e=JSON.parse(s),a=t-new Date(e.timestamp).getTime();if(a<15e4){const s={status:"success",type:"sync_skipped",message:`Using recently synced content (${Math.floor(a/1e3)}s ago)`,timestamp:t,apiAvailable:r,syncTime:0,postsCount:e.count||0};return void localStorage.setItem(zg,JSON.stringify(s))}}let a=0,o=null;try{o=await Rg({perPage:20,skipCache:!0})}catch(n){a++;try{await new Promise(e=>setTimeout(e,1e3)),o=await Rg({perPage:20,skipCache:!0,maxRetries:1})}catch(i){throw i}}const l=performance.now(),c=Math.round(l-e);if(o&&o.posts&&o.posts.length>0){localStorage.setItem("wp_local_posts",JSON.stringify({posts:o.posts,timestamp:t})),localStorage.setItem(Dg,JSON.stringify({timestamp:t,count:o.posts.length,success:!0,syncTime:c,apiAvailable:r,retryCount:a}));const e={status:"success",type:"sync_success",message:`Successfully synced ${o.posts.length} posts`,timestamp:t,syncTime:c,apiAvailable:r,retryCount:a,postsCount:o.posts.length};localStorage.setItem(zg,JSON.stringify(e)),Hg(e)}else{localStorage.setItem(Dg,JSON.stringify({timestamp:t,success:!1,reason:"No posts found",syncTime:c,apiAvailable:r,retryCount:a}));const e={status:"warning",type:"sync_empty",message:"No posts found during sync. Using cached content.",timestamp:t,syncTime:c,apiAvailable:r,retryCount:a,postsCount:0};localStorage.setItem(zg,JSON.stringify(e)),Hg(e)}}catch(vN){const a=performance.now(),n=Math.round(a-e);let i="unknown",o="Unknown error occurred";vN instanceof Error&&(o=vN.message,"AbortError"===vN.name||o.includes("timeout")?i="timeout":o.includes("network")||o.includes("fetch")?i="network":(o.includes("parse")||o.includes("JSON"))&&(i="parse")),localStorage.setItem(Dg,JSON.stringify({timestamp:t,success:!1,reason:o,errorType:i,syncTime:n,apiAvailable:r}));const l={status:"error",type:"sync_error",message:"Content sync failed. Using cached content.",timestamp:t,errorDetails:o,errorType:i,syncTime:n,apiAvailable:r,retryCount:0};localStorage.setItem(zg,JSON.stringify(l)),Hg(l)}}async function Vg(){try{const e=performance.now(),t=await Pg(),r=performance.now(),s=Math.round(r-e);return Ug={isAvailable:t,checkedAt:Date.now(),responseTime:s},t}catch(vN){return Ug={isAvailable:!1,checkedAt:Date.now(),responseTime:0},!1}}function Hg(e){try{const r=localStorage.getItem(Lg);let s=[];if(r)try{s=JSON.parse(r)}catch(t){s=[]}const a=[{...e,recordedAt:Date.now()},...s];a.length>10&&a.splice(10),localStorage.setItem(Lg,JSON.stringify(a))}catch(vN){}}const Bg=ue("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",success:"border-transparent bg-green-600 text-white hover:bg-green-600/80",outline:"text-foreground border-primary/20 hover:bg-primary/10",ghost:"border-transparent hover:bg-muted/20",horror:"border-transparent bg-red-900/20 text-red-400 hover:bg-red-900/30",psychological:"border-transparent bg-purple-900/20 text-purple-400 hover:bg-purple-900/30",supernatural:"border-transparent bg-blue-900/20 text-blue-400 hover:bg-blue-900/30",parasite:"border-transparent bg-green-900/20 text-green-400 hover:bg-green-900/30",lovecraftian:"border-transparent bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/30",cosmic:"border-transparent bg-indigo-900/20 text-indigo-400 hover:bg-indigo-900/30",suicidal:"border-transparent bg-gray-900/20 text-gray-400 hover:bg-gray-900/30",technological:"border-transparent bg-cyan-900/20 text-cyan-400 hover:bg-cyan-900/30",body:"border-transparent bg-pink-900/20 text-pink-400 hover:bg-pink-900/30",psychopath:"border-transparent bg-red-900/20 text-red-400 hover:bg-red-900/30",possession:"border-transparent bg-violet-900/20 text-violet-400 hover:bg-violet-900/30",cannibalism:"border-transparent bg-red-950/20 text-red-300 hover:bg-red-950/30",stalking:"border-transparent bg-neutral-900/20 text-neutral-400 hover:bg-neutral-900/30",death:"border-transparent bg-zinc-900/20 text-zinc-400 hover:bg-zinc-900/30",gothic:"border-transparent bg-stone-900/20 text-stone-400 hover:bg-stone-900/30",apocalyptic:"border-transparent bg-orange-900/20 text-orange-400 hover:bg-orange-900/30",isolation:"border-transparent bg-slate-900/20 text-slate-400 hover:bg-slate-900/30",aquatic:"border-transparent bg-blue-950/20 text-blue-300 hover:bg-blue-950/30",viral:"border-transparent bg-emerald-900/20 text-emerald-400 hover:bg-emerald-900/30",urban:"border-transparent bg-amber-900/20 text-amber-400 hover:bg-amber-900/30",time:"border-transparent bg-fuchsia-900/20 text-fuchsia-400 hover:bg-fuchsia-900/30",dreamscape:"border-transparent bg-purple-950/20 text-purple-300 hover:bg-purple-950/30",uncanny:"border-transparent bg-teal-900/20 text-teal-400 hover:bg-teal-900/30",existential:"border-transparent bg-gray-800/20 text-gray-300 hover:bg-gray-800/30",vehicular:"border-transparent bg-yellow-900/20 text-yellow-400 hover:bg-yellow-900/30",doppelganger:"border-transparent bg-purple-800/20 text-purple-300 hover:bg-purple-800/30",slasher:"border-transparent bg-red-800/20 text-red-300 hover:bg-red-800/30"}},defaultVariants:{variant:"default"}});function qg({className:t,variant:r,...s}){return e.jsx("div",{className:qs(Bg({variant:r}),t),...s})}function Wg(){const[t,r]=re.useState(null),[s,a]=re.useState(!1),[n,i]=re.useState(!1),[o,l]=re.useState([]),[c,d]=re.useState(!1),{user:u}=ba(),h=u;re.useEffect(()=>{const e=()=>{try{const t=localStorage.getItem("wp_sync_status");if(!t)return;const s=JSON.parse(t),a=localStorage.getItem("wp_sync_history");let n=[];if(a)try{n=JSON.parse(a),n.length>10&&(n=n.slice(0,10))}catch(e){n=[]}Date.now()-s.timestamp<3e5?(r(s),l(n)):(r(null),l(n))}catch(vN){}};e();const t=setInterval(e,1e4);return()=>clearInterval(t)},[]);const m=async()=>{if(!s){a(!0);try{await async function(){const e=performance.now(),t=Date.now(),r=await Vg(),s={status:"default",type:"manual_sync_starting",message:"Manual sync initiated...",timestamp:t,apiAvailable:r,retryCount:0,syncTime:0,postsCount:0};localStorage.setItem(zg,JSON.stringify(s));try{await $g();const t=performance.now(),s=Math.round(t-e);let a=JSON.parse(localStorage.getItem(zg)||"{}");return a={...a,syncTime:s,apiAvailable:r,timestamp:Date.now()},localStorage.setItem(zg,JSON.stringify(a)),"success"===a.status&&"sync_success"!==a.type||Hg(a),a}catch(vN){const s=performance.now(),a=Math.round(s-e),n={status:"error",type:"manual_sync_error",message:"Manual sync failed. Using cached content.",errorDetails:vN instanceof Error?vN.message:"Unknown error",timestamp:Date.now(),syncTime:a,apiAvailable:r,retryCount:0};throw localStorage.setItem(zg,JSON.stringify(n)),Hg(n),vN}}()}catch(vN){}finally{a(!1)}}},p=e=>{if(!e)return"Unknown time";try{return he(new Date(e),{addSuffix:!0})}catch(vN){return"Unknown time"}};if(!h?.isAdmin)return null;if(!(t&&"success"!==t.status||s))return null;const f=s?"default":"error"===t?.status?"destructive":"default",g=s?e.jsx(ss,{className:"h-4 w-4 animate-spin"}):"error"===t?.status?e.jsx(cr,{className:"h-4 w-4"}):"warning"===t?.status?e.jsx(zr,{className:"h-4 w-4"}):"success"===t?.status?e.jsx(dr,{className:"h-4 w-4"}):e.jsx(zr,{className:"h-4 w-4"}),y=s?e.jsxs(qg,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(ss,{className:"h-3 w-3 mr-1 animate-spin"})," Syncing"]}):"error"===t?.status?e.jsxs(qg,{variant:"destructive",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(cr,{className:"h-3 w-3 mr-1"})," Error"]}):"warning"===t?.status?e.jsxs(qg,{variant:"outline",className:"bg-amber-50 text-amber-700 border-amber-200",children:[e.jsx(zr,{className:"h-3 w-3 mr-1"})," Warning"]}):"success"===t?.status?e.jsxs(qg,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(dr,{className:"h-3 w-3 mr-1"})," Healthy"]}):e.jsxs(qg,{variant:"outline",className:"bg-gray-50 text-gray-700 border-gray-200",children:[e.jsx(zr,{className:"h-3 w-3 mr-1"})," Unknown"]}),x=s?null:"complete_failure"===t?.type||"api_check_error"===t?.type||"sync_error"===t?.type||"timeout"===t?.type?e.jsxs("button",{className:"ml-2 underline text-xs inline-flex items-center",onClick:m,disabled:s,children:[e.jsx(ss,{className:"h-3 w-3 mr-1"})," Retry sync"]}):null;return e.jsxs(Ju,{open:n,onOpenChange:i,className:"max-w-lg mx-auto mt-4 mb-2 text-sm",children:[e.jsxs(od,{variant:f,className:""+(n?"rounded-b-none border-b-0":""),children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[g,e.jsxs(ld,{className:"flex items-center gap-2",children:["Admin: Content Sync Status",e.jsx("div",{className:"ml-2",children:y})]})]}),e.jsx(Yu,{asChild:!0,children:e.jsx(nu,{children:e.jsxs(iu,{children:[e.jsx(ou,{asChild:!0,children:e.jsx("button",{className:"h-7 w-7 rounded hover:bg-black/5 dark:hover:bg-white/10 inline-flex items-center justify-center",children:n?e.jsx(lr,{className:"h-4 w-4"}):e.jsx(ir,{className:"h-4 w-4"})})}),e.jsx(lu,{side:"left",children:e.jsxs("p",{children:[n?"Hide":"Show"," details"]})})]})})})]}),e.jsxs(cd,{children:[e.jsx("div",{children:s?"Syncing content from WordPress...":t?.message}),x,e.jsx("div",{className:"text-xs opacity-75 mt-1",children:"This notification is only visible to administrators"}),e.jsxs(Qu,{children:[(()=>{const r={lastSync:t?.timestamp,postsCount:t?.postsCount||0,totalTime:t?.syncTime||0,retryCount:t?.retryCount||0,apiStatus:t?.apiAvailable?"Available":"Unavailable"};return e.jsxs("div",{className:"grid grid-cols-2 gap-2 mt-3 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gr,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Last Sync:"}),e.jsx("span",{className:"ml-auto",children:p(r.lastSync)})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Zt,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Posts:"}),e.jsx("span",{className:"ml-auto",children:r.postsCount})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Nr,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"API Status:"}),e.jsx("span",{className:"ml-auto",children:"Available"===r.apiStatus?e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Available"}):e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Unavailable"})})]}),r.retryCount>0&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ss,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Retries:"}),e.jsx("span",{className:"ml-auto",children:r.retryCount})]}),r.totalTime>0&&e.jsxs("div",{className:"flex items-center gap-1 col-span-2",children:[e.jsx(gr,{className:"h-3 w-3 text-gray-500"}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:"Sync Time:"}),e.jsxs("span",{className:"ml-auto",children:[r.totalTime,"ms"]})]})]})})(),e.jsxs("div",{className:"mt-3 flex justify-between",children:[e.jsxs("button",{className:"text-xs inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",onClick:()=>d(!c),children:[e.jsx(Dr,{className:"h-3 w-3 mr-1"}),c?"Hide history":"Show history"]}),e.jsxs("button",{className:"text-xs inline-flex items-center text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-gray-200",onClick:m,disabled:s,children:[e.jsx(ss,{className:"h-3 w-3 mr-1 "+(s?"animate-spin":"")}),"Force sync now"]})]}),c&&(0===o.length?e.jsx("div",{className:"text-xs text-gray-500 italic mt-2",children:"No sync history available"}):e.jsxs("div",{className:"mt-2 border-t border-gray-100 dark:border-gray-800 pt-2",children:[e.jsx("div",{className:"text-xs font-medium mb-1 text-gray-700 dark:text-gray-300",children:"Recent Sync Activity"}),e.jsx("div",{className:"space-y-1.5 max-h-32 overflow-y-auto pr-1",children:o.map((t,r)=>e.jsxs("div",{className:"text-xs p-1 rounded flex items-start gap-1 "+("error"===t.status?"bg-red-50 dark:bg-red-900/10 text-red-800 dark:text-red-300":"warning"===t.status?"bg-amber-50 dark:bg-amber-900/10 text-amber-800 dark:text-amber-300":"bg-gray-50 dark:bg-gray-900/30 text-gray-700 dark:text-gray-300"),children:[e.jsx("div",{className:"mt-0.5",children:"error"===t.status?e.jsx(cr,{className:"h-3 w-3"}):"warning"===t.status?e.jsx(zr,{className:"h-3 w-3"}):e.jsx(dr,{className:"h-3 w-3"})}),e.jsxs("div",{children:[e.jsx("div",{className:"leading-tight",children:t.message}),e.jsx("div",{className:"text-xs opacity-80",children:p(t.timestamp)})]})]},r))})]}))]})]})]}),n&&e.jsxs("div",{className:"text-center text-xs bg-gray-50 dark:bg-gray-900 border border-t-0 border-gray-200 dark:border-gray-800 p-1.5 rounded-b-md",children:[e.jsx(Wt,{className:"h-3 w-3 inline mr-1 text-gray-500"}),e.jsx("span",{className:"text-gray-500",children:"WordPress sync runs automatically every 5 minutes"})]})]})}const Kg=c,Zg=d,Gg=n;Gg.displayName=n.displayName;const Jg=re.forwardRef(({className:t,...r},s)=>e.jsx(a,{ref:s,className:qs("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r}));Jg.displayName=a.displayName;const Yg=re.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(Gg,{children:[e.jsx(Jg,{}),e.jsxs(i,{ref:a,className:qs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...s,children:[r,e.jsxs(z,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(As,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Yg.displayName=i.displayName;const Qg=({className:t,...r})=>e.jsx("div",{className:qs("flex flex-col space-y-1.5 text-center sm:text-left",t),...r});Qg.displayName="DialogHeader";const Xg=({className:t,...r})=>e.jsx("div",{className:qs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Xg.displayName="DialogFooter";const ey=re.forwardRef(({className:t,...r},s)=>e.jsx(o,{ref:s,className:qs("text-lg font-semibold leading-none tracking-tight",t),...r}));ey.displayName=o.displayName;const ty=re.forwardRef(({className:t,...r},s)=>e.jsx(l,{ref:s,className:qs("text-sm text-muted-foreground",t),...r}));ty.displayName=l.displayName;const ry=re.forwardRef(({className:t,...r},s)=>e.jsxs(z,{ref:s,className:qs("absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",t),...r,children:[e.jsx(As,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]}));function sy(e,t){try{var r=e()}catch(e){return t(e)}return r&&r.then?r.then(void 0,t):r}function ay(e,t){for(var r={};e.length;){var s=e[0],a=s.code,n=s.message,i=s.path.join(".");if(!r[i])if("unionErrors"in s){var o=s.unionErrors[0].errors[0];r[i]={message:o.message,type:o.code}}else r[i]={message:n,type:a};if("unionErrors"in s&&s.unionErrors.forEach(function(t){return t.errors.forEach(function(t){return e.push(t)})}),t){var l=r[i].types,c=l&&l[s.code];r[i]=be(i,t,r,a,c?[].concat(c,s.message):s.message)}e.shift()}return r}function ny(e,t){for(var r={};e.length;){var s=e[0],a=s.code,n=s.message,i=s.path.join(".");if(!r[i])if("invalid_union"===s.code&&s.errors.length>0){var o=s.errors[0][0];r[i]={message:o.message,type:o.code}}else r[i]={message:n,type:a};if("invalid_union"===s.code&&s.errors.forEach(function(t){return t.forEach(function(t){return e.push(t)})}),t){var l=r[i].types,c=l&&l[s.code];r[i]=be(i,t,r,a,c?[].concat(c,s.message):s.message)}e.shift()}return r}function iy(e,t,r){if(void 0===r&&(r={}),"_def"in(s=e)&&"object"==typeof s._def&&"typeName"in s._def)return function(a,n,i){try{return Promise.resolve(sy(function(){return Promise.resolve(e["sync"===r.mode?"parse":"parseAsync"](a,t)).then(function(e){return i.shouldUseNativeValidation&&xe({},i),{errors:{},values:r.raw?Object.assign({},a):e}})},function(e){if(function(e){return Array.isArray(null==e?void 0:e.issues)}(e))return{values:{},errors:ve(ay(e.errors,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(s){return Promise.reject(s)}};var s;if(function(e){return"_zod"in e&&"object"==typeof e._zod}(e))return function(a,n,i){try{return Promise.resolve(sy(function(){return Promise.resolve(("sync"===r.mode?Ph:Mh)(e,a,t)).then(function(e){return i.shouldUseNativeValidation&&xe({},i),{errors:{},values:r.raw?Object.assign({},a):e}})},function(e){if(function(e){return e instanceof Th}(e))return{values:{},errors:ve(ny(e.issues,!i.shouldUseNativeValidation&&"all"===i.criteriaMode),i)};throw e}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}ry.displayName=z.displayName;var oy=re.forwardRef((t,r)=>e.jsx(s.label,{...t,ref:r,onMouseDown:e=>{e.target.closest("button, input, select, textarea")||(t.onMouseDown?.(e),!e.defaultPrevented&&e.detail>1&&e.preventDefault())}}));oy.displayName="Label";var ly=oy;const cy=ue("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),dy=re.forwardRef(({className:t,...r},s)=>e.jsx(ly,{ref:s,className:qs(cy(),t),...r}));dy.displayName=ly.displayName;const uy=je,hy=re.createContext({}),my=({...t})=>e.jsx(hy.Provider,{value:{name:t.name},children:e.jsx(ke,{...t})}),py=()=>{const e=re.useContext(hy),t=re.useContext(fy),{getFieldState:r,formState:s}=we(),a=r(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:n}=t;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...a}},fy=re.createContext({}),gy=re.forwardRef(({className:t,...r},s)=>{const a=re.useId();return e.jsx(fy.Provider,{value:{id:a},children:e.jsx("div",{ref:s,className:qs("space-y-2",t),...r})})});gy.displayName="FormItem";const yy=re.forwardRef(({className:t,...r},s)=>{const{error:a,formItemId:n}=py();return e.jsx(dy,{ref:s,className:qs(a&&"text-destructive",t),htmlFor:n,...r})});yy.displayName="FormLabel";const xy=re.forwardRef(({...t},s)=>{const{error:a,formItemId:n,formDescriptionId:i,formMessageId:o}=py();return e.jsx(r,{ref:s,id:n,"aria-describedby":a?`${i} ${o}`:`${i}`,"aria-invalid":!!a,...t})});xy.displayName="FormControl";const vy=re.forwardRef(({className:t,...r},s)=>{const{formDescriptionId:a}=py();return e.jsx("p",{ref:s,id:a,className:qs("text-sm text-muted-foreground",t),...r})});vy.displayName="FormDescription";const by=re.forwardRef(({className:t,children:r,...s},a)=>{const{error:n,formMessageId:i}=py(),o=n?String(n?.message):r;return o?e.jsx("p",{ref:a,id:i,className:qs("text-sm font-medium text-destructive",t),...s,children:o}):null});by.displayName="FormMessage";const wy=re.forwardRef(({className:t,...r},s)=>e.jsx("textarea",{className:qs("flex min-h-[80px] w-full rounded-md border border-input bg-background input-solid-bg px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r}));function jy(e,[t,r]){return Math.min(r,Math.max(t,e))}function ky(e){const t=re.useRef({value:e,previous:e});return re.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}wy.displayName="Textarea";var Ny=[" ","Enter","ArrowUp","ArrowDown"],Sy=[" ","Enter"],_y="Select",[Ey,Cy,Iy]=F(_y),[Ty,Ry]=u(_y,[Iy,m]),Ay=m(),[Py,Oy]=Ty(_y),[My,Dy]=Ty(_y),Ly=t=>{const{__scopeSelect:r,children:s,open:a,defaultOpen:n,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:h,disabled:m,required:p,form:f}=t,g=Ay(r),[y,w]=re.useState(null),[j,k]=re.useState(null),[N,S]=re.useState(!1),_=Z(d),[E,C]=v({prop:a,defaultProp:n??!1,onChange:i,caller:_y}),[I,T]=v({prop:o,defaultProp:l,onChange:c,caller:_y}),R=re.useRef(null),A=!y||(f||!!y.closest("form")),[P,O]=re.useState(new Set),M=Array.from(P).map(e=>e.props.value).join(";");return e.jsx(b,{...g,children:e.jsxs(Py,{required:p,scope:r,trigger:y,onTriggerChange:w,valueNode:j,onValueNodeChange:k,valueNodeHasChildren:N,onValueNodeHasChildrenChange:S,contentId:x(),value:I,onValueChange:T,open:E,onOpenChange:C,dir:_,triggerPointerDownPosRef:R,disabled:m,children:[e.jsx(Ey.Provider,{scope:r,children:e.jsx(My,{scope:t.__scopeSelect,onNativeOptionAdd:re.useCallback(e=>{O(t=>new Set(t).add(e))},[]),onNativeOptionRemove:re.useCallback(e=>{O(t=>{const r=new Set(t);return r.delete(e),r})},[]),children:s})}),A?e.jsxs(Nx,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:h,value:I,onChange:e=>T(e.target.value),disabled:m,form:f,children:[void 0===I?e.jsx("option",{value:""}):null,Array.from(P)]},M):null]})})};Ly.displayName=_y;var zy="SelectTrigger",Fy=re.forwardRef((t,r)=>{const{__scopeSelect:a,disabled:n=!1,...i}=t,o=Ay(a),l=Oy(zy,a),c=l.disabled||n,d=y(r,l.onTriggerChange),u=Cy(a),h=re.useRef("touch"),[m,p,f]=_x(e=>{const t=u().filter(e=>!e.disabled),r=t.find(e=>e.value===l.value),s=Ex(t,e,r);void 0!==s&&l.onValueChange(s.value)}),g=e=>{c||(l.onOpenChange(!0),f()),e&&(l.triggerPointerDownPosRef.current={x:Math.round(e.pageX),y:Math.round(e.pageY)})};return e.jsx(w,{asChild:!0,...o,children:e.jsx(s.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":Sx(l.value)?"":void 0,...i,ref:d,onClick:j(i.onClick,e=>{e.currentTarget.focus(),"mouse"!==h.current&&g(e)}),onPointerDown:j(i.onPointerDown,e=>{h.current=e.pointerType;const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),0===e.button&&!1===e.ctrlKey&&"mouse"===e.pointerType&&(g(e),e.preventDefault())}),onKeyDown:j(i.onKeyDown,e=>{const t=""!==m.current;e.ctrlKey||e.altKey||e.metaKey||1!==e.key.length||p(e.key),t&&" "===e.key||Ny.includes(e.key)&&(g(),e.preventDefault())})})})});Fy.displayName=zy;var Uy="SelectValue",$y=re.forwardRef((t,r)=>{const{__scopeSelect:a,className:n,style:i,children:o,placeholder:l="",...c}=t,d=Oy(Uy,a),{onValueNodeHasChildrenChange:u}=d,h=void 0!==o,m=y(r,d.onValueNodeChange);return L(()=>{u(h)},[u,h]),e.jsx(s.span,{...c,ref:m,style:{pointerEvents:"none"},children:Sx(d.value)?e.jsx(e.Fragment,{children:l}):o})});$y.displayName=Uy;var Vy=re.forwardRef((t,r)=>{const{__scopeSelect:a,children:n,...i}=t;return e.jsx(s.span,{"aria-hidden":!0,...i,ref:r,children:n||""})});Vy.displayName="SelectIcon";var Hy=t=>e.jsx(U,{asChild:!0,...t});Hy.displayName="SelectPortal";var By="SelectContent",qy=re.forwardRef((t,r)=>{const s=Oy(By,t.__scopeSelect),[a,n]=re.useState();if(L(()=>{n(new DocumentFragment)},[]),!s.open){const r=a;return r?$.createPortal(e.jsx(Ky,{scope:t.__scopeSelect,children:e.jsx(Ey.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),r):null}return e.jsx(Jy,{...t,ref:r})});qy.displayName=By;var Wy=10,[Ky,Zy]=Ty(By),Gy=W("SelectContent.RemoveScroll"),Jy=re.forwardRef((t,r)=>{const{__scopeSelect:s,position:a="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:v,...b}=t,w=Oy(By,s),[k,N]=re.useState(null),[S,_]=re.useState(null),E=y(r,e=>N(e)),[C,I]=re.useState(null),[T,R]=re.useState(null),A=Cy(s),[P,O]=re.useState(!1),M=re.useRef(!1);re.useEffect(()=>{if(k)return H(k)},[k]),B();const D=re.useCallback(e=>{const[t,...r]=A().map(e=>e.ref.current),[s]=r.slice(-1),a=document.activeElement;for(const n of e){if(n===a)return;if(n?.scrollIntoView({block:"nearest"}),n===t&&S&&(S.scrollTop=0),n===s&&S&&(S.scrollTop=S.scrollHeight),n?.focus(),document.activeElement!==a)return}},[A,S]),L=re.useCallback(()=>D([C,k]),[D,C,k]);re.useEffect(()=>{P&&L()},[P,L]);const{onOpenChange:z,triggerPointerDownPosRef:F}=w;re.useEffect(()=>{if(k){let e={x:0,y:0};const t=t=>{e={x:Math.abs(Math.round(t.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(t.pageY)-(F.current?.y??0))}},r=r=>{e.x<=10&&e.y<=10?r.preventDefault():k.contains(r.target)||z(!1),document.removeEventListener("pointermove",t),F.current=null};return null!==F.current&&(document.addEventListener("pointermove",t),document.addEventListener("pointerup",r,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",t),document.removeEventListener("pointerup",r,{capture:!0})}}},[k,z,F]),re.useEffect(()=>{const e=()=>z(!1);return window.addEventListener("blur",e),window.addEventListener("resize",e),()=>{window.removeEventListener("blur",e),window.removeEventListener("resize",e)}},[z]);const[U,$]=_x(e=>{const t=A().filter(e=>!e.disabled),r=t.find(e=>e.ref.current===document.activeElement),s=Ex(t,e,r);s&&setTimeout(()=>s.ref.current.focus())}),V=re.useCallback((e,t,r)=>{const s=!M.current&&!r;(void 0!==w.value&&w.value===t||s)&&(I(e),s&&(M.current=!0))},[w.value]),W=re.useCallback(()=>k?.focus(),[k]),Z=re.useCallback((e,t,r)=>{const s=!M.current&&!r;(void 0!==w.value&&w.value===t||s)&&R(e)},[w.value]),G="popper"===a?Qy:Yy,J=G===Qy?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:h,collisionBoundary:m,collisionPadding:f,sticky:g,hideWhenDetached:x,avoidCollisions:v}:{};return e.jsx(Ky,{scope:s,content:k,viewport:S,onViewportChange:_,itemRefCallback:V,selectedItem:C,onItemLeave:W,itemTextRefCallback:Z,focusSelectedItem:L,selectedItemText:T,position:a,isPositioned:P,searchRef:U,children:e.jsx(q,{as:Gy,allowPinchZoom:!0,children:e.jsx(K,{asChild:!0,trapped:w.open,onMountAutoFocus:e=>{e.preventDefault()},onUnmountAutoFocus:j(n,e=>{w.trigger?.focus({preventScroll:!0}),e.preventDefault()}),children:e.jsx(p,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:e=>e.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:e.jsx(G,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:e=>e.preventDefault(),...b,...J,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:j(b.onKeyDown,e=>{const t=e.ctrlKey||e.altKey||e.metaKey;if("Tab"===e.key&&e.preventDefault(),t||1!==e.key.length||$(e.key),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){let t=A().filter(e=>!e.disabled).map(e=>e.ref.current);if(["ArrowUp","End"].includes(e.key)&&(t=t.slice().reverse()),["ArrowUp","ArrowDown"].includes(e.key)){const r=e.target,s=t.indexOf(r);t=t.slice(s+1)}setTimeout(()=>D(t)),e.preventDefault()}})})})})})})});Jy.displayName="SelectContentImpl";var Yy=re.forwardRef((t,r)=>{const{__scopeSelect:a,onPlaced:n,...i}=t,o=Oy(By,a),l=Zy(By,a),[c,d]=re.useState(null),[u,h]=re.useState(null),m=y(r,e=>h(e)),p=Cy(a),f=re.useRef(!1),g=re.useRef(!0),{viewport:x,selectedItem:v,selectedItemText:b,focusSelectedItem:w}=l,j=re.useCallback(()=>{if(o.trigger&&o.valueNode&&c&&u&&x&&v&&b){const e=o.trigger.getBoundingClientRect(),t=u.getBoundingClientRect(),r=o.valueNode.getBoundingClientRect(),s=b.getBoundingClientRect();if("rtl"!==o.dir){const a=s.left-t.left,n=r.left-a,i=e.left-n,o=e.width+i,l=Math.max(o,t.width),d=window.innerWidth-Wy,u=jy(n,[Wy,Math.max(Wy,d-l)]);c.style.minWidth=o+"px",c.style.left=u+"px"}else{const a=t.right-s.right,n=window.innerWidth-r.right-a,i=window.innerWidth-e.right-n,o=e.width+i,l=Math.max(o,t.width),d=window.innerWidth-Wy,u=jy(n,[Wy,Math.max(Wy,d-l)]);c.style.minWidth=o+"px",c.style.right=u+"px"}const a=p(),i=window.innerHeight-2*Wy,l=x.scrollHeight,d=window.getComputedStyle(u),h=parseInt(d.borderTopWidth,10),m=parseInt(d.paddingTop,10),g=parseInt(d.borderBottomWidth,10),y=h+m+l+parseInt(d.paddingBottom,10)+g,w=Math.min(5*v.offsetHeight,y),j=window.getComputedStyle(x),k=parseInt(j.paddingTop,10),N=parseInt(j.paddingBottom,10),S=e.top+e.height/2-Wy,_=i-S,E=v.offsetHeight/2,C=h+m+(v.offsetTop+E),I=y-C;if(C<=S){const e=a.length>0&&v===a[a.length-1].ref.current;c.style.bottom="0px";const t=u.clientHeight-x.offsetTop-x.offsetHeight,r=C+Math.max(_,E+(e?N:0)+t+g);c.style.height=r+"px"}else{const e=a.length>0&&v===a[0].ref.current;c.style.top="0px";const t=Math.max(S,h+x.offsetTop+(e?k:0)+E)+I;c.style.height=t+"px",x.scrollTop=C-S+x.offsetTop}c.style.margin=`${Wy}px 0`,c.style.minHeight=w+"px",c.style.maxHeight=i+"px",n?.(),requestAnimationFrame(()=>f.current=!0)}},[p,o.trigger,o.valueNode,c,u,x,v,b,o.dir,n]);L(()=>j(),[j]);const[k,N]=re.useState();L(()=>{u&&N(window.getComputedStyle(u).zIndex)},[u]);const S=re.useCallback(e=>{e&&!0===g.current&&(j(),w?.(),g.current=!1)},[j,w]);return e.jsx(Xy,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:f,onScrollButtonChange:S,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:e.jsx(s.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Yy.displayName="SelectItemAlignedPosition";var Qy=re.forwardRef((t,r)=>{const{__scopeSelect:s,align:a="start",collisionPadding:n=Wy,...i}=t,o=Ay(s);return e.jsx(f,{...o,...i,ref:r,align:a,collisionPadding:n,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Qy.displayName="SelectPopperPosition";var[Xy,ex]=Ty(By,{}),tx="SelectViewport",rx=re.forwardRef((t,r)=>{const{__scopeSelect:a,nonce:n,...i}=t,o=Zy(tx,a),l=ex(tx,a),c=y(r,o.onViewportChange),d=re.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Ey.Slot,{scope:a,children:e.jsx(s.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:j(i.onScroll,e=>{const t=e.currentTarget,{contentWrapper:r,shouldExpandOnScrollRef:s}=l;if(s?.current&&r){const e=Math.abs(d.current-t.scrollTop);if(e>0){const s=window.innerHeight-2*Wy,a=parseFloat(r.style.minHeight),n=parseFloat(r.style.height),i=Math.max(a,n);if(i<s){const a=i+e,n=Math.min(s,a),o=a-n;r.style.height=n+"px","0px"===r.style.bottom&&(t.scrollTop=o>0?o:0,r.style.justifyContent="flex-end")}}}d.current=t.scrollTop})})})]})});rx.displayName=tx;var sx="SelectGroup",[ax,nx]=Ty(sx),ix=re.forwardRef((t,r)=>{const{__scopeSelect:a,...n}=t,i=x();return e.jsx(ax,{scope:a,id:i,children:e.jsx(s.div,{role:"group","aria-labelledby":i,...n,ref:r})})});ix.displayName=sx;var ox="SelectLabel",lx=re.forwardRef((t,r)=>{const{__scopeSelect:a,...n}=t,i=nx(ox,a);return e.jsx(s.div,{id:i.id,...n,ref:r})});lx.displayName=ox;var cx="SelectItem",[dx,ux]=Ty(cx),hx=re.forwardRef((t,r)=>{const{__scopeSelect:a,value:n,disabled:i=!1,textValue:o,...l}=t,c=Oy(cx,a),d=Zy(cx,a),u=c.value===n,[h,m]=re.useState(o??""),[p,f]=re.useState(!1),g=y(r,e=>d.itemRefCallback?.(e,n,i)),v=x(),b=re.useRef("touch"),w=()=>{i||(c.onValueChange(n),c.onOpenChange(!1))};if(""===n)throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(dx,{scope:a,value:n,disabled:i,textId:v,isSelected:u,onItemTextChange:re.useCallback(e=>{m(t=>t||(e?.textContent??"").trim())},[]),children:e.jsx(Ey.ItemSlot,{scope:a,value:n,disabled:i,textValue:h,children:e.jsx(s.div,{role:"option","aria-labelledby":v,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:g,onFocus:j(l.onFocus,()=>f(!0)),onBlur:j(l.onBlur,()=>f(!1)),onClick:j(l.onClick,()=>{"mouse"!==b.current&&w()}),onPointerUp:j(l.onPointerUp,()=>{"mouse"===b.current&&w()}),onPointerDown:j(l.onPointerDown,e=>{b.current=e.pointerType}),onPointerMove:j(l.onPointerMove,e=>{b.current=e.pointerType,i?d.onItemLeave?.():"mouse"===b.current&&e.currentTarget.focus({preventScroll:!0})}),onPointerLeave:j(l.onPointerLeave,e=>{e.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:j(l.onKeyDown,e=>{""!==d.searchRef?.current&&" "===e.key||(Sy.includes(e.key)&&w()," "===e.key&&e.preventDefault())})})})})});hx.displayName=cx;var mx="SelectItemText",px=re.forwardRef((t,r)=>{const{__scopeSelect:a,className:n,style:i,...o}=t,l=Oy(mx,a),c=Zy(mx,a),d=ux(mx,a),u=Dy(mx,a),[h,m]=re.useState(null),p=y(r,e=>m(e),d.onItemTextChange,e=>c.itemTextRefCallback?.(e,d.value,d.disabled)),f=h?.textContent,g=re.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:f},d.value),[d.disabled,d.value,f]),{onNativeOptionAdd:x,onNativeOptionRemove:v}=u;return L(()=>(x(g),()=>v(g)),[x,v,g]),e.jsxs(e.Fragment,{children:[e.jsx(s.span,{id:d.textId,...o,ref:p}),d.isSelected&&l.valueNode&&!l.valueNodeHasChildren?$.createPortal(o.children,l.valueNode):null]})});px.displayName=mx;var fx="SelectItemIndicator",gx=re.forwardRef((t,r)=>{const{__scopeSelect:a,...n}=t;return ux(fx,a).isSelected?e.jsx(s.span,{"aria-hidden":!0,...n,ref:r}):null});gx.displayName=fx;var yx="SelectScrollUpButton",xx=re.forwardRef((t,r)=>{const s=Zy(yx,t.__scopeSelect),a=ex(yx,t.__scopeSelect),[n,i]=re.useState(!1),o=y(r,a.onScrollButtonChange);return L(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollTop>0;i(e)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?e.jsx(wx,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop-t.offsetHeight)}}):null});xx.displayName=yx;var vx="SelectScrollDownButton",bx=re.forwardRef((t,r)=>{const s=Zy(vx,t.__scopeSelect),a=ex(vx,t.__scopeSelect),[n,i]=re.useState(!1),o=y(r,a.onScrollButtonChange);return L(()=>{if(s.viewport&&s.isPositioned){let e=function(){const e=t.scrollHeight-t.clientHeight,r=Math.ceil(t.scrollTop)<e;i(r)};const t=s.viewport;return e(),t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)}},[s.viewport,s.isPositioned]),n?e.jsx(wx,{...t,ref:o,onAutoScroll:()=>{const{viewport:e,selectedItem:t}=s;e&&t&&(e.scrollTop=e.scrollTop+t.offsetHeight)}}):null});bx.displayName=vx;var wx=re.forwardRef((t,r)=>{const{__scopeSelect:a,onAutoScroll:n,...i}=t,o=Zy("SelectScrollButton",a),l=re.useRef(null),c=Cy(a),d=re.useCallback(()=>{null!==l.current&&(window.clearInterval(l.current),l.current=null)},[]);return re.useEffect(()=>()=>d(),[d]),L(()=>{const e=c().find(e=>e.ref.current===document.activeElement);e?.ref.current?.scrollIntoView({block:"nearest"})},[c]),e.jsx(s.div,{"aria-hidden":!0,...i,ref:r,style:{flexShrink:0,...i.style},onPointerDown:j(i.onPointerDown,()=>{null===l.current&&(l.current=window.setInterval(n,50))}),onPointerMove:j(i.onPointerMove,()=>{o.onItemLeave?.(),null===l.current&&(l.current=window.setInterval(n,50))}),onPointerLeave:j(i.onPointerLeave,()=>{d()})})}),jx=re.forwardRef((t,r)=>{const{__scopeSelect:a,...n}=t;return e.jsx(s.div,{"aria-hidden":!0,...n,ref:r})});jx.displayName="SelectSeparator";var kx="SelectArrow";re.forwardRef((t,r)=>{const{__scopeSelect:s,...a}=t,n=Ay(s),i=Oy(kx,s),o=Zy(kx,s);return i.open&&"popper"===o.position?e.jsx(k,{...n,...a,ref:r}):null}).displayName=kx;var Nx=re.forwardRef(({__scopeSelect:t,value:r,...a},n)=>{const i=re.useRef(null),o=y(n,i),l=ky(r);return re.useEffect(()=>{const e=i.current;if(!e)return;const t=window.HTMLSelectElement.prototype,s=Object.getOwnPropertyDescriptor(t,"value").set;if(l!==r&&s){const t=new Event("change",{bubbles:!0});s.call(e,r),e.dispatchEvent(t)}},[l,r]),e.jsx(s.select,{...a,style:{...Td,...a.style},ref:o,defaultValue:r})});function Sx(e){return""===e||void 0===e}function _x(e){const t=V(e),r=re.useRef(""),s=re.useRef(0),a=re.useCallback(e=>{const a=r.current+e;t(a),function e(t){r.current=t,window.clearTimeout(s.current),""!==t&&(s.current=window.setTimeout(()=>e(""),1e3))}(a)},[t]),n=re.useCallback(()=>{r.current="",window.clearTimeout(s.current)},[]);return re.useEffect(()=>()=>window.clearTimeout(s.current),[]),[r,a,n]}function Ex(e,t,r){const s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,a=r?e.indexOf(r):-1;let n=function(e,t){return e.map((r,s)=>e[(t+s)%e.length])}(e,Math.max(a,0));1===s.length&&(n=n.filter(e=>e!==r));const i=n.find(e=>e.textValue.toLowerCase().startsWith(s.toLowerCase()));return i!==r?i:void 0}Nx.displayName="SelectBubbleInput";var Cx=Fy,Ix=Vy,Tx=Hy,Rx=qy,Ax=rx,Px=lx,Ox=hx,Mx=px,Dx=gx,Lx=xx,zx=bx,Fx=jx;const Ux=Ly,$x=ix,Vx=$y,Hx=re.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(Cx,{ref:a,className:qs("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background input-solid-bg px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...s,children:[r,e.jsx(Ix,{asChild:!0,children:e.jsx(ir,{className:"h-4 w-4 opacity-50"})})]}));Hx.displayName=Cx.displayName;const Bx=re.forwardRef(({className:t,...r},s)=>e.jsx(Lx,{ref:s,className:qs("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(lr,{className:"h-4 w-4"})}));Bx.displayName=Lx.displayName;const qx=re.forwardRef(({className:t,...r},s)=>e.jsx(zx,{ref:s,className:qs("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(ir,{className:"h-4 w-4"})}));qx.displayName=zx.displayName;const Wx=re.forwardRef(({className:t,children:r,position:s="item-aligned",...a},n)=>e.jsx(Tx,{children:e.jsxs(Rx,{ref:n,className:qs("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","item-aligned"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(Bx,{}),e.jsx(Ax,{className:qs("p-1","item-aligned"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(qx,{})]})}));Wx.displayName=Rx.displayName;const Kx=re.forwardRef(({className:t,...r},s)=>e.jsx(Px,{ref:s,className:qs("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r}));Kx.displayName=Px.displayName;const Zx=re.forwardRef(({className:t,children:r,...s},a)=>e.jsxs(Ox,{ref:a,className:qs("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...s,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Dx,{children:e.jsx(nr,{className:"h-4 w-4"})})}),e.jsx(Mx,{children:r})]}));Zx.displayName=Ox.displayName;re.forwardRef(({className:t,...r},s)=>e.jsx(Fx,{ref:s,className:qs("-mx-1 my-1 h-px bg-muted",t),...r})).displayName=Fx.displayName;const Gx=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:qs("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r}));Gx.displayName="Card";const Jx=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:qs("flex flex-col space-y-1.5 p-6",t),...r}));Jx.displayName="CardHeader";const Yx=re.forwardRef(({className:t,...r},s)=>e.jsx("h3",{ref:s,className:qs("text-2xl font-semibold leading-none tracking-tight",t),...r}));Yx.displayName="CardTitle";const Qx=re.forwardRef(({className:t,...r},s)=>e.jsx("p",{ref:s,className:qs("text-sm text-muted-foreground",t),...r}));Qx.displayName="CardDescription";const Xx=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:qs("p-6 pt-0",t),...r}));Xx.displayName="CardContent";const ev=re.forwardRef(({className:t,...r},s)=>e.jsx("div",{ref:s,className:qs("flex items-center p-6 pt-0",t),...r}));ev.displayName="CardFooter";const tv=Yf({type:rg(["general","bug","feature","content"]),content:gf().min(5,"Please provide more details about your feedback"),page:gf().optional(),category:gf().optional()});function rv(){const{toast:t}=Bs(),[r,s]=re.useState(!1),[a,n]=re.useState(!1),[i,o]=re.useState(""),l=Ne({resolver:iy(tv),defaultValues:{type:"general",content:"",page:"",category:"general"}});re.useEffect(()=>{o(window.location.pathname),l.setValue("page",window.location.pathname)},[]);return a?e.jsxs(Gx,{className:"w-full mx-auto shadow-md relative overflow-hidden",children:[e.jsx("div",{className:"absolute -left-10 -top-10 w-32 h-32 bg-green-50 rounded-full blur-xl"}),e.jsxs(Jx,{className:"border-b border-b-gray-100",children:[e.jsxs(Yx,{className:"flex items-center",children:[e.jsx("div",{className:"bg-green-100 p-2 rounded-full mr-3",children:e.jsx(dr,{className:"h-5 w-5 text-green-500"})}),e.jsx("span",{children:"Thank You for Your Feedback!"})]}),e.jsx(Qx,{className:"pl-14",children:"Your thoughts have been submitted successfully"})]}),e.jsxs(Xx,{className:"pt-6",children:[e.jsx("div",{className:"text-sm text-gray-600 mb-5 italic pl-14",children:"We really appreciate you taking the time to share your thoughts with us. Your feedback directly helps us make Bubble's Caf better for everyone!"}),e.jsx("div",{className:"flex justify-center mt-6",children:e.jsxs(nd,{variant:"outline",onClick:()=>n(!1),className:"group border-green-200 hover:bg-green-50 transition-all duration-300",children:[e.jsx(dr,{className:"mr-2 h-4 w-4 text-green-500 group-hover:scale-110 transition-all duration-300"}),e.jsx("span",{className:"text-green-600",children:"Submit Another Feedback"})]})})]})]}):e.jsx("div",{className:"w-full mx-auto",children:e.jsx(uy,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(async e=>{s(!0);try{const r={browser:navigator.userAgent.includes("Chrome")?"Chrome":navigator.userAgent.includes("Firefox")?"Firefox":navigator.userAgent.includes("Safari")?"Safari":navigator.userAgent.includes("Edge")?"Edge":"Unknown",operatingSystem:navigator.platform||"Unknown",screenResolution:`${window.screen.width}x${window.screen.height}`,userAgent:navigator.userAgent},s={...e,...r};if(!(await fetch("/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)})).ok)throw new Error("Failed to submit feedback");t({title:"Feedback Submitted",description:"Thank you for your feedback! We appreciate your input.",variant:"default"}),l.reset(),n(!0)}catch(vN){t({title:"Submission Failed",description:"There was a problem submitting your feedback. Please try again.",variant:"destructive"})}finally{s(!1)}}),className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx(my,{control:l.control,name:"type",render:({field:t})=>e.jsxs(gy,{className:"space-y-3",children:[e.jsx(yy,{className:"text-sm font-medium",children:"Feedback Type"}),e.jsxs(Ux,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(xy,{children:e.jsx(Hx,{className:"bg-white/50 border border-gray-200 hover:border-primary/50 transition-all duration-300",children:e.jsx(Vx,{placeholder:"Select a feedback type"})})}),e.jsxs(Wx,{children:[e.jsx(Zx,{value:"general",children:"General Feedback"}),e.jsx(Zx,{value:"bug",children:"Bug Report"}),e.jsx(Zx,{value:"feature",children:"Feature Request"}),e.jsx(Zx,{value:"content",children:"Content Feedback"})]})]}),e.jsx(by,{})]})}),e.jsx(my,{control:l.control,name:"category",render:({field:t})=>e.jsxs(gy,{className:"space-y-3",children:[e.jsx(yy,{className:"text-sm font-medium",children:"Category"}),e.jsxs(Ux,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(xy,{children:e.jsx(Hx,{className:"bg-white/50 border border-gray-200 hover:border-primary/50 transition-all duration-300",children:e.jsx(Vx,{placeholder:"Select a category"})})}),e.jsxs(Wx,{children:[e.jsx(Zx,{value:"general",children:"General"}),e.jsx(Zx,{value:"ui",children:"User Interface"}),e.jsx(Zx,{value:"performance",children:"Performance"}),e.jsx(Zx,{value:"accessibility",children:"Accessibility"}),e.jsx(Zx,{value:"content",children:"Content"})]})]}),e.jsx(by,{})]})})]}),e.jsx(my,{control:l.control,name:"content",render:({field:t})=>e.jsxs(gy,{className:"space-y-3",children:[e.jsx(yy,{className:"text-sm font-medium",children:"Your Feedback"}),e.jsx(xy,{children:e.jsx(wy,{placeholder:"Tell us what you think...",className:"resize-none h-32 bg-white/50 border border-gray-200 hover:border-primary/50 transition-all duration-300",...t})}),e.jsx(by,{})]})}),e.jsx(nd,{type:"submit",className:`w-full group ${r?"opacity-80":"hover:shadow-md"} transition-all duration-300`,disabled:r,children:r?e.jsxs("span",{className:"flex items-center",children:[e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting..."]}):e.jsx("span",{className:"group-hover:scale-105 transform transition-transform duration-300",children:"Submit Feedback"})})]})})})}function sv({variant:t="default",size:r="default",position:s="bottom-left",showIcon:a=!0,buttonText:n="Feedback"}){const[i,o]=re.useState(!1);return e.jsxs(Kg,{open:i,onOpenChange:o,children:[e.jsx(Zg,{asChild:!0,children:e.jsxs(nd,{variant:t,size:r,className:`${{"bottom-right":"fixed bottom-4 right-4","bottom-left":"fixed bottom-4 left-4 mb-2 ml-1","top-right":"fixed top-4 right-4","top-left":"fixed top-4 left-4"}[s]} z-50 shadow-md hover:shadow-lg transition-shadow`,"aria-label":"Open feedback form",children:[a&&e.jsx(qr,{className:"h-4 w-4 mr-2"}),n]})}),e.jsxs(Yg,{className:"sm:max-w-md",children:[e.jsxs(Qg,{children:[e.jsx(ey,{children:"Feedback"}),e.jsx(ty,{children:"We value your feedback to help us improve our service."})]}),e.jsx(rv,{})]})]})}const av=re.createContext({scrollType:"normal",isScrolling:!1,isPositionRestored:!1,wasRefresh:!1}),nv=["/reader","/community-story"],iv=({children:t})=>{const[r,s]=re.useState(!1),[a,n]=re.useState(!1),i="undefined"!=typeof window?window.location.pathname:"";nv.some(e=>i.startsWith(e));const{scrollType:o,isScrolling:l}=(({enabled:e=!0,sensitivity:t=1,showIndicator:r=!1}={})=>{const[s,a]=re.useState("normal"),[n,i]=re.useState(!1),o=re.useRef(null);return re.useEffect(()=>{if(!e||"undefined"==typeof window)return;const t=()=>{o.current&&window.clearTimeout(o.current),i(!0),o.current=window.setTimeout(()=>{i(!1),a("normal")},150)};return window.addEventListener("scroll",t,{passive:!0}),()=>{window.removeEventListener("scroll",t),o.current&&window.clearTimeout(o.current)}},[e]),{scrollType:s,isScrolling:n}})({enabled:!0,sensitivity:1}),c=(({enabled:e=!0,autoSave:t=!0,showToast:r=!0,maxAgeMs:s=6048e5,highlightTarget:a="p",autoSaveInterval:n=2e3}={})=>{const{toast:i}=Bs(),[o,l]=re.useState(!1),c="undefined"!=typeof window?window.location.pathname:"",d=re.useRef(null),u=re.useRef(!1),h=re.useRef(null);re.useEffect(()=>{if(!e||"undefined"==typeof window)return;const t=performance.getEntriesByType("navigation");if(t.length>0){const e=t[0];u.current="reload"===e.type}else u.current=!1},[e]);const m=()=>{if(e&&"undefined"!=typeof window)try{const e=window.scrollY;if(null!==h.current&&Math.abs(e-h.current)<50)return;const t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)-window.innerHeight,r=t>0?100*Math.min(e/t,1):0;if(e>50||r>2){const t={scrollY:e,timestamp:Date.now(),percentRead:r},s=`gentleReturn_${c}`;localStorage.setItem(s,JSON.stringify(t)),h.current=e}}catch(vN){}},p=()=>{if(e&&"undefined"!=typeof window)try{const e=Date.now();Object.keys(localStorage).filter(e=>e.startsWith("gentleReturn_")).forEach(t=>{try{const r=localStorage.getItem(t);if(r){const a=JSON.parse(r);e-a.timestamp>s&&localStorage.removeItem(t)}}catch(r){localStorage.removeItem(t)}})}catch(vN){}};return re.useEffect(()=>{if(!e||"undefined"==typeof window)return;const t=setTimeout(()=>{try{if(o)return;if(window.scrollY>50)return;const e=`gentleReturn_${c}`,t=localStorage.getItem(e);if(t){const e=JSON.parse(t);if(Date.now()-e.timestamp<=s){if(e.scrollY<100&&(!e.percentRead||e.percentRead<5))return;const t=u.current?300:600;setTimeout(()=>{setTimeout(()=>{window.scrollTo({top:e.scrollY,behavior:u.current?"auto":"smooth"})},u.current?500:800),r&&i({title:u.current?"Position Restored":"Welcome Back",description:"Returned to your previous position",duration:3e3}),l(!0)},t)}}}catch(vN){}},100);return()=>{clearTimeout(t)}},[c,e,s,i,r,a,o]),re.useEffect(()=>{if(!e||!t||"undefined"==typeof window)return;const r=()=>{m()},s=()=>{null!==d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{m()},n)};return window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("beforeunload",r),()=>{null!==d.current&&clearTimeout(d.current),window.removeEventListener("scroll",s),window.removeEventListener("beforeunload",r),m()}},[c,e,t,n]),re.useEffect(()=>{if(!e||"undefined"==typeof window)return;p();const t=setInterval(p,864e5);return()=>{clearInterval(t)}},[e,s]),{savePosition:m,positionRestored:o,isRefresh:u.current}})({enabled:!1,autoSave:!1,showToast:!1,maxAgeMs:864e5,highlightTarget:"",autoSaveInterval:0});return re.useEffect(()=>{c&&(s(!1),n(!1))},[c]),e.jsx(av.Provider,{value:{scrollType:o,isScrolling:l,isPositionRestored:!1,wasRefresh:!1},children:t})};var ov="Popover",[lv,cv]=u(ov,[m]),dv=m(),[uv,hv]=lv(ov),mv=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:n,onOpenChange:i,modal:o=!1}=t,l=dv(r),c=re.useRef(null),[d,u]=re.useState(!1),[h,m]=v({prop:a,defaultProp:n??!1,onChange:i,caller:ov});return e.jsx(b,{...l,children:e.jsx(uv,{scope:r,contentId:x(),triggerRef:c,open:h,onOpenChange:m,onOpenToggle:re.useCallback(()=>m(e=>!e),[m]),hasCustomAnchor:d,onCustomAnchorAdd:re.useCallback(()=>u(!0),[]),onCustomAnchorRemove:re.useCallback(()=>u(!1),[]),modal:o,children:s})})};mv.displayName=ov;var pv="PopoverAnchor";re.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=hv(pv,s),i=dv(s),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=n;return re.useEffect(()=>(o(),()=>l()),[o,l]),e.jsx(w,{...i,...a,ref:r})}).displayName=pv;var fv="PopoverTrigger",gv=re.forwardRef((t,r)=>{const{__scopePopover:a,...n}=t,i=hv(fv,a),o=dv(a),l=y(r,i.triggerRef),c=e.jsx(s.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Cv(i.open),...n,ref:l,onClick:j(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?c:e.jsx(w,{asChild:!0,...o,children:c})});gv.displayName=fv;var yv="PopoverPortal",[xv,vv]=lv(yv,{forceMount:void 0}),bv=t=>{const{__scopePopover:r,forceMount:s,children:a,container:n}=t,i=hv(yv,r);return e.jsx(xv,{scope:r,forceMount:s,children:e.jsx(h,{present:s||i.open,children:e.jsx(U,{asChild:!0,container:n,children:a})})})};bv.displayName=yv;var wv="PopoverContent",jv=re.forwardRef((t,r)=>{const s=vv(wv,t.__scopePopover),{forceMount:a=s.forceMount,...n}=t,i=hv(wv,t.__scopePopover);return e.jsx(h,{present:a||i.open,children:i.modal?e.jsx(Nv,{...n,ref:r}):e.jsx(Sv,{...n,ref:r})})});jv.displayName=wv;var kv=W("PopoverContent.RemoveScroll"),Nv=re.forwardRef((t,r)=>{const s=hv(wv,t.__scopePopover),a=re.useRef(null),n=y(r,a),i=re.useRef(!1);return re.useEffect(()=>{const e=a.current;if(e)return H(e)},[]),e.jsx(q,{as:kv,allowPinchZoom:!0,children:e.jsx(_v,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:j(t.onCloseAutoFocus,e=>{e.preventDefault(),i.current||s.triggerRef.current?.focus()}),onPointerDownOutside:j(t.onPointerDownOutside,e=>{const t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,s=2===t.button||r;i.current=s},{checkForDefaultPrevented:!1}),onFocusOutside:j(t.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1})})})}),Sv=re.forwardRef((t,r)=>{const s=hv(wv,t.__scopePopover),a=re.useRef(!1),n=re.useRef(!1);return e.jsx(_v,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{t.onCloseAutoFocus?.(e),e.defaultPrevented||(a.current||s.triggerRef.current?.focus(),e.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:e=>{t.onInteractOutside?.(e),e.defaultPrevented||(a.current=!0,"pointerdown"===e.detail.originalEvent.type&&(n.current=!0));const r=e.target,i=s.triggerRef.current?.contains(r);i&&e.preventDefault(),"focusin"===e.detail.originalEvent.type&&n.current&&e.preventDefault()}})}),_v=re.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:i,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onInteractOutside:u,...h}=t,m=hv(wv,s),g=dv(s);return B(),e.jsx(K,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:i,children:e.jsx(p,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:u,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:d,onDismiss:()=>m.onOpenChange(!1),children:e.jsx(f,{"data-state":Cv(m.open),role:"dialog",id:m.contentId,...g,...h,ref:r,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Ev="PopoverClose";re.forwardRef((t,r)=>{const{__scopePopover:a,...n}=t,i=hv(Ev,a);return e.jsx(s.button,{type:"button",...n,ref:r,onClick:j(t.onClick,()=>i.onOpenChange(!1))})}).displayName=Ev;function Cv(e){return e?"open":"closed"}re.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=dv(s);return e.jsx(k,{...n,...a,ref:r})}).displayName="PopoverArrow";var Iv=bv,Tv=jv;const Rv=mv,Av=gv,Pv=re.forwardRef(({className:t,align:r="center",sideOffset:s=4,...a},n)=>e.jsx(Iv,{children:e.jsx(Tv,{ref:n,align:r,sideOffset:s,className:qs("z-50 w-72 rounded-md border bg-popover input-solid-bg p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...a})}));Pv.displayName=Tv.displayName;var Ov="ScrollArea",[Mv,Dv]=u(Ov),[Lv,zv]=Mv(Ov),Fv=re.forwardRef((t,r)=>{const{__scopeScrollArea:a,type:n="hover",dir:i,scrollHideDelay:o=600,...l}=t,[c,d]=re.useState(null),[u,h]=re.useState(null),[m,p]=re.useState(null),[f,g]=re.useState(null),[x,v]=re.useState(null),[b,w]=re.useState(0),[j,k]=re.useState(0),[N,S]=re.useState(!1),[_,E]=re.useState(!1),C=y(r,e=>d(e)),I=Z(i);return e.jsx(Lv,{scope:a,type:n,dir:I,scrollHideDelay:o,scrollArea:c,viewport:u,onViewportChange:h,content:m,onContentChange:p,scrollbarX:f,onScrollbarXChange:g,scrollbarXEnabled:N,onScrollbarXEnabledChange:S,scrollbarY:x,onScrollbarYChange:v,scrollbarYEnabled:_,onScrollbarYEnabledChange:E,onCornerWidthChange:w,onCornerHeightChange:k,children:e.jsx(s.div,{dir:I,...l,ref:C,style:{position:"relative","--radix-scroll-area-corner-width":b+"px","--radix-scroll-area-corner-height":j+"px",...t.style}})})});Fv.displayName=Ov;var Uv="ScrollAreaViewport",$v=re.forwardRef((t,r)=>{const{__scopeScrollArea:a,children:n,nonce:i,...o}=t,l=zv(Uv,a),c=re.useRef(null),d=y(r,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(s.div,{"data-radix-scroll-area-viewport":"",...o,ref:d,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});$v.displayName=Uv;var Vv="ScrollAreaScrollbar",Hv=re.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=zv(Vv,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=n,l="horizontal"===t.orientation;return re.useEffect(()=>(l?i(!0):o(!0),()=>{l?i(!1):o(!1)}),[l,i,o]),"hover"===n.type?e.jsx(Bv,{...a,ref:r,forceMount:s}):"scroll"===n.type?e.jsx(qv,{...a,ref:r,forceMount:s}):"auto"===n.type?e.jsx(Wv,{...a,ref:r,forceMount:s}):"always"===n.type?e.jsx(Kv,{...a,ref:r}):null});Hv.displayName=Vv;var Bv=re.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=zv(Vv,t.__scopeScrollArea),[i,o]=re.useState(!1);return re.useEffect(()=>{const e=n.scrollArea;let t=0;if(e){const r=()=>{window.clearTimeout(t),o(!0)},s=()=>{t=window.setTimeout(()=>o(!1),n.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",s),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",s)}}},[n.scrollArea,n.scrollHideDelay]),e.jsx(h,{present:s||i,children:e.jsx(Wv,{"data-state":i?"visible":"hidden",...a,ref:r})})}),qv=re.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=zv(Vv,t.__scopeScrollArea),i="horizontal"===t.orientation,o=hb(()=>c("SCROLL_END"),100),[l,c]=function(e,t){return re.useReducer((e,r)=>t[e][r]??e,e)}("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return re.useEffect(()=>{if("idle"===l){const e=window.setTimeout(()=>c("HIDE"),n.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,n.scrollHideDelay,c]),re.useEffect(()=>{const e=n.viewport,t=i?"scrollLeft":"scrollTop";if(e){let r=e[t];const s=()=>{const s=e[t];r!==s&&(c("SCROLL"),o()),r=s};return e.addEventListener("scroll",s),()=>e.removeEventListener("scroll",s)}},[n.viewport,i,c,o]),e.jsx(h,{present:s||"hidden"!==l,children:e.jsx(Kv,{"data-state":"hidden"===l?"hidden":"visible",...a,ref:r,onPointerEnter:j(t.onPointerEnter,()=>c("POINTER_ENTER")),onPointerLeave:j(t.onPointerLeave,()=>c("POINTER_LEAVE"))})})}),Wv=re.forwardRef((t,r)=>{const s=zv(Vv,t.__scopeScrollArea),{forceMount:a,...n}=t,[i,o]=re.useState(!1),l="horizontal"===t.orientation,c=hb(()=>{if(s.viewport){const e=s.viewport.offsetWidth<s.viewport.scrollWidth,t=s.viewport.offsetHeight<s.viewport.scrollHeight;o(l?e:t)}},10);return mb(s.viewport,c),mb(s.content,c),e.jsx(h,{present:a||i,children:e.jsx(Kv,{"data-state":i?"visible":"hidden",...n,ref:r})})}),Kv=re.forwardRef((t,r)=>{const{orientation:s="vertical",...a}=t,n=zv(Vv,t.__scopeScrollArea),i=re.useRef(null),o=re.useRef(0),[l,c]=re.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ib(l.viewport,l.content),u={...a,sizes:l,onSizesChange:c,hasThumb:Boolean(d>0&&d<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,r,s="ltr"){const a=ob(r),n=a/2,i=t||n,o=a-i,l=r.scrollbar.paddingStart+i,c=r.scrollbar.size-r.scrollbar.paddingEnd-o,d=r.content-r.viewport,u="ltr"===s?[0,d]:[-1*d,0];return cb([l,c],u)(e)}(e,o.current,l,t)}return"horizontal"===s?e.jsx(Zv,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const e=lb(n.viewport.scrollLeft,l,n.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollLeft=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollLeft=h(e,n.dir))}}):"vertical"===s?e.jsx(Gv,{...u,ref:r,onThumbPositionChange:()=>{if(n.viewport&&i.current){const e=lb(n.viewport.scrollTop,l);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{n.viewport&&(n.viewport.scrollTop=e)},onDragScroll:e=>{n.viewport&&(n.viewport.scrollTop=h(e))}}):null}),Zv=re.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=zv(Vv,t.__scopeScrollArea),[o,l]=re.useState(),c=re.useRef(null),d=y(r,c,i.onScrollbarXChange);return re.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(Qv,{"data-orientation":"horizontal",...n,ref:d,sizes:s,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":ob(s)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.x),onDragScroll:e=>t.onDragScroll(e.x),onWheelScroll:(e,r)=>{if(i.viewport){const s=i.viewport.scrollLeft+e.deltaX;t.onWheelScroll(s),db(s,r)&&e.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:nb(o.paddingLeft),paddingEnd:nb(o.paddingRight)}})}})}),Gv=re.forwardRef((t,r)=>{const{sizes:s,onSizesChange:a,...n}=t,i=zv(Vv,t.__scopeScrollArea),[o,l]=re.useState(),c=re.useRef(null),d=y(r,c,i.onScrollbarYChange);return re.useEffect(()=>{c.current&&l(getComputedStyle(c.current))},[c]),e.jsx(Qv,{"data-orientation":"vertical",...n,ref:d,sizes:s,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":ob(s)+"px",...t.style},onThumbPointerDown:e=>t.onThumbPointerDown(e.y),onDragScroll:e=>t.onDragScroll(e.y),onWheelScroll:(e,r)=>{if(i.viewport){const s=i.viewport.scrollTop+e.deltaY;t.onWheelScroll(s),db(s,r)&&e.preventDefault()}},onResize:()=>{c.current&&i.viewport&&o&&a({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:nb(o.paddingTop),paddingEnd:nb(o.paddingBottom)}})}})}),[Jv,Yv]=Mv(Vv),Qv=re.forwardRef((t,r)=>{const{__scopeScrollArea:a,sizes:n,hasThumb:i,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:d,onDragScroll:u,onWheelScroll:h,onResize:m,...p}=t,f=zv(Vv,a),[g,x]=re.useState(null),v=y(r,e=>x(e)),b=re.useRef(null),w=re.useRef(""),k=f.viewport,N=n.content-n.viewport,S=V(h),_=V(d),E=hb(m,10);function C(e){if(b.current){const t=e.clientX-b.current.left,r=e.clientY-b.current.top;u({x:t,y:r})}}return re.useEffect(()=>{const e=e=>{const t=e.target,r=g?.contains(t);r&&S(e,N)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[k,g,N,S]),re.useEffect(_,[n,_]),mb(g,E),mb(f.content,E),e.jsx(Jv,{scope:a,scrollbar:g,hasThumb:i,onThumbChange:V(o),onThumbPointerUp:V(l),onThumbPositionChange:_,onThumbPointerDown:V(c),children:e.jsx(s.div,{...p,ref:v,style:{position:"absolute",...p.style},onPointerDown:j(t.onPointerDown,e=>{if(0===e.button){e.target.setPointerCapture(e.pointerId),b.current=g.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),C(e)}}),onPointerMove:j(t.onPointerMove,C),onPointerUp:j(t.onPointerUp,e=>{const t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=w.current,f.viewport&&(f.viewport.style.scrollBehavior=""),b.current=null})})})}),Xv="ScrollAreaThumb",eb=re.forwardRef((t,r)=>{const{forceMount:s,...a}=t,n=Yv(Xv,t.__scopeScrollArea);return e.jsx(h,{present:s||n.hasThumb,children:e.jsx(tb,{ref:r,...a})})}),tb=re.forwardRef((t,r)=>{const{__scopeScrollArea:a,style:n,...i}=t,o=zv(Xv,a),l=Yv(Xv,a),{onThumbPositionChange:c}=l,d=y(r,e=>l.onThumbChange(e)),u=re.useRef(void 0),h=hb(()=>{u.current&&(u.current(),u.current=void 0)},100);return re.useEffect(()=>{const e=o.viewport;if(e){const t=()=>{if(h(),!u.current){const t=ub(e,c);u.current=t,c()}};return c(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[o.viewport,h,c]),e.jsx(s.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:d,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:j(t.onPointerDownCapture,e=>{const t=e.target.getBoundingClientRect(),r=e.clientX-t.left,s=e.clientY-t.top;l.onThumbPointerDown({x:r,y:s})}),onPointerUp:j(t.onPointerUp,l.onThumbPointerUp)})});eb.displayName=Xv;var rb="ScrollAreaCorner",sb=re.forwardRef((t,r)=>{const s=zv(rb,t.__scopeScrollArea),a=Boolean(s.scrollbarX&&s.scrollbarY);return"scroll"!==s.type&&a?e.jsx(ab,{...t,ref:r}):null});sb.displayName=rb;var ab=re.forwardRef((t,r)=>{const{__scopeScrollArea:a,...n}=t,i=zv(rb,a),[o,l]=re.useState(0),[c,d]=re.useState(0),u=Boolean(o&&c);return mb(i.scrollbarX,()=>{const e=i.scrollbarX?.offsetHeight||0;i.onCornerHeightChange(e),d(e)}),mb(i.scrollbarY,()=>{const e=i.scrollbarY?.offsetWidth||0;i.onCornerWidthChange(e),l(e)}),u?e.jsx(s.div,{...n,ref:r,style:{width:o,height:c,position:"absolute",right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:0,...t.style}}):null});function nb(e){return e?parseInt(e,10):0}function ib(e,t){const r=e/t;return isNaN(r)?0:r}function ob(e){const t=ib(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=(e.scrollbar.size-r)*t;return Math.max(s,18)}function lb(e,t,r="ltr"){const s=ob(t),a=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-a,i=t.content-t.viewport,o=n-s,l=jy(e,"ltr"===r?[0,i]:[-1*i,0]);return cb([0,i],[0,o])(l)}function cb(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(r-e[0])}}function db(e,t){return e>0&&e<t}var ub=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},s=0;return function a(){const n={left:e.scrollLeft,top:e.scrollTop},i=r.left!==n.left,o=r.top!==n.top;(i||o)&&t(),r=n,s=window.requestAnimationFrame(a)}(),()=>window.cancelAnimationFrame(s)};function hb(e,t){const r=V(e),s=re.useRef(0);return re.useEffect(()=>()=>window.clearTimeout(s.current),[]),re.useCallback(()=>{window.clearTimeout(s.current),s.current=window.setTimeout(r,t)},[r,t])}function mb(e,t){const r=V(t);L(()=>{let t=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return s.observe(e),()=>{window.cancelAnimationFrame(t),s.unobserve(e)}}},[e,r])}var pb=Fv,fb=$v,gb=sb;"undefined"!=typeof window&&window.addEventListener("error",e=>!!(e.error&&e.error.message&&e.error.message.includes("ResizeObserver"))&&(e.preventDefault(),!0),!0);const yb=re.forwardRef(({className:t,children:r,...s},a)=>(re.useEffect(()=>{const e=e=>{e.error&&e.error.message&&e.error.message.includes("ResizeObserver")&&e.preventDefault()};return window.addEventListener("error",e),()=>{window.removeEventListener("error",e)}},[]),e.jsxs(pb,{ref:a,className:qs("relative overflow-hidden",t),...s,children:[e.jsx(fb,{className:"h-full w-full rounded-[inherit] pb-4",children:r}),e.jsx(xb,{}),e.jsx(gb,{})]})));yb.displayName=pb.displayName;const xb=re.forwardRef(({className:t,orientation:r="vertical",...s},a)=>e.jsx(Hv,{ref:a,orientation:r,className:qs("flex touch-none select-none transition-colors","vertical"===r&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===r&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...s,children:e.jsx(eb,{className:"relative flex-1 rounded-full bg-border hover:bg-muted-foreground/30"})}));xb.displayName=Hv.displayName;const vb=[];for(let wN=0;wN<256;++wN)vb.push((wN+256).toString(16).slice(1));let bb;const wb=new Uint8Array(16);const jb={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function kb(e,t,r){if(jb.randomUUID&&!e)return jb.randomUUID();const s=(e=e||{}).random??e.rng?.()??function(){if(!bb){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bb=crypto.getRandomValues.bind(crypto)}return bb(wb)}();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=15&s[6]|64,s[8]=63&s[8]|128,function(e,t=0){return(vb[e[t+0]]+vb[e[t+1]]+vb[e[t+2]]+vb[e[t+3]]+"-"+vb[e[t+4]]+vb[e[t+5]]+"-"+vb[e[t+6]]+vb[e[t+7]]+"-"+vb[e[t+8]]+vb[e[t+9]]+"-"+vb[e[t+10]]+vb[e[t+11]]+vb[e[t+12]]+vb[e[t+13]]+vb[e[t+14]]+vb[e[t+15]]).toLowerCase()}(s)}function Nb({isVisible:t,message:r="Why are you ignoring me?",onFinish:s,duration:a=2e3}){const[n,i]=re.useState(r),[o,l]=re.useState(1),[c,d]=re.useState("text-2xl"),u=re.useRef(null),h=re.useRef(null);return re.useEffect(()=>{if(!t)return;const e=r;let n=0;const o=()=>{let t="";const r="!@#$%^&*_-=+?><:;[]{}|\"'\\~`";for(let s=0;s<e.length;s++)if(Math.random()<.6){t+=r[Math.floor(88*Math.random())]}else t+=e[s];if(Math.random()<.5){const e=r[Math.floor(88*Math.random())],s=Math.floor(Math.random()*t.length);t=t.slice(0,s)+e+t.slice(s)}if(Math.random()<.3){const e=r[Math.floor(88*Math.random())],s=Math.floor(Math.random()*t.length);t=t.slice(0,s)+e+t.slice(s)}return t};h.current=setInterval(()=>{if(Math.random()<.3){if(Math.random()<.4){const e=["text-xl","text-2xl","text-3xl","text-4xl"];d(e[Math.floor(Math.random()*e.length)])}setTimeout(()=>{d("text-2xl")},200*Math.random())}},500),u.current=setInterval(()=>{if(n<20){const t=o();i(t),n++,l(.6*Math.random()+.4),Math.random()<.3&&u.current&&(clearInterval(u.current),u.current=setInterval(()=>{n<20?(i(o()),n++,l(.6*Math.random()+.4)):u.current&&(clearInterval(u.current),i(e),l(1),d("text-2xl"),setTimeout(()=>{s()},800))},100*Math.random()+50))}else u.current&&(clearInterval(u.current),i(e),l(1),d("text-2xl"),setTimeout(()=>{s()},800))},120);const c=setTimeout(()=>{u.current&&(clearInterval(u.current),u.current=null),h.current&&(clearInterval(h.current),h.current=null),s()},a);return()=>{u.current&&(clearInterval(u.current),u.current=null),h.current&&(clearInterval(h.current),h.current=null),clearTimeout(c)}},[t,r,a,s]),e.jsx(ye,{children:t&&e.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-10,filter:"blur(8px)"},transition:{duration:.4},className:"absolute inset-0 flex items-center justify-center z-50 pointer-events-none",style:{backgroundColor:"transparent"},children:e.jsx(ge.div,{animate:{x:[0,-5,7,-8,5,0],scale:[1,1.05,.95,1.08,.92,1],rotateZ:[0,1,-2,2.5,-1.5,0],filter:["blur(0px)","blur(0.5px)","blur(0px)","blur(1px)","blur(0px)"]},transition:{duration:.6,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},style:{opacity:o,textShadow:"0 0 15px rgba(255, 0, 0, 0.9), 0 0 25px rgba(255, 0, 0, 0.5), 0 0 40px rgba(255, 0, 0, 0.3)"},className:qs(c,"text-red-700 font-bold tracking-wider","transform-gpu","font-horror","select-none"),children:n})})})}function Sb({text:t,intensityFactor:r=8,duration:s=2e3,permanent:a=!1}){const[n,i]=re.useState(t),[o,l]=re.useState(!0),c=re.useRef(null);return re.useEffect(()=>{c.current&&(clearInterval(c.current),c.current=null);const e=Date.now(),n=Math.max(50,150-15*r),o="!@#$%^&*()-_=+[]{}|;:,.<>/?`~\\\"'\\~`",d=()=>{let e="";const s=Math.min(.85,.3+.12*r);for(let r=0;r<t.length;r++)if(Math.random()<s){const t=Math.floor(96*Math.random());e+=o[t]}else e+=t[r];if(Math.random()<.4){const t=o[Math.floor(96*Math.random())],r=Math.floor(Math.random()*e.length);e=e.slice(0,r)+t+e.slice(r)}return e};return i(d()),l(!0),c.current=setInterval(()=>{const r=Date.now()-e;a||r<s?i(d()):(i(t),l(!1),c.current&&(clearInterval(c.current),c.current=null))},n),()=>{c.current&&(clearInterval(c.current),c.current=null)}},[t,r,s,a]),e.jsxs("span",{className:qs("inline-block font-medium leading-tight relative",o?"text-red-700 font-horror":"text-current"),style:{textShadow:o?"0 0 5px rgba(220, 38, 38, 0.9), 0 0 10px rgba(220, 38, 38, 0.6)":"none",transition:"text-shadow 0.2s ease, color 0.2s ease",transform:o?"skew(-0.5deg, 0.5deg)":"none",letterSpacing:o?"0.5px":"normal"},children:[n,o&&e.jsx("span",{className:"absolute left-0 top-0 opacity-40 text-red-500",style:{filter:"blur(1px)",transform:"translate(1px, -1px)",mixBlendMode:"difference"},children:n})]})}const _b=re.createContext(void 0);function Eb({children:t}){const[r,s]=re.useState(()=>{try{const e=localStorage.getItem("notifications");if(e){return JSON.parse(e).map(e=>({...e,date:new Date(e.date)}))}}catch(vN){}return[]}),[a,n]=re.useState(()=>{try{const e=localStorage.getItem("lastNotificationOpen");return e?new Date(e):null}catch{return null}}),[i,o]=re.useState(!1);re.useEffect(()=>{a&&localStorage.setItem("lastNotificationOpen",a.toISOString())},[a]);const l=r.filter(e=>!e.read).length;re.useEffect(()=>{try{localStorage.setItem("notifications",JSON.stringify(r))}catch(vN){}},[r]);const c=re.useRef(!1);re.useEffect(()=>{if(l>0&&a&&!c.current){(new Date).getTime()-a.getTime()>3e4&&(r.some(e=>"cursed"===e.type)||(d({type:"cursed",title:"Why are you ignoring me?",message:"I noticed you haven't checked your notifications in a while.",link:"/notifications"}),c.current=!0))}},[l,a]),re.useEffect(()=>{0===l&&(c.current=!1)},[l]),re.useEffect(()=>{let e=new Date;const t=async()=>{try{const t=await fetch("/api/posts?limit=1");if(!t.ok)return;const s=await t.json();if(!s.posts||!s.posts.length)return;const a=s.posts[0];new Date(a.date)>e&&!r.some(e=>e.storyId===a.id)&&d({type:"new-story",title:"New Story Published",message:`"${a.title.rendered}" is now available to read!`,link:`/reader/${a.slug}`,storyId:a.id}),e=new Date}catch(vN){}};t();const s=setInterval(t,3e5);return()=>clearInterval(s)},[]);const d=e=>{const t={...e,id:kb(),date:new Date,read:!1};s(e=>[t,...e]),"cursed"!==e.type&&m(t)},u=e=>{s(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},{toast:h}=Bs(),m=t=>{if(!t.read)if("cursed"!==t.type)h({title:t.title,description:t.message,action:t.link?e.jsx(nd,{variant:"outline",size:"sm",onClick:()=>{window.location.href=t.link,u(t.id)},children:"Read Now"}):void 0});else{try{const e=new(window.AudioContext||window.webkitAudioContext),t=e.createOscillator(),r=e.createGain();t.type="sine",t.frequency.setValueAtTime(100,e.currentTime),t.frequency.exponentialRampToValueAtTime(600,e.currentTime+.5),r.gain.setValueAtTime(.1,e.currentTime),r.gain.exponentialRampToValueAtTime(.01,e.currentTime+.5),t.connect(r),r.connect(e.destination),t.start(),setTimeout(()=>t.stop(),500)}catch(r){}h({title:e.jsx("div",{className:"flex items-center",children:e.jsx(Sb,{text:"Why are you ignoring me?",intensityFactor:10,permanent:!0})}),description:e.jsx("span",{className:"text-red-400",children:"I'll be watching your notifications more closely now..."}),variant:"destructive",duration:2e3})}},p={notifications:r,unreadCount:l,addNotification:d,markAsRead:u,markAllAsRead:()=>{s(e=>e.map(e=>({...e,read:!0})))},clearNotifications:()=>{s([])},showNotificationToast:m,lastNotificationOpen:a,setLastNotificationOpen:n,showCursedEffect:i,setShowCursedEffect:o};return e.jsx(_b.Provider,{value:p,children:t})}function Cb(){const e=re.useContext(_b);if(void 0===e)throw new Error("useNotifications must be used within a NotificationProvider");return e}const Ib=Q,Tb=re.forwardRef(({className:t,...r},s)=>e.jsx(G,{ref:s,className:qs("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...r}));Tb.displayName=G.displayName;const Rb=re.forwardRef(({className:t,...r},s)=>e.jsx(J,{ref:s,className:qs("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...r}));Rb.displayName=J.displayName;const Ab=re.forwardRef(({className:t,...r},s)=>e.jsx(Y,{ref:s,className:qs("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));function Pb({className:t,onClick:r,noOutline:s}){const[a,n]=re.useState(!1),[i,o]=se(),[l,c]=re.useState("all"),[d,u]=re.useState(!1),{notifications:h,unreadCount:m,markAsRead:p,markAllAsRead:f,clearNotifications:g,addNotification:y,lastNotificationOpen:x,setLastNotificationOpen:v}=Cb();re.useEffect(()=>{if(a){v(new Date);h.some(e=>"cursed"===e.type&&!e.read)&&(u(!0),h.forEach(e=>{"cursed"!==e.type||e.read||p(e.id)}))}},[a,h,p,v]);const b=e=>{p(e.id),e.link&&o(e.link),n(!1)},w="all"===l?h:"unread"===l?h.filter(e=>!e.read):h.filter(e=>e.read);return e.jsxs(Rv,{open:a,onOpenChange:n,children:[e.jsx(Av,{asChild:!0,children:e.jsxs(nd,{variant:"ghost",size:"icon",className:qs("relative h-9 w-9 rounded-md border border-border/30 hover:bg-accent/10 active:bg-accent/20 transition-all duration-150 ease-out",t),"aria-label":`Notifications - ${m} unread`,onClick:r||void 0,noOutline:s,children:[e.jsx(Kt,{className:"h-4 w-4",strokeWidth:1.75}),e.jsx(ye,{children:m>0&&e.jsx(ge.div,{className:"absolute -top-1 -right-1 flex items-center justify-center",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},children:e.jsx(qg,{variant:"destructive",className:"h-4 min-w-4 px-1 text-[10px] font-semibold rounded-full",children:m>99?"99+":m})})})]})}),e.jsxs(Pv,{className:"w-80 p-0 relative overflow-hidden",align:"end",children:[a&&e.jsx(Nb,{isVisible:d,message:"",onFinish:()=>{u(!1)},duration:2e3}),e.jsxs("div",{className:"px-4 py-3 flex items-center border-b",children:[e.jsx("h3",{className:"font-medium mr-auto",children:"Notifications"}),e.jsxs("div",{className:"flex gap-1",children:[m>0&&e.jsxs(nd,{variant:"outline",size:"sm",className:"h-7 px-1.5 text-xs rounded-md",onClick:f,title:"Mark all as read",children:[e.jsx(ar,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden",children:"Mark all read"})]}),h.length>0&&e.jsxs(nd,{variant:"outline",size:"sm",className:"h-7 px-1.5 text-xs text-destructive hover:text-destructive rounded-md",onClick:g,title:"Clear all notifications",children:[e.jsx(js,{className:"h-3.5 w-3.5"}),e.jsx("span",{className:"hidden",children:"Clear"})]})]})]}),e.jsxs(Ib,{defaultValue:"all",value:l,onValueChange:c,className:"w-full",children:[e.jsxs(Tb,{className:"grid w-[calc(100%-8px)] grid-cols-3 p-1 px-1 mx-auto h-9",children:[e.jsxs(Rb,{value:"all",className:"text-xs px-1 py-1.5 min-h-[28px] flex items-center justify-center",children:["All",h.length>0&&e.jsx(qg,{variant:"secondary",className:"ml-1 h-5 min-w-5 px-1 text-[10px] flex items-center justify-center",children:h.length})]}),e.jsxs(Rb,{value:"unread",className:"text-xs px-1 py-1.5 min-h-[28px] flex items-center justify-center",children:["Unread",m>0&&e.jsx(qg,{variant:"destructive",className:"ml-1 h-5 min-w-5 px-1 text-[10px] flex items-center justify-center",children:m})]}),e.jsxs(Rb,{value:"read",className:"text-xs px-1 py-1.5 min-h-[28px] flex items-center justify-center",children:["Read",h.length-m>0&&e.jsx(qg,{variant:"outline",className:"ml-1 h-5 min-w-5 px-1 text-[10px] flex items-center justify-center",children:h.length-m})]})]}),e.jsxs(yb,{className:"h-[300px]",children:[e.jsx(Ab,{value:"all",className:"m-0 p-0",children:0===h.length?e.jsxs("div",{className:"py-6 text-center text-muted-foreground",children:[e.jsx(Kt,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No notifications yet"}),e.jsx("p",{className:"text-xs mt-1",children:"You'll be notified when new stories are published"})]}):e.jsx("div",{className:"divide-y",children:h.map(t=>e.jsx("div",{className:qs("px-4 py-3 cursor-pointer transition-colors hover:bg-muted/50",!t.read&&"bg-primary/5"),onClick:()=>b(t),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:qs("mt-0.5 p-1 rounded-full","success"===t.type?"bg-green-100 text-green-700":"error"===t.type?"bg-red-100 text-red-700":"warning"===t.type?"bg-yellow-100 text-yellow-700":"new-story"===t.type?"bg-primary/10 text-primary":"bg-blue-100 text-blue-700"),children:"success"===t.type?e.jsx(nr,{className:"h-3.5 w-3.5"}):"error"===t.type||"warning"===t.type?e.jsx(Ss,{className:"h-3.5 w-3.5"}):(t.type,e.jsx(Kt,{className:"h-3.5 w-3.5"}))}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:qs("text-sm font-medium leading-tight",!t.read&&"text-foreground",t.read&&"text-muted-foreground","cursed"===t.type&&"text-red-600"),children:"cursed"===t.type?e.jsx(Sb,{text:"Why are you ignoring me?",intensityFactor:8,permanent:!0}):t.title}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:me(t.date,"MMM d")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.message}),t.link&&e.jsx("div",{className:"mt-1",children:e.jsx(nd,{variant:"link",size:"sm",className:"h-6 p-0 text-xs text-primary",children:t.link.includes("/reader")?"Read story":"View details"})})]})]})},t.id))})}),e.jsx(Ab,{value:"unread",className:"m-0 p-0",children:0===w.length?e.jsxs("div",{className:"py-6 text-center text-muted-foreground",children:[e.jsx(nr,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No unread notifications"}),e.jsx("p",{className:"text-xs mt-1",children:"All caught up!"})]}):e.jsx("div",{className:"divide-y",children:w.map(t=>e.jsx("div",{className:"px-4 py-3 cursor-pointer transition-colors hover:bg-muted/50 bg-primary/5",onClick:()=>b(t),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:qs("mt-0.5 p-1 rounded-full","success"===t.type?"bg-green-100 text-green-700":"error"===t.type?"bg-red-100 text-red-700":"warning"===t.type?"bg-yellow-100 text-yellow-700":"new-story"===t.type?"bg-primary/10 text-primary":"bg-blue-100 text-blue-700"),children:"success"===t.type?e.jsx(nr,{className:"h-3.5 w-3.5"}):"error"===t.type||"warning"===t.type?e.jsx(Ss,{className:"h-3.5 w-3.5"}):(t.type,e.jsx(Kt,{className:"h-3.5 w-3.5"}))}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:qs("text-sm font-medium leading-tight","cursed"===t.type&&"text-red-600"),children:"cursed"===t.type?e.jsx(Sb,{text:"Why are you ignoring me?",intensityFactor:8,permanent:!0}):t.title}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:me(t.date,"MMM d")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.message}),t.link&&e.jsx("div",{className:"mt-1",children:e.jsx(nd,{variant:"link",size:"sm",className:"h-6 p-0 text-xs text-primary",children:t.link.includes("/reader")?"Read story":"View details"})})]})]})},t.id))})}),e.jsx(Ab,{value:"read",className:"m-0 p-0",children:0===w.length?e.jsxs("div",{className:"py-6 text-center text-muted-foreground",children:[e.jsx(Kt,{className:"h-8 w-8 mx-auto mb-2 opacity-20"}),e.jsx("p",{className:"text-sm",children:"No read notifications"}),e.jsx("p",{className:"text-xs mt-1",children:"Check back later"})]}):e.jsx("div",{className:"divide-y",children:w.map(t=>e.jsx("div",{className:"px-4 py-3 cursor-pointer transition-colors hover:bg-muted/50",onClick:()=>b(t),children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:qs("mt-0.5 p-1 rounded-full","success"===t.type?"bg-green-100 text-green-700":"error"===t.type?"bg-red-100 text-red-700":"warning"===t.type?"bg-yellow-100 text-yellow-700":"new-story"===t.type?"bg-primary/10 text-primary":"bg-blue-100 text-blue-700"),children:"success"===t.type?e.jsx(nr,{className:"h-3.5 w-3.5"}):"error"===t.type||"warning"===t.type?e.jsx(Ss,{className:"h-3.5 w-3.5"}):(t.type,e.jsx(Kt,{className:"h-3.5 w-3.5"}))}),e.jsxs("div",{className:"flex-1 space-y-1",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("p",{className:qs("text-sm font-medium leading-tight text-muted-foreground","cursed"===t.type&&"text-red-600/70"),children:"cursed"===t.type?e.jsx(Sb,{text:t.title,intensityFactor:1}):t.title}),e.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap ml-2",children:me(t.date,"MMM d")})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.message}),t.link&&e.jsx("div",{className:"mt-1",children:e.jsx(nd,{variant:"link",size:"sm",className:"h-6 p-0 text-xs text-primary",children:t.link.includes("/reader")?"Read story":"View details"})})]})]})},t.id))})})]})]}),e.jsx("div",{className:"p-2 border-t flex justify-between items-center",children:e.jsxs(nd,{variant:"ghost",size:"sm",className:"text-xs",onClick:()=>{o("/settings/notifications"),n(!1)},children:[e.jsx(cs,{className:"h-3.5 w-3.5 mr-1.5"}),"Settings"]})})]})]})}Ab.displayName=Y.displayName;const Ob=[{value:"light",label:"Light",icon:e.jsx(vs,{className:"h-4 w-4"}),emoji:""},{value:"dark",label:"Dark",icon:e.jsx(Gr,{className:"h-4 w-4"}),emoji:""},{value:"blue-pastel",label:"Ocean Blue",icon:e.jsx(ys,{className:"h-4 w-4"}),emoji:""},{value:"green-pastel",label:"Nature Green",icon:e.jsx(Fr,{className:"h-4 w-4"}),emoji:""},{value:"purple-pastel",label:"Lavender",icon:e.jsx(Or,{className:"h-4 w-4"}),emoji:""},{value:"brown-pastel",label:"Warm Earth",icon:e.jsx(br,{className:"h-4 w-4"}),emoji:""}],Mb=({className:t})=>{const[r,s]=re.useState("light");re.useEffect(()=>{const e=localStorage.getItem("theme")||"light";s(e),a(e)},[]);const a=e=>{const t=document.documentElement;t.classList.remove("dark"),t.removeAttribute("data-theme"),"dark"===e?t.classList.add("dark"):"light"!==e&&t.setAttribute("data-theme",e),localStorage.setItem("theme",e),s(e)},n=Ob.find(e=>e.value===r)||Ob[0];return e.jsxs(Su,{children:[e.jsx(_u,{asChild:!0,children:e.jsxs(nd,{variant:"ghost",size:"sm",className:qs("h-9 px-3 flex items-center gap-2 hover:bg-accent/50 transition-colors",t),children:[e.jsx("span",{className:"text-lg",children:n.emoji}),e.jsx("span",{className:"hidden sm:inline-block font-medium",children:n.label}),e.jsx(ir,{className:"h-3 w-3 opacity-50"})]})}),e.jsx(Cu,{align:"end",className:"w-48",children:Ob.map(t=>e.jsxs(Iu,{onClick:()=>a(t.value),className:qs("flex items-center gap-3 cursor-pointer",r===t.value&&"bg-accent"),children:[e.jsx("span",{className:"text-lg",children:t.emoji}),e.jsx("span",{className:"flex-1",children:t.label}),r===t.value&&e.jsx(nr,{className:"h-4 w-4 text-primary"})]},t.value))})]})};function Db(){const[t,r]=se(),[s,a]=re.useState(!1),{user:n}=ba(),{notifications:i}=Cb(),[o,l]=re.useState(!1),[c,d]=re.useState("desktop");re.useEffect(()=>{const e=()=>{l(window.scrollY>10)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[]),re.useEffect(()=>{const e=()=>{const e=window.innerWidth;d(e<640?"mobile":e>=640&&e<1024?"tablet":e>=1024&&e<1280?"laptop":"desktop")};return e(),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]);return e.jsx("header",{className:"fixed top-0 z-40 w-screen border-b \n                bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60\n                transition-all duration-300 ease-in-out \n                "+(o?"shadow-md":""),"data-device-type":c,style:{width:"100vw",left:0,right:0,margin:0,padding:0},children:e.jsxs("div",{className:"w-full flex h-16 md:h-18 items-center justify-between px-0",children:[e.jsx("div",{className:"flex items-center -mt-1 pl-2",children:e.jsxs(wd,{open:s,onOpenChange:a,children:[e.jsx(jd,{asChild:!0,children:e.jsx(nd,{variant:"ghost",size:"icon",className:"h-10 w-10 rounded-md border border-border/30 text-foreground/80 hover:text-foreground hover:bg-accent/60\n                          transition-all duration-200 ease-in-out active:scale-95 mt-2","aria-label":"Open menu",children:e.jsx(Br,{className:"h-5 w-5"})})}),e.jsxs(_d,{side:"left",className:"p-0 w-[280px] sm:w-[320px] md:w-[350px] lg:w-[400px] max-w-[85vw]",children:[e.jsx(Ed,{className:"sr-only",children:"Navigation Menu"}),e.jsx(Cd,{className:"sr-only",children:"Access navigation links and settings for Bubble's Cafe"}),e.jsx("div",{className:"border-b border-border/30"}),e.jsx(Xu,{onNavigate:()=>a(!1)})]})]})}),e.jsx("div",{className:"lg:hidden flex-1 flex items-center justify-center"}),e.jsx("nav",{className:"hidden lg:flex items-center space-x-4 -mt-1 absolute inset-0 justify-center",children:[{href:"/",label:"Home"},{href:"/stories",label:"Stories"},{href:"/reader",label:"Reader"},{href:"/community",label:"Community"},{href:"/about",label:"About"}].map(s=>e.jsx("button",{onClick:()=>r(s.href),className:"px-5 py-2.5 rounded-md text-sm font-medium transition-colors hover:bg-accent/30 mt-2\n                        "+(t===s.href?"text-primary font-semibold bg-accent/40 border border-border/40 shadow-sm":"text-foreground/80 hover:text-foreground"),children:s.label},s.href))}),e.jsx("div",{className:"flex-1 lg:flex"}),e.jsxs("div",{className:"flex items-center space-x-2 -mt-1 ml-auto pr-2",children:[e.jsx(nd,{variant:"ghost",size:"icon",onClick:()=>{const e=prompt("Search for keywords:");e&&e.trim()&&r(`/search?q=${encodeURIComponent(e.trim())}`)},className:"h-8 w-8 rounded-md border border-border/30 text-foreground/80 hover:text-foreground hover:bg-accent/50\n                      transition-all duration-150 active:scale-95 mt-2","aria-label":"Search",children:e.jsx(is,{className:"h-4 w-4"})}),e.jsx(Pb,{notifications:i,className:"h-8 w-8 rounded-md border border-border/30 text-foreground/80 hover:text-foreground hover:bg-accent/50 \n                      transition-all duration-150 active:scale-95 mt-2"}),e.jsx(Mb,{className:"mt-2"}),n?e.jsx(nd,{variant:"ghost",size:"icon",onClick:()=>r("/profile"),className:"h-8 w-8 rounded-md border border-border/30 text-foreground/80 hover:text-foreground hover:bg-accent/50\n                        transition-all duration-150 active:scale-95 p-0 overflow-hidden mt-2","aria-label":"Profile",children:n.photoURL?e.jsx("div",{className:"h-full w-full overflow-hidden rounded-full",children:e.jsx("img",{src:n.photoURL,alt:`${n.username||n.email}'s avatar`,className:"h-full w-full object-cover"})}):e.jsx("div",{className:"h-5 w-5 rounded-full bg-primary/20 flex items-center justify-center text-primary-foreground text-xs font-medium",children:n.username?n.username.charAt(0).toUpperCase():"U"})}):e.jsx(nd,{variant:"ghost",size:"icon",onClick:()=>r("/auth"),className:"h-8 w-8 rounded-md border border-border/30 text-foreground/80 hover:text-foreground hover:bg-accent/50\n                        transition-all duration-150 active:scale-95 mt-2","aria-label":"Sign in",children:e.jsx(Is,{className:"h-4 w-4 transition-all"})})]})]})})}const Lb=({hideOnPaths:t=["/community-story/*"]})=>{const[r,s]=re.useState(""),[a,n]=re.useState(!1);re.useEffect(()=>{const e=()=>{const e=window.scrollY;n(e>20)};return e(),window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[]),re.useEffect(()=>{s(window.location.pathname);const e=()=>{s(window.location.pathname)};return window.addEventListener("popstate",e),()=>{window.removeEventListener("popstate",e)}},[]);return t.some(e=>r===e||e.endsWith("*")&&r.startsWith(e.slice(0,-1)))?null:e.jsx("div",{className:"navbar-container transition-all duration-300 fixed top-0 left-0 right-0 z-40 w-screen "+(a?"lg:bg-background/90 lg:backdrop-blur-md lg:shadow-md":"lg:bg-transparent"),style:{width:"100vw",margin:0,padding:0},children:e.jsx(Db,{})})},zb=re.createContext(void 0),Fb=[{title:"New message",message:"Someone just messaged you..."},{title:"Activity detected",message:"Someone viewed your profile"},{title:"New interaction",message:"Someone mentioned you"},{title:"Connection request",message:"Someone wants to connect"},{title:"System alert",message:"Important update available"},{title:"Story update",message:"A story you're following was updated"},{title:"Content alert",message:"New content has been published for you"},{title:"Reminder",message:"Don't forget about your unread stories"}];function Ub({children:t}){const[r,s]=re.useState(()=>{try{const e=localStorage.getItem("silentPingEnabled");return null!==e&&JSON.parse(e)}catch(vN){return!1}});re.useEffect(()=>{try{localStorage.setItem("silentPingEnabled",JSON.stringify(r))}catch(vN){}},[r]);const{addNotification:a}=Cb(),n=re.useCallback(()=>{if(!r)return;const e=Fb[Math.floor(Math.random()*Fb.length)];a({type:"info",title:e.title,message:e.message})},[a,r]);re.useEffect(()=>{if(!r)return;let e;const t=()=>{e=setTimeout(()=>{(()=>{try{const e=localStorage.getItem("lastSilentPingTime"),t=Date.now();if(e){if((t-parseInt(e,10))/36e5<12)return!1}return!0}catch(vN){return!0}})()&&Math.random()<.5&&(n(),localStorage.setItem("lastSilentPingTime",Date.now().toString())),t()},60*(4+Math.floor(4*Math.random()))*60*1e3)};return t(),()=>clearTimeout(e)},[r,n]),re.useEffect(()=>{if(!r)return;const e=()=>{try{const e=localStorage.getItem("lastSilentPingTime"),t=Date.now();if(e){const r=parseInt(e,10);if((t-r)/36e5<12)return}Math.random()<.001&&(n(),localStorage.setItem("lastSilentPingTime",t.toString()))}catch(vN){}};return window.addEventListener("click",e),window.addEventListener("popstate",e),()=>{window.removeEventListener("click",e),window.removeEventListener("popstate",e)}},[r,n]);const i=re.useCallback(()=>{s(e=>!e)},[]),o={triggerSilentPing:n,isEnabled:r,toggleEnabled:i};return e.jsx(zb.Provider,{value:o,children:t})}const $b=re.createContext(void 0),Vb={general:{name:"Ambient Rain",src:"/sounds/ambient-rain.mp3",volume:.3},"story-reading":{name:"Reading Ambience",src:"/sounds/reading-ambience.mp3",volume:.25},gallery:{name:"Gallery Atmosphere",src:"/sounds/gallery-atmosphere.mp3",volume:.2},admin:{name:"Admin Background",src:"/sounds/admin-background.mp3",volume:.15},settings:{name:"Settings Theme",src:"/sounds/settings-theme.mp3",volume:.2},reader:{name:"Reading Ambience",src:"/sounds/reading-ambience.mp3",volume:.25},game:{name:"Game Background",src:"/sounds/game-background.mp3",volume:.3},homepage:{name:"Homepage Theme",src:"/sounds/homepage-theme.mp3",volume:.3}};function Hb({children:t}){const[r,s]=re.useState(!1),[a,n]=re.useState(.5),[i,o]=re.useState(null),[l,c]=re.useState(!1),[d,u]=re.useState(null),[h,m]=re.useState(null),[p,f]=re.useState("primary"),[g,y]=re.useState("general"),[x]=re.useState({general:Vb.general,"story-reading":Vb["story-reading"],gallery:Vb.gallery,admin:Vb.admin,settings:Vb.settings,reader:Vb.reader,game:Vb.game,homepage:Vb.homepage}),v=re.useRef({}),b=re.useRef(null),w=re.useRef(null),j="music-player-state",k=re.useCallback(e=>{const t=Math.max(0,Math.min(1,e));n(t),d&&(d.volume=t),h&&(h.volume=t);try{const e=JSON.parse(localStorage.getItem(j)||"{}");e.volume=t,localStorage.setItem(j,JSON.stringify(e))}catch(vN){}},[d,h]);re.useEffect(()=>{try{const e=localStorage.getItem(j);if(e){const t=JSON.parse(e);t?.positions&&(v.current=t.positions,"number"==typeof t.volume&&n(t.volume))}}catch(vN){}},[]),re.useEffect(()=>{const e=new Audio,t=new Audio;return[e,t].forEach(e=>{e.volume=a,e.preload="auto",e.loop=!0}),u(e),m(t),()=>{e.pause(),t.pause(),e.src="",t.src="",b.current&&window.clearTimeout(b.current),w.current&&window.clearInterval(w.current)}},[]),re.useEffect(()=>{d&&(d.volume=a),h&&(h.volume=a)},[a,d,h]);const N=re.useCallback(async(e,t)=>{if(d&&h){c(!0);try{const a=t||g,n=e||x[a]?.src||Vb.general.src;if(i===n&&r)return void c(!1);const l="primary"===p?h:d,u="primary"===p?d:h;l.src=n,v.current[n]&&(l.currentTime=v.current[n]),await l.play(),r&&u.src&&await E(u,l),f("primary"===p?"secondary":"primary"),o(n),s(!0),t&&y(t)}catch(vN){}finally{c(!1)}}},[d,h,i,r,p,g,x]),S=re.useCallback(()=>{const e="primary"===p?d:h;e&&(i&&(v.current[i]=e.currentTime,C()),e.pause(),s(!1))},[p,d,h,i]),_=re.useCallback(()=>{[d,h].forEach(e=>{e&&(e.pause(),e.currentTime=0)}),s(!1),o(null)},[d,h]),E=re.useCallback(async(e,t)=>new Promise(r=>{let s=0;const n=setInterval(()=>{s++;const i=s/20;e.volume=a*(1-i),t.volume=a*i,s>=20&&(clearInterval(n),e.pause(),e.volume=a,r())},50);w.current=n}),[a]),C=re.useCallback(()=>{try{const e={positions:v.current,volume:a};localStorage.setItem(j,JSON.stringify(e))}catch(vN){}},[a]),I=re.useCallback(()=>{r?S():N()},[r,S,N]),T=re.useCallback(e=>g===e&&r,[g,r]),R=re.useCallback(e=>{y(e),r&&N(void 0,e)},[r,N]),A=I,P=R,O=re.useCallback(()=>{if(i){const e="primary"===p?d:h;e&&(v.current[i]=e.currentTime,C())}},[i,p,d,h,C]),M=ae.useMemo(()=>({isPlaying:r,volume:a,currentTrack:i,isLoading:l,currentContext:g,contextAudioMap:x,play:N,pause:S,stop:_,setVolume:k,setContext:R,togglePlayPause:I,toggleMusic:A,setPlaybackContext:P,storePlaybackPosition:O,isContextActive:T}),[r,a,i,l,g,x,N,S,_,k,R,I,A,P,O,T]);return e.jsx($b.Provider,{value:M,children:t})}function Bb({children:t}){const{toast:r}=Bs();return re.useEffect(()=>(xg(r),()=>{xg(()=>{})}),[r]),e.jsx(e.Fragment,{children:t})}const qb=({children:t})=>{const[r,s]=se();return re.useEffect(()=>{t||s("/errors/404")},[s,t]),t?e.jsx(e.Fragment,{children:t}):null};function Wb({onRefresh:t,children:r,pullDistance:s=100,loadingIndicator:a}){const n=re.useRef(null),[i,o]=re.useState(0),[l,c]=re.useState(!1),d=re.useRef(null),u=i>=s;return re.useEffect(()=>{const e=n.current;if(!e)return;const r=e=>{window.scrollY>0||(d.current=e.touches[0].clientY)},s=e=>{if(l||window.scrollY>0||null===d.current)return;const t=e.touches[0].clientY-d.current;if(t>0){const r=.4,s=Math.min(t*r,150);o(s),e.preventDefault()}},a=()=>{u&&!l?(c(!0),t().finally(()=>{setTimeout(()=>{c(!1),o(0)},700)})):o(0),d.current=null};return e.addEventListener("touchstart",r,{passive:!0}),e.addEventListener("touchmove",s,{passive:!1}),e.addEventListener("touchend",a),()=>{e.removeEventListener("touchstart",r),e.removeEventListener("touchmove",s),e.removeEventListener("touchend",a)}},[l,t,u,s]),e.jsxs("div",{ref:n,className:"relative w-full min-h-full",children:[e.jsx(ye,{children:i>0&&e.jsx(ge.div,{className:"absolute left-0 right-0 flex justify-center items-center z-10",initial:{opacity:0,y:-10},animate:{opacity:Math.min(i/40,1),y:0,scale:u?1.1:1},exit:{opacity:0,y:-10},transition:{duration:.2},style:{top:`${i}px`},children:l?a||e.jsx(Zb,{}):e.jsx(Kb,{progress:Math.min(i/s,1),isTriggered:u})})}),e.jsx(ge.div,{style:{y:i},animate:{y:i},transition:{type:i>0?"tween":"spring",stiffness:300,damping:30,duration:i>0?0:.4},children:r})]})}function Kb({progress:t,isTriggered:r}){const s=r?"#22c55e":"#800000";return e.jsxs("div",{className:"relative",children:[e.jsxs("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:qs("transition-transform duration-300 ease-out",r?"rotate-180":"rotate-0"),children:[e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5",className:qs("text-muted-foreground transition-colors duration-200",r?"text-green-500":"text-primary"),strokeOpacity:"0.3"}),e.jsx(ge.path,{d:Gb(12,12,10,0,360*t),stroke:s,strokeWidth:"2",strokeLinecap:"round",fill:"none",initial:{pathLength:0},animate:{pathLength:t},transition:{duration:.1}}),e.jsx(ge.path,{d:"M12 8v8M8 12l4 4 4-4",stroke:s,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",initial:{y:-2,opacity:.5},animate:{y:r?2:0,opacity:r?1:.7},transition:{duration:.2}})]}),e.jsx(ge.div,{className:"absolute top-full left-1/2 transform -translate-x-1/2 mt-2 text-xs font-medium whitespace-nowrap",initial:{opacity:0},animate:{opacity:t>.3?1:0},transition:{duration:.2},children:e.jsx("span",{className:qs("transition-colors duration-200",r?"text-green-500":"text-primary"),children:r?"Release to refresh":"Pull to refresh"})})]})}function Zb(){return e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsxs("div",{className:"relative w-10 h-10",children:[e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",className:"absolute inset-0 text-primary/30",children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"1.5",fill:"none"})}),e.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",className:"absolute inset-0 text-primary animate-spin",style:{animationDuration:"1.5s"},children:e.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",fill:"none",strokeDasharray:"30 200"})})]}),e.jsx(ge.span,{className:"text-xs font-medium mt-2 text-primary",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:"Refreshing..."})]})}function Gb(e,t,r,s,a){const n=Jb(e,t,r,a),i=Jb(e,t,r,s),o=a-s<=180?0:1;return["M",n.x,n.y,"A",r,r,0,o,0,i.x,i.y].join(" ")}function Jb(e,t,r,s){const a=(s-90)*Math.PI/180;return{x:e+r*Math.cos(a),y:t+r*Math.sin(a)}}const Yb=re.createContext(void 0);function Qb({children:t,onBeforeRefresh:r,onAfterRefresh:s}){const a=function(e={}){const[t,r]=re.useState(!1),[s,a]=re.useState(null),n=It(),i=re.useCallback(async()=>{if(t)return!1;try{return r(!0),e.onBeforeRefresh&&await e.onBeforeRefresh(),e.shouldInvalidateQueries&&await n.invalidateQueries(),await new Promise(e=>setTimeout(e,500)),e.onAfterRefresh&&await e.onAfterRefresh(),a(new Date),!0}catch(vN){return!1}finally{r(!1)}},[t,n,e]),o=re.useCallback(()=>s?`Last updated ${he(s,{addSuffix:!0})}`:"Never refreshed",[s]);return{refresh:i,isRefreshing:t,lastRefreshed:s,getLastRefreshedText:o}}({onBeforeRefresh:r,onAfterRefresh:s,shouldInvalidateQueries:!0});return e.jsx(Yb.Provider,{value:a,children:t})}const Xb=()=>{const[t,r]=re.useState(!1),[s,a]=re.useState(!1),[n,i]=re.useState(!1),o={initial:{y:0,x:0,opacity:.7,scale:.8},animate:{y:-15,x:[0,2,-2,0],opacity:0,scale:1.2,transition:{duration:2,repeat:1/0,repeatType:"loop",ease:"easeOut"}}},l={initial:{scale:0,y:0,opacity:0},animate:{scale:[0,1,0],y:-20,opacity:[0,1,0],transition:{duration:2,repeat:1/0,repeatDelay:1,ease:"easeOut"}}};return e.jsxs(e.Fragment,{children:[e.jsxs(ge.div,{whileHover:{scale:1.1,rotate:[0,-1,1,0],transition:{scale:{type:"spring",stiffness:300,damping:10},rotate:{duration:.5,repeat:1/0,repeatType:"reverse"}}},whileTap:{scale:.9},onHoverStart:()=>a(!0),onHoverEnd:()=>a(!1),className:"relative",children:[e.jsx(ye,{children:s&&e.jsx(e.Fragment,{children:[...Array(6)].map((t,r)=>e.jsx(ge.div,{initial:{scale:0,rotate:0},animate:{scale:[0,1,0],rotate:360,x:[0,30*Math.cos(60*r*Math.PI/180)],y:[0,30*Math.sin(60*r*Math.PI/180)]},exit:{scale:0},transition:{duration:1.5,repeat:1/0,delay:.2*r},className:"absolute top-1/2 left-1/2 w-2 h-2 bg-yellow-300 rounded-full pointer-events-none",style:{filter:"drop-shadow(0 0 4px rgba(255, 255, 0, 0.8))"}},r))})}),e.jsxs(nd,{onClick:()=>r(!0),"aria-label":"Buy me a coffee",className:"relative px-8 py-5 bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-400 hover:to-purple-500 text-white rounded-full shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden",size:"lg",children:[e.jsx(ge.div,{animate:{background:["linear-gradient(45deg, rgba(245, 158, 11, 0.3), rgba(249, 115, 22, 0.3))","linear-gradient(45deg, rgba(249, 115, 22, 0.3), rgba(245, 158, 11, 0.3))"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 rounded-full"}),e.jsx("div",{className:"absolute -top-2 left-1/2 transform -translate-x-1/2 pointer-events-none",children:[...Array(3)].map((t,r)=>e.jsx(ge.div,{variants:o,initial:"initial",animate:"animate",style:{animationDelay:.5*r+"s"},className:"absolute w-1 h-1 bg-white/60 rounded-full"},r))}),e.jsx(ye,{children:s&&e.jsx(ge.div,{variants:l,initial:"initial",animate:"animate",className:"absolute top-0 right-2 pointer-events-none",children:e.jsx(Mr,{className:"w-3 h-3 text-pink-300 fill-current"})})}),e.jsxs("span",{className:"relative flex items-center gap-3 text-base font-medium z-10",children:[e.jsxs(ge.div,{animate:{y:[0,-4,0],rotate:[0,10,-10,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"relative",children:[e.jsx(br,{className:"w-6 h-6"}),e.jsx(ge.div,{animate:{opacity:[.4,.8,.4],scale:[.8,1.1,.8]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-white/30 rounded-full blur-sm"})]}),e.jsx(ge.span,{animate:{color:s?"#fef3c7":"#ffffff"},transition:{duration:.3},children:"Buy me a coffee"})]})]})]}),e.jsx(Kg,{open:t,onOpenChange:r,children:e.jsxs(Yg,{className:"sm:max-w-md text-center overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(8)].map((t,r)=>e.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1,0],opacity:[0,.6,0],x:300*Math.random(),y:200*Math.random()},transition:{duration:3,repeat:1/0,delay:.5*r,repeatType:"loop"},className:"absolute w-1 h-1 bg-yellow-300 rounded-full",style:{filter:"drop-shadow(0 0 3px rgba(255, 255, 0, 0.6))"}},r))}),e.jsxs(Qg,{className:"relative z-10",children:[e.jsx(ge.div,{initial:{y:-20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,type:"spring",stiffness:200,damping:20},children:e.jsxs(ey,{id:"donation-title",className:"text-xl font-semibold text-center flex items-center justify-center gap-2",children:[e.jsx(ge.span,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:""}),"Would you like to support me?",e.jsx(ge.span,{animate:{scale:[1,1.2,1],rotate:[0,5,-5,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:""})]})}),e.jsx(ge.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:20},children:e.jsxs(ty,{id:"donation-description",className:"text-center",children:["Your support means the world! Every coffee keeps my creativity brewing.",e.jsx(ge.span,{animate:{opacity:[.5,1,.5]},transition:{duration:2,repeat:1/0},className:"inline-block ml-1",children:""})]})})]}),e.jsx(ge.div,{className:"mt-5 relative z-10",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring",stiffness:200,damping:20},children:e.jsx(ge.div,{whileHover:{scale:1.08,boxShadow:"0 10px 25px rgba(0,0,0,0.2)"},whileTap:{scale:.95},className:"w-full text-center",children:e.jsxs(nd,{onClick:()=>{n||(i(!0),window.open("https://paystack.com/pay/z7fmj9rge1","_blank","noopener,noreferrer"),r(!1),setTimeout(()=>{i(!1)},2e3))},disabled:n,className:"px-8 py-4 text-lg font-medium w-full sm:w-auto bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-400 hover:to-purple-500 text-white rounded-full shadow-lg relative overflow-hidden disabled:opacity-60 disabled:cursor-not-allowed",size:"lg","aria-label":"Support with a donation",children:[e.jsx(ge.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:2,repeat:1/0,repeatDelay:3,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent",style:{transform:"skewX(-25deg)"}}),e.jsx("span",{className:"relative flex items-center gap-2",children:n?e.jsxs(e.Fragment,{children:[e.jsx(ge.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}),"Opening payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ge.span,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,repeatType:"reverse"},children:""}),"Yes, I'd love to!",e.jsx(ge.span,{animate:{y:[0,-2,0]},transition:{duration:1.5,repeat:1/0,repeatType:"reverse"},children:""})]})})]})})}),e.jsx(ry,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none"})]})})]})},ew={Parasite:{keywords:["parasite","infection","bug","invasion","body","crawl","insect"],badgeVariant:"parasite",icon:"Bug",description:"Stories featuring parasitic entities that take over hosts",visualEffects:["wriggling","body distortion"]},Cosmic:{keywords:["cosmic","ancient","cave","unknowable","madness","cult","lovecraftian","elder","cthulhu"],badgeVariant:"cosmic",icon:"Skull",description:"Cosmic horror and incomprehensible ancient entities",visualEffects:["tentacles","fractal patterns"]},Psychological:{keywords:["mind","sanity","perception","therapist","reality","delusion","hallucination","madness","song"],badgeVariant:"psychological",icon:"Brain",description:"Horror that plays with the mind and perception of reality",visualEffects:["distortion","hallucinations"]},Technological:{keywords:["technology","machine","digital","computer","ai","robot","code","program"],badgeVariant:"technological",icon:"Cpu",description:"Horror involving technology gone wrong",visualEffects:["glitches","screen artifacts"]},"Body Horror":{keywords:["flesh","mutation","journal","transformation","deformation","grotesque","organs","inside","bug"],badgeVariant:"body",icon:"Bug",description:"Horror focused on the destruction or transformation of the body",visualEffects:["flesh warping","body distortion"]},Psychopath:{keywords:["killer","murder","car","drive","psychopath","insane","sadist","torture","violent"],badgeVariant:"psychopath",icon:"Axe",description:"Content featuring psychopathic characters",visualEffects:["sharp imagery","blood"]},Supernatural:{keywords:["ghost","spirit","word","haunting","paranormal","phantom","specter","poltergeist"],badgeVariant:"supernatural",icon:"Ghost",description:"Horror involving supernatural entities and events",visualEffects:["ghostly apparitions","fog"]},Uncanny:{keywords:["uncanny","doll","mannequin","lifelike","unnatural","eerily","resembling","humanoid"],badgeVariant:"uncanny",icon:"AlertTriangle",description:"Horror based on the uncanny valley and unnatural resemblances",visualEffects:["static expressions","empty eyes"]},Cannibalism:{keywords:["cannibalism","eat","cookbook","flesh","devour","consume","human meat","hunger"],badgeVariant:"cannibalism",icon:"Utensils",description:"Horror involving the consumption of human flesh",visualEffects:["gore","viscera"]},Stalking:{keywords:["stalk","follow","chase","watch","pursue","hunt","prey","victim"],badgeVariant:"stalking",icon:"Footprints",description:"Stories featuring stalking or being hunted",visualEffects:["shadows","voyeuristic"]},Existential:{keywords:["existence","meaning","nostalgia","purpose","nihilism","void","empty","alone"],badgeVariant:"existential",icon:"Scan",description:"Horror exploring existential dread and the meaning of existence",visualEffects:["void","emptiness"]},Gothic:{keywords:["gothic","castle","Victorian","aristocrat","ancient","mansion","estate"],badgeVariant:"gothic",icon:"Castle",description:"Gothic horror set in old manors, castles, or decaying settings",visualEffects:["mist","architectural decay"]},Vehicular:{keywords:["vehicle","road","crash","accident","highway","journey"],badgeVariant:"vehicular",icon:"Car",description:"Horror taking place in or involving vehicles",visualEffects:["motion blur","headlights"]},"Doppelgnger":{keywords:["double","mirror","twin","replica","copy","reflection","identical","imposter"],badgeVariant:"doppelganger",icon:"Copy",description:"Horror involving doubles or identical copies of people",visualEffects:["mirror images","symmetry"]},Slasher:{keywords:["slasher","killer","knife","blood","hunt","stalk","murder","victim","chase"],badgeVariant:"slasher",icon:"Knife",description:"Horror featuring a killer stalking and murdering victims",visualEffects:["blood splatter","sharp weapons"]},Horror:{keywords:["horror","terror","fear","dread","frightening","scary","rain","dark"],badgeVariant:"horror",icon:"CloudRain",description:"General horror stories that evoke fear and dread",visualEffects:["shadows","darkness"]},Death:{keywords:["death","mortality","funeral","grave","descent","dying","afterlife","cemetery"],badgeVariant:"death",icon:"Skull",description:"Horror centered around death and mortality",visualEffects:["darkness","fading effects"]}};function tw(e,t=250){try{if(!e)return"";const r=e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").split(/\n+/).filter(e=>e.trim().length>0);if(0===r.length)return"";const s=["blood","scream","death","dark","fear","horror","terror","shadow","nightmare","monster","demon","ghost","kill","dead","evil","haunted","sinister","terrifying","horrific","dread","chill","spine","frightening","mysterious","eerie","strange","creepy","disturbing","macabre"],a=r.map(e=>{let t=0;return s.forEach(r=>{const s=new RegExp(`\\b${r}\\b`,"gi"),a=(e.match(s)||[]).length;t+=a}),{text:e,score:t}});if(a.sort((e,t)=>t.score-e.score),!a[0]||0===a[0].score){const e=r.filter(e=>e.length>50).map(e=>{let t=0;t+=2*(e.match(/["'].*?["']/g)||[]).length,t+=(e.match(/[?!]/g)||[]).length;return["suddenly","quickly","felt","saw","heard","smelled","touched"].forEach(r=>{const s=new RegExp(`\\b${r}\\b`,"gi");t+=(e.match(s)||[]).length}),{text:e,score:t}}).sort((e,t)=>t.score-e.score),s=e.length>0&&e[0].score>0?e[0].text:r.length>1?r[1]:r[0];if(s.length<=t)return s;const a=s.substring(0,t),n=a.lastIndexOf(" ");return n>0?a.substring(0,n)+"...":a+"..."}const n=a[0].text;if(n.length<=t)return n;const i=n.substring(0,t),o=Math.max(i.lastIndexOf(". "),i.lastIndexOf("? "),i.lastIndexOf("! "));if(o>t-40&&o>0)return i.substring(0,o+1)+"...";const l=i.lastIndexOf(" ");return l>0?i.substring(0,l)+"...":i+"..."}catch(vN){if(wg(vN,{category:vg.VALIDATION,showToast:!1}),e){const r=e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim();if(r.length<=t)return r;const s=r.substring(0,t),a=s.lastIndexOf(" ");return a>0?s.substring(0,a)+"...":s+"..."}return""}}function rw(e,t=250){try{const r=e.replace(/&nbsp;/g," ").replace(/\s+/g," "),s=[],a=(r.match(/<p[^>]*>(.*?)<\/p>/g)||[]).map(e=>e.replace(/<\/?[^>]+(>|$)/g,"")).map(e=>e.trim()).filter(e=>e.length>30);s.push(...a);const n=["div","section","article","blockquote"];for(const e of n){const t=new RegExp(`<${e}[^>]*>(.*?)</${e}>`,"g"),n=(r.match(t)||[]).map(e=>e.replace(/<\/?[^>]+(>|$)/g,"")).map(e=>e.trim()).filter(e=>e.length>30&&!a.includes(e));s.push(...n)}let i=r;i=i.replace(/<[^>]*>/g," ");const o=i.trim().replace(/\s+/g," ");if(o.length>0){let e=o.split(/\n\s*\n/).map(e=>e.trim()).filter(e=>e.length>30);e.length<2&&(e=o.split(/(?<=[.!?])\s+(?=[A-Z])/).map(e=>e.trim()).filter(e=>e.length>30));const t=e.filter(e=>!s.some(t=>t.includes(e)||e.includes(t)));s.push(...t)}if(0===s.length){const t=e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim(),r=[],a=t.split(/(?<=[.!?])\s+(?=[A-Z])/);if(a.some(e=>e.length>40))r.push(...a.filter(e=>e.length>30));else{let e=0;for(;e<t.length;){const s=Math.min(e+100,t.length),a=t.substring(e,s).lastIndexOf(" "),n=a>0?e+a:s;if(n>e){const s=t.substring(e,n).trim();s.length>30&&r.push(s)}e=n+1}}s.push(...r)}if(0===s.length){return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim().substring(0,t)}const l=["blood","scream","death","dark","fear","horror","terror","shadow","nightmare","monster","demon","ghost","kill","dead","evil","haunted","sinister","terrifying","horrific","dread","chill","spine","frightening","mysterious","eerie","strange","creepy","disturbing","macabre","flesh","rot","decay","bones","skull","corpse","body","torture","trapped","void","empty","silence","whisper","watching","staring","eyes","skin","knife","sharp","pain","agony","suffer","madness","insane","lungs","breath","choke","throat","mouth","teeth","hunger","consume","devour","feed","parasite","infection","sick","disease","wound","cut","sliced","ripped","torn","paranoia","lurking","stalking","glitch","static","corrupted","twisted","broken","shattered","mirror","reflection","disappeared","vanished","missing","cursed","ritual","sacrifice","cult","worship","pray","god","entity","creature","beast","unholy","sacred","hallucination","delusion","reality","perception","memory","forgotten","lost","alone","abandoned","cold","frozen","burn","ashes","dust","grave","tomb","buried","dirt","earth","suffocate","smother","strangle","heart","pulse","beat","rhythm","stop","ended","forever","eternal","endless","nightmare","dream","wake","sleep"],c=s.map(e=>{let t=0;const r=e.toLowerCase();l.forEach(s=>{const a=new RegExp(`\\b${s}\\b`,"gi"),n=(e.match(a)||[]).length;t+=n,(r.startsWith(s)||r.endsWith(s)||r.indexOf(` ${s} `)<e.length/3)&&(t+=2)}),t+=1.5*(e.match(/["'].*?["']/g)||[]).length,t+=1.5*(e.match(/[?!]/g)||[]).length;return["suddenly","immediately","instantly","quickly","slowly","gradually","felt","saw","heard","smelled","touched","realized","noticed","watched","stared","glanced","turned","froze","stopped"].forEach(r=>{const s=new RegExp(`\\b${r}\\b`,"gi");t+=.5*(e.match(s)||[]).length}),e.length>100&&e.length<350&&(t+=3),{text:e,score:t}});c.sort((e,t)=>t.score-e.score);for(let e=0;e<Math.min(3,c.length);e++);if(c.length>0&&c[0].score<3){const e=s.filter(e=>e.length>50).map(e=>{let t=0;t+=2*(e.match(/["'].*?["']/g)||[]).length,t+=1.5*(e.match(/[?!]/g)||[]).length,0!==s.indexOf(e)&&s.indexOf(e)!==s.length-1||(t+=2);return["suddenly","quickly","felt","saw","heard","smelled","touched","noticed"].forEach(r=>{const s=new RegExp(`\\b${r}\\b`,"gi");t+=(e.match(s)||[]).length}),{text:e,score:t}}).sort((e,t)=>t.score-e.score);if(e.length>0&&e[0].score>0){const r=e[0].text;if(r.length<=t)return r;const s=r.substring(0,t),a=s.lastIndexOf(" ");return a>0?s.substring(0,a)+"...":s+"..."}}if(0===c.length)return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim().substring(0,t);const d=c[0].text;if(d.length<=t)return d;const u=d.substring(0,t),h=Math.max(u.lastIndexOf(". "),u.lastIndexOf("? "),u.lastIndexOf("! "));if(h>t-40&&h>0)return u.substring(0,h+1)+"...";const m=u.lastIndexOf(" ");return m>0?u.substring(0,m)+"...":u+"..."}catch(vN){return e.replace(/<\/?[^>]+(>|$)/g,"").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim().substring(0,t)}}function sw(e,t=225){try{if(!e)return"1 min";const r=e.replace(/<\/?[^>]+(>|$)/g,"").split(/\s+/).filter(e=>e.length>0);return`${Math.max(1,Math.ceil(r.length/t))} min`}catch(vN){return wg(vN,{category:vg.VALIDATION,showToast:!1}),"1 min"}}Yf({title:gf().min(3).max(100),content:gf().min(10),excerpt:gf().optional(),author:gf().optional(),publishDate:gf().datetime().optional(),modifiedDate:gf().datetime().optional(),tags:Gf(gf()).optional(),categories:Gf(gf()).optional(),featuredImage:gf().url().optional(),readingTime:zf().min(1).optional()});const aw=({isLoading:t,children:r,debug:s=!1})=>{const{showLoading:a,hideLoading:n}=Os();return re.useEffect(()=>(t?a():n(),()=>{n()}),[t,a,n]),e.jsx(e.Fragment,{children:r&&e.jsx("div",{className:"relative",children:r})})},nw=[{id:"light",name:"Light Mode",description:"Clean and bright for daytime reading",icon:e.jsx(vs,{className:"h-5 w-5"}),preview:{primary:"#6366f1",secondary:"#64748b",accent:"#f59e0b",background:"#ffffff"},gradient:"from-white to-slate-50"},{id:"dark",name:"Dark Mode",description:"Easy on the eyes for night reading",icon:e.jsx(Gr,{className:"h-5 w-5"}),preview:{primary:"#818cf8",secondary:"#94a3b8",accent:"#fbbf24",background:"#0f172a"},gradient:"from-slate-900 to-slate-800"},{id:"blue-pastel",name:"Ocean Blue",description:"Calm and serene like ocean waves",icon:e.jsx(ys,{className:"h-5 w-5"}),preview:{primary:"#60a5fa",secondary:"#93c5fd",accent:"#fde047",background:"#f0f9ff"},gradient:"from-blue-50 to-sky-100"},{id:"green-pastel",name:"Nature Green",description:"Fresh and natural like morning dew",icon:e.jsx(Fr,{className:"h-5 w-5"}),preview:{primary:"#4ade80",secondary:"#86efac",accent:"#fb7185",background:"#f0fdf4"},gradient:"from-green-50 to-emerald-100"},{id:"purple-pastel",name:"Lavender Dream",description:"Elegant and soft like twilight",icon:e.jsx(Or,{className:"h-5 w-5"}),preview:{primary:"#a78bfa",secondary:"#c4b5fd",accent:"#fb923c",background:"#faf5ff"},gradient:"from-purple-50 to-violet-100"},{id:"brown-pastel",name:"Warm Earth",description:"Cozy and warm like autumn leaves",icon:e.jsx(br,{className:"h-5 w-5"}),preview:{primary:"#a3a3a3",secondary:"#d4a574",accent:"#f97316",background:"#fefbf3"},gradient:"from-orange-50 to-amber-100"}],iw=({className:t})=>{const[r,s]=re.useState("light"),[a,n]=re.useState(null);re.useEffect(()=>{const e=localStorage.getItem("theme")||"light";s(e)},[]);return e.jsxs("div",{className:qs("w-full py-12",t),children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4",children:[e.jsx(Yr,{className:"h-6 w-6 text-primary"}),e.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Beautiful Color Themes"})]}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Choose from our carefully crafted color schemes designed for optimal reading comfort and visual appeal. Each theme is optimized for different times of day and personal preferences."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:nw.map((t,i)=>e.jsx(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i,ease:"easeOut"},onHoverStart:()=>n(t.id),onHoverEnd:()=>n(null),className:"group",children:e.jsx(Gx,{className:qs("relative overflow-hidden border-2 transition-all duration-300 cursor-pointer","hover:shadow-xl hover:scale-105",r===t.id?"border-primary shadow-lg ring-2 ring-primary/20":"border-border hover:border-primary/50",`bg-gradient-to-br ${t.gradient}`),onClick:()=>(e=>{const t=document.documentElement;t.classList.remove("dark"),t.removeAttribute("data-theme"),"dark"===e?t.classList.add("dark"):"light"!==e&&t.setAttribute("data-theme",e),s(e),localStorage.setItem("theme",e)})(t.id),children:e.jsxs(Xx,{className:"p-6",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex gap-2 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-white/20",style:{backgroundColor:t.preview.primary}}),e.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-white/20",style:{backgroundColor:t.preview.secondary}}),e.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-white/20",style:{backgroundColor:t.preview.accent}}),e.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-gray-200",style:{backgroundColor:t.preview.background}})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"text-primary",children:t.icon}),e.jsx("h3",{className:"font-semibold text-foreground group-hover:text-primary transition-colors",children:t.name})]}),e.jsx(ye,{children:r===t.id&&e.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},className:"text-primary",children:e.jsx(nr,{className:"h-5 w-5"})})})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]}),e.jsx(ye,{children:a===t.id&&e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 pointer-events-none"})})]})})},t.id))}),e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.8},className:"text-center mt-8",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Your theme preference is saved automatically and applies across all pages"})})]})},ow=()=>{const[,t]=se();return e.jsxs("div",{className:"relative min-h-[60vh] flex items-center justify-center px-4 sm:px-6 lg:px-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-background via-background/50 to-primary/5"}),e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx(ge.div,{animate:{y:[-20,20,-20],rotate:[0,5,0]},transition:{duration:6,repeat:1/0,ease:"easeInOut"},className:"absolute top-20 left-10 opacity-20",children:e.jsx(Jt,{className:"h-8 w-8 text-primary"})}),e.jsx(ge.div,{animate:{y:[20,-20,20],rotate:[0,-5,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute top-32 right-16 opacity-20",children:e.jsx(ys,{className:"h-6 w-6 text-accent"})}),e.jsx(ge.div,{animate:{y:[-15,15,-15],rotate:[0,3,0]},transition:{duration:7,repeat:1/0,ease:"easeInOut"},className:"absolute bottom-32 left-20 opacity-20",children:e.jsx(Yr,{className:"h-7 w-7 text-secondary"})})]}),e.jsx("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:e.jsxs(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"space-y-6",children:[e.jsxs("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold leading-tight",children:[e.jsx("span",{className:"bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Interactive"}),e.jsx("br",{}),e.jsx("span",{className:"text-foreground",children:"Storytelling Platform"})]}),e.jsx(ge.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.2},className:"text-lg sm:text-xl text-muted-foreground max-w-2xl mx-auto leading-relaxed",children:"Immerse yourself in beautiful stories with our collection of carefully crafted themes. Choose your perfect reading environment and dive into captivating narratives."}),e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8,delay:.4},className:"flex flex-col sm:flex-row gap-4 justify-center items-center pt-4",children:[e.jsx(nd,{size:"lg",onClick:()=>t("/reader"),className:"group relative px-8 py-3 bg-primary hover:bg-primary/90 text-primary-foreground shadow-lg hover:shadow-xl transition-all duration-300",children:e.jsxs("span",{className:"flex items-center gap-2",children:["Start Reading",e.jsx(ge.div,{whileHover:{x:3},transition:{type:"spring",stiffness:400,damping:20},children:e.jsx(Ht,{className:"h-5 w-5"})})]})}),e.jsx(nd,{size:"lg",variant:"outline",onClick:()=>t("/community"),className:"group px-8 py-3 border-2 hover:bg-accent/10 transition-all duration-300",children:e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Jt,{className:"h-5 w-5"}),"Explore Stories"]})})]})]})})]})},lw=[{icon:e.jsx(Jt,{className:"h-6 w-6"}),title:"Interactive Reading",description:"Immerse yourself in stories with dynamic content and interactive elements that respond to your choices.",color:"text-blue-500"},{icon:e.jsx(Yr,{className:"h-6 w-6"}),title:"Beautiful Themes",description:"Choose from six carefully crafted color themes designed for optimal reading comfort at any time of day.",color:"text-purple-500"},{icon:e.jsx(Ts,{className:"h-6 w-6"}),title:"Community Driven",description:"Connect with fellow readers, share your favorite stories, and discover new narratives through our community.",color:"text-green-500"},{icon:e.jsx(ys,{className:"h-6 w-6"}),title:"Modern Experience",description:"Enjoy smooth animations, responsive design, and accessibility features that make reading a pleasure.",color:"text-amber-500"},{icon:e.jsx(Mr,{className:"h-6 w-6"}),title:"Personalized",description:"Bookmark your favorites, track your reading progress, and customize your experience to your preferences.",color:"text-rose-500"},{icon:e.jsx(xs,{className:"h-6 w-6"}),title:"Quality Content",description:"Access carefully curated stories with rich content, beautiful formatting, and engaging narratives.",color:"text-indigo-500"}],cw=({className:t})=>e.jsxs("div",{className:`w-full py-16 ${t}`,children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl sm:text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:"Why Choose Our Platform?"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"We've built every feature with care, focusing on what makes reading enjoyable, accessible, and memorable."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 max-w-7xl mx-auto",children:lw.map((t,r)=>e.jsx(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*r,ease:"easeOut"},whileHover:{y:-5},className:"group",children:e.jsx(Gx,{className:"h-full border-border/50 hover:border-primary/30 transition-all duration-300 hover:shadow-lg",children:e.jsxs(Xx,{className:"p-6 h-full flex flex-col",children:[e.jsx("div",{className:"mb-4",children:e.jsx("div",{className:`inline-flex p-3 rounded-lg bg-gradient-to-br from-background to-muted ${t.color}`,children:t.icon})}),e.jsx("h3",{className:"text-xl font-semibold mb-3 text-foreground group-hover:text-primary transition-colors",children:t.title}),e.jsx("p",{className:"text-muted-foreground leading-relaxed flex-grow",children:t.description})]})})},t.title))})]});function dw(){const[,t]=se(),[r,s]=re.useState(!1);re.useEffect(()=>(document.body.style.backgroundColor="hsl(var(--background))",s(!0),()=>{document.body.style.backgroundColor=""}),[]);const{data:a,isLoading:n,error:i}=Mt({queryKey:["pages","home","latest-post"],queryFn:async()=>Rg({page:1,perPage:1}),staleTime:3e5,refetchOnWindowFocus:!1}),o=a?.posts||[];return e.jsxs(e.Fragment,{children:[e.jsx(aw,{isLoading:n}),i?e.jsxs("div",{className:"text-center p-8 text-white bg-black/70 rounded-lg max-w-2xl mx-auto mt-20",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Unable to load latest story"}),e.jsx("p",{className:"mb-4",children:"The database connection is currently unavailable, but you can still explore the site."}),e.jsxs("div",{className:"grid gap-3 grid-cols-1 sm:grid-cols-2 max-w-2xl mx-auto",children:[e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(nd,{onClick:()=>t("/reader"),className:"group w-full px-6 py-3 bg-gradient-to-r from-slate-600 via-slate-700 to-gray-700 hover:from-slate-500 hover:via-slate-600 hover:to-gray-600 text-white shadow-lg transition-all duration-300 hover:shadow-xl font-medium text-lg text-center",children:["Browse Stories",e.jsx(ge.div,{animate:{x:[0,3,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},className:"ml-2",children:e.jsx(Jt,{className:"h-5 w-5 group-hover:rotate-12 transition-transform duration-300"})})]})}),e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(nd,{onClick:()=>window.location.reload(),className:"group w-full px-6 py-3 bg-[#444444] hover:bg-[#505050] text-white shadow-lg transition-all duration-300 hover:shadow-xl font-medium text-lg text-center",children:["Try Again",e.jsx(ge.div,{animate:{x:[0,4,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},className:"ml-2",children:e.jsx(Ht,{className:"h-5 w-5 group-hover:translate-x-2 transition-transform duration-300"})})]})})]})]}):e.jsxs("div",{className:"relative min-h-screen overflow-x-hidden flex flex-col home-page",children:[e.jsx("div",{className:"relative w-full h-2 sm:h-3 md:h-4 lg:h-3","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-start pt-0 pb-6 sm:pb-8 md:pb-10 lg:pb-12 text-center w-full min-h-screen",children:[e.jsx("div",{className:"relative",children:e.jsxs("h1",{className:"font-serif text-7xl sm:text-8xl md:text-9xl lg:text-10xl xl:text-11xl mb-2 sm:mb-3 md:mb-4 tracking-wider text-white flex flex-col items-center",children:[e.jsx("span",{children:"BUBBLES"}),e.jsx("span",{className:"mt-1 md:mt-2 text-red-700 relative",children:"CAFE"})]})}),e.jsx("div",{className:"h-2 sm:h-3 md:h-4 lg:h-5 xl:h-6"}),e.jsxs("div",{className:"space-y-2 sm:space-y-3 md:space-y-4 mb-1 sm:mb-2 md:mb-3 lg:mb-4 flex-grow flex flex-col justify-between",children:[e.jsx("div",{children:e.jsxs("p",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl text-white w-full leading-relaxed md:leading-relaxed lg:leading-relaxed px-2 md:px-4 font-medium",children:["Every story here is a portal to the unexpected, the unexplained, and ",e.jsxs("span",{className:"italic text-red-700",children:["the unsettling",e.jsx("span",{className:"text-red-700 font-bold",children:"."})]})]})}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col gap-3 w-full max-w-md mx-auto px-4",children:[e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(nd,{size:"lg",onClick:()=>t("/stories"),className:"group relative w-[90%] h-14 bg-[#1A1A1A] hover:bg-[#2A2A2A] text-white shadow-lg backdrop-blur-sm font-sans font-medium text-lg transition-all duration-300 hover:shadow-xl active:scale-95 rounded-lg flex items-center justify-center px-4 mx-auto",children:[e.jsx("span",{className:"text-center mr-2",children:"Browse Stories"}),e.jsx(ge.div,{animate:{rotate:[0,10,-5,0]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:e.jsx(Jt,{className:"h-5 w-5 group-hover:rotate-12 transition-transform duration-300"})})]})}),e.jsx(ge.div,{whileHover:{scale:1.05},whileTap:{scale:.95},transition:{type:"spring",stiffness:300,damping:20},children:e.jsxs(nd,{size:"lg",variant:"secondary",onClick:()=>(o&&o.length,t("/reader")),className:"group relative w-[90%] h-14 bg-[#1A1A1A] hover:bg-[#2A2A2A] text-white shadow-lg backdrop-blur-sm font-sans font-medium text-lg transition-all duration-300 hover:shadow-xl active:scale-95 rounded-lg flex items-center justify-center px-4 mx-auto",children:[e.jsx("span",{className:"text-center mr-2",children:"Start Reading"}),e.jsx(ge.div,{animate:{x:[0,6,0]},transition:{duration:1.2,repeat:1/0,ease:"easeInOut"},children:e.jsx(or,{className:"h-5 w-5 group-hover:translate-x-2 transition-transform duration-300"})})]})})]})}),e.jsx("div",{className:"mt-1 sm:mt-2 md:mt-3 lg:mt-4 mb-1 sm:mb-2 md:mb-3 lg:mb-4",children:e.jsx(Xb,{})}),o.length>0&&e.jsxs("div",{className:"mt-3 sm:mt-4 md:mt-5 lg:mt-6 text-center space-y-2 sm:space-y-3 md:space-y-4",children:[e.jsx("p",{className:"text-base sm:text-lg md:text-xl lg:text-2xl font-normal text-white uppercase tracking-wider font-sans",children:"Latest Story"}),e.jsxs("div",{onClick:()=>t("/reader"),className:"group cursor-pointer hover:scale-[1.01] transition-transform duration-200 w-full p-2 md:p-4 lg:p-6 rounded-lg hover:bg-foreground/5 dark:hover:bg-foreground/10 bg-black/40 backdrop-blur-sm",children:[e.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold mb-3 md:mb-5 text-white group-hover:text-primary transition-colors px-2",dangerouslySetInnerHTML:{__html:(l=o[0]?.title?.rendered||"Featured Story",l.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"").replace(/<iframe\b[^<]*(?:(?!<\/iframe>)<[^<]*)*<\/iframe>/gi,"").replace(/on\w+="[^"]*"/g,"").replace(/\s(xlink:href|href|src)="\s*(javascript:|vbscript:)[^"]*"/gi,"").replace(/\sstyle="[^"]*expression\(/gi,"").replace(/\s(xlink:href|href|src)="\s*data:[^"]*"/gi,"").replace(/javascript:[^\s>]*/g,""))}}),e.jsx("div",{className:"text-base sm:text-lg md:text-xl lg:text-2xl text-white/90 w-full mb-3 sm:mb-4 md:mb-5 line-clamp-2 px-2 md:px-4 leading-relaxed md:leading-relaxed",children:o[0]?.content?.rendered&&e.jsx(ge.span,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:.1},children:tw(o[0].content.rendered)})}),e.jsxs("div",{className:"flex items-center justify-center text-sm sm:text-base md:text-lg lg:text-xl text-primary gap-1 group-hover:gap-2 transition-all duration-300 font-medium",children:["Read full story",e.jsx(or,{className:"h-4 w-4 sm:h-5 sm:w-5 md:h-6 md:w-6 group-hover:translate-x-1 transition-transform"})]}),e.jsx("div",{className:"text-sm sm:text-base md:text-lg font-medium text-white/70 mt-3 md:mt-4",children:o[0]?.date?(e=>{try{return me(new Date(e),"MMMM d, yyyy")}catch(t){return""}})(o[0].date):""})]})]})]})]}),e.jsx("div",{className:"relative z-10 w-full",children:e.jsx(ow,{})}),e.jsx("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-background to-muted/30",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(iw,{className:"py-12 lg:py-16"})})}),e.jsx("div",{className:"relative z-10 w-full px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-muted/30 to-background",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx(cw,{className:"py-12 lg:py-16"})})})]})]});var l}const uw=e=>`post-stats-${e}`,hw=e=>{const t=12345*e,r=e=>{const t=1e4*Math.sin(e);return t-Math.floor(t)};return{likes:Math.floor(71*r(t))+80,dislikes:Math.floor(13*r(t+999))+8}},mw=e=>{try{const r=uw(e),s="undefined"!=typeof window?localStorage.getItem(r):null;if(s){const e=JSON.parse(s);if((t=e)&&"number"==typeof t.likes&&!isNaN(t.likes)&&"number"==typeof t.dislikes&&!isNaN(t.dislikes)&&t.baseStats&&"number"==typeof t.baseStats.likes&&!isNaN(t.baseStats.likes)&&"number"==typeof t.baseStats.dislikes&&!isNaN(t.baseStats.dislikes)&&"boolean"==typeof t.userInteracted)return e}const a=hw(e),n={likes:a.likes,dislikes:a.dislikes,baseStats:{likes:a.likes,dislikes:a.dislikes},userInteracted:!1};return"undefined"!=typeof window&&localStorage.setItem(r,JSON.stringify(n)),n}catch(vN){const r=hw(e);return{likes:r.likes,dislikes:r.dislikes,baseStats:{likes:r.likes,dislikes:r.dislikes},userInteracted:!1}}var t};function pw({postId:t,userLikeStatus:r=null,onLike:s,onDislike:a,onUpdate:n,className:i,variant:o="index"}){const[l,c]=re.useState("like"===r),[d,u]=re.useState("dislike"===r),[h,m]=re.useState(()=>mw(t)),[p,f]=re.useState(null),[g,y]=re.useState(!1);re.useEffect(()=>{const e=e=>{if(e.detail.postId===t){const t=e.detail.stats;m(t);const r=t.likes>t.baseStats.likes,s=t.dislikes>t.baseStats.dislikes;c(r),u(s),n?.(t.likes,t.dislikes)}},r=()=>{if("undefined"!=typeof window){Object.keys(localStorage).filter(e=>e.startsWith("post-stats-")).forEach(e=>localStorage.removeItem(e))}const e=mw(t);m(e),c(!1),u(!1),n?.(e.likes,e.dislikes)};return window.addEventListener("statsUpdated",e),window.addEventListener("resetAllStats",r),()=>{window.removeEventListener("statsUpdated",e),window.removeEventListener("resetAllStats",r)}},[t,n]),re.useEffect(()=>{const e=mw(t);m(e);const r=e.likes>e.baseStats.likes,s=e.dislikes>e.baseStats.dislikes;c(r),u(s),n?.(e.likes,e.dislikes)},[t,n]);const x=(e,t="like")=>{f({message:e,type:t}),requestAnimationFrame(()=>{y(!0)}),setTimeout(()=>{y(!1),setTimeout(()=>f(null),300)},4e3)},v=e=>{try{"undefined"!=typeof window&&localStorage.setItem(uw(t),JSON.stringify(e)),m(e),n?.(e.likes,e.dislikes),window.dispatchEvent(new CustomEvent("statsUpdated",{detail:{postId:t,stats:e}}))}catch(vN){x("Error updating reaction - please try again later","error")}};return e.jsxs("div",{className:`relative ${i}`,"data-toast-container":!0,children:["reader"===o&&e.jsx("p",{className:"text-center text-sm font-medium mb-4 text-white/80 uppercase tracking-wide font-sans",children:"Loved this story? Let me know with a likeor a dislike if you must "}),e.jsxs("div",{className:"flex items-center gap-3 "+("reader"===o?"justify-center":"justify-start"),children:[e.jsxs("button",{type:"button",onClick:()=>{const e=!l;try{e?(c(!0),u(!1),v({...h,likes:h.likes+1,dislikes:d?h.dislikes-1:h.dislikes,baseStats:h.baseStats,userInteracted:!0}),x("Thanks for liking! ","like")):(c(!1),v({...h,likes:h.likes-1,baseStats:h.baseStats,userInteracted:!1})),s?.(e)}catch(vN){x("Error updating like - please try again","error")}},className:`\n            inline-flex items-center gap-2 font-sans font-medium text-sm\n            px-4 py-2 rounded-lg border transition-all duration-200\n            hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-1\n            ${"reader"===o?"min-w-[100px] justify-center":"h-8 px-3 py-1 text-xs min-w-[70px]"}\n            ${l?"bg-green-100 border-green-300 text-green-700 shadow-sm focus:ring-green-300 dark:bg-green-900/30 dark:border-green-600 dark:text-green-400 dark:focus:ring-green-600":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 shadow-sm focus:ring-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:focus:ring-gray-500"}\n          `,children:[e.jsx(ws,{className:""+("reader"===o?"h-4 w-4":"h-3 w-3")}),e.jsx("span",{className:"font-sans tabular-nums",children:h.likes})]}),e.jsxs("button",{type:"button",onClick:()=>{const e=!d;try{e?(u(!0),c(!1),v({...h,dislikes:h.dislikes+1,likes:l?h.likes-1:h.likes,baseStats:h.baseStats,userInteracted:!0}),x("Thanks for the feedback! ","dislike")):(u(!1),v({...h,dislikes:h.dislikes-1,baseStats:h.baseStats,userInteracted:!1})),a?.(e)}catch(vN){x("Error updating dislike - please try again","error")}},className:`\n            inline-flex items-center gap-2 font-sans font-medium text-sm\n            px-4 py-2 rounded-lg border transition-all duration-200\n            hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-1\n            ${"reader"===o?"min-w-[100px] justify-center":"h-8 px-3 py-1 text-xs min-w-[70px]"}\n            ${d?"bg-red-100 border-red-300 text-red-700 shadow-sm focus:ring-red-300 dark:bg-red-900/30 dark:border-red-600 dark:text-red-400 dark:focus:ring-red-600":"bg-white border-gray-200 text-gray-700 hover:bg-gray-50 hover:border-gray-300 shadow-sm focus:ring-gray-300 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700 dark:focus:ring-gray-500"}\n          `,children:[e.jsx(bs,{className:""+("reader"===o?"h-4 w-4":"h-3 w-3")}),e.jsx("span",{className:"font-sans tabular-nums",children:h.dislikes})]})]}),p&&e.jsx("div",{className:`\n          mt-4 px-4 py-2.5 rounded-lg text-center font-sans text-sm font-medium \n          transform transition-all duration-300 ease-out shadow-sm\n          ${g?"translate-y-0 opacity-100 scale-100":"translate-y-2 opacity-0 scale-95"}\n          ${"like"===p.type?"bg-green-50 text-green-800 border border-green-200 dark:bg-green-900/20 dark:text-green-300 dark:border-green-700":(p.type,"bg-red-50 text-red-800 border border-red-200 dark:bg-red-900/20 dark:text-red-300 dark:border-red-700")}\n        `,children:p.message})]})}const fw=e=>{let t=e.replace(/<!-- wp:[^>]*?-->([\s\S]*?)<!-- \/wp:[^>]*?-->/g,"").replace(/<!--[\s\S]*?-->/g,"").replace(/\[[^\]]+\]/g,"").replace(/<header[^>]*>[\s\S]*?<\/header>/g,"").replace(/<footer[^>]*>[\s\S]*?<\/footer>/g,"").replace(/<a[^>]*>[\s\S]*?<\/a>/g,"").replace(/<button[^>]*>[\s\S]*?<\/button>/g,"").replace(/<meta[^>]*>/g,"").replace(/<(?:img|figure|video|audio|iframe|embed|object)[^>]*>[\s\S]*?<\/(?:img|figure|video|audio|iframe|embed|object)>/g,"").replace(/<svg[^>]*>[\s\S]*?<\/svg>/g,"").replace(/<div[^>]*class="[^"]*(?:social|share|follow|navigation|related|comments|wp-block-|jp-|sharedaddy)[^"]*"[^>]*>[\s\S]*?<\/div>/g,"");t=t.replace(/<(div|section|article|aside)[^>]*>([\s\S]*?)<\/\1>/g,"$2").replace(/<(?:br|hr)[^>]*\/?>/g,"\n");return t=t.replace(new RegExp("<(?!/?(?:p|strong|em|i|b|h[1-6]|blockquote)\\b)[^>]+>","g"),"").replace(/<(h[1-6])[^>]*>(.*?)<\/\1>/g,(e,t,r)=>`\n\n${r}\n\n`).replace(/<p[^>]*>(.*?)<\/p>/g,"$1\n\n").replace(/<p>\s*<\/p>/g,""),t=t.replace(/&nbsp;/g," ").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'").replace(/&#8211;|&ndash;/g,"").replace(/&#8212;|&mdash;/g,"").replace(/&#8216;|&lsquo;/g,"").replace(/&#8217;|&rsquo;/g,"").replace(/&#8220;|&ldquo;/g,"").replace(/&#8221;|&rdquo;/g,"").replace(/&#8230;|&hellip;/g,"").replace(/[\t\r\f\v]+/g,"").replace(/\n{3,}/g,"\n\n").replace(/\s+/g," ").trim(),t.split("\n").map(e=>e.trim()).filter(e=>e.length>0).join("\n\n")},gw="cached_wordpress_posts",yw="wordpress_posts_last_updated";function xw(){try{const e=localStorage.getItem(gw);if(!e)return[];const t=JSON.parse(e),r=localStorage.getItem(yw);if(r){new Date(r).getTime(),(new Date).getTime()}return t}catch(vN){return[]}}function vw(e,t){const r=(e-1)*t,s=r+t;return xw().slice(r,s)}async function bw(e=1,t=100){try{const s=`https://public-api.wordpress.com/wp/v2/sites/bubbleteameimei.wordpress.com/posts?${new URLSearchParams({page:e.toString(),per_page:t.toString(),orderby:"date",order:"desc"})}`,a={method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}},n=new AbortController,i=setTimeout(()=>{n.abort()},2e4);try{const e=await fetch(s,{...a,signal:n.signal});clearTimeout(i);const t=e.headers.get("content-type");if(t&&!t.includes("application/json"))throw new Error(`API returned non-JSON content type: ${t}`);if(!e.ok){const t={};throw e.headers.forEach((e,r)=>{t[r]=e}),new Error(`API returned error status: ${e.status}`)}const r=await e.json();if(!Array.isArray(r))throw new Error("API returned non-array response");return function(e){try{const t=xw(),r=new Map;t.forEach(e=>r.set(e.id,e)),e.forEach(e=>r.set(e.id,e));const s=Array.from(r.values()).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime());localStorage.setItem(gw,JSON.stringify(s)),localStorage.setItem(yw,(new Date).toISOString())}catch(vN){}}(r),r}catch(r){clearTimeout(i);const s=vw(e,t);return s.length>0?s:[]}}catch(vN){const s=vw(e,t);return s.length>0?s:[]}}const ww="converted_wordpress_posts";function jw(e){try{const t=function(){try{const e=localStorage.getItem(ww);return e?JSON.parse(e):[]}catch(vN){return[]}}(),r=new Map;t.forEach(e=>r.set(e.id,e)),r.set(e.id,e);const s=Array.from(r.values());localStorage.setItem(ww,JSON.stringify(s))}catch(vN){}}function kw(e){try{if(!e.title?.rendered||!e.content?.rendered||!e.slug){return{id:e.id||Math.floor(1e4*Math.random()),title:e.title?.rendered?.trim()||"Untitled Story",content:e.content?.rendered||"Content unavailable",excerpt:"No excerpt available",slug:e.slug||`untitled-${Date.now()}`,createdAt:e.date?new Date(e.date).toISOString():(new Date).toISOString()}}const t=fw(e.content.rendered),r=e.excerpt?.rendered?fw(e.excerpt.rendered).replace(/<[^>]+>/g,"").trim():t.replace(/<[^>]+>/g,"").substring(0,200)+"...",s={id:e.id,title:e.title.rendered.trim(),content:t,excerpt:r,slug:e.slug,createdAt:new Date(e.date).toISOString()};return jw(s),s}catch(vN){return{id:Math.floor(1e4*Math.random()),title:"Error Loading Story",content:"There was an error loading this story. Please try again later.",excerpt:"Error loading content",slug:`error-${Date.now()}`,createdAt:(new Date).toISOString()}}}function Nw(){const[,t]=se(),r=e=>{try{sessionStorage.removeItem("selectedStoryIndex"),sessionStorage.setItem("selectedStoryIndex",e.toString()),t("/reader")}catch(r){try{sessionStorage.clear(),sessionStorage.setItem("selectedStoryIndex","0"),t("/reader")}catch(s){}}},s=Mt({queryKey:["wordpress","all-posts"],queryFn:async()=>{try{const e=await async function(){try{let e=1;const t=100;let r=[],s=!0;for(;s&&e<=10;){const a=await bw(e,t);a.length>0?(r=[...r,...a],e++):s=!1,a.length<t&&(s=!1)}return r}catch(h){return xw()}}();return e.map(e=>kw(e))}catch(e){return[]}},staleTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!0}),{data:a,fetchNextPage:n,hasNextPage:i,isFetchingNextPage:o,isLoading:l,error:c,refetch:d}=Ot({queryKey:["wordpress","posts"],queryFn:async({pageParam:e=1})=>{const t="number"==typeof e?e:1,r=(await Rg({page:t,perPage:100})).posts||[];return{posts:r.map(e=>kw(e)),hasMore:100===r.length,page:t}},getNextPageParam:e=>e.hasMore?e.page+1:void 0,staleTime:3e5,refetchOnMount:!0,refetchOnWindowFocus:!0,initialPageParam:1,enabled:!s.data||0===s.data.length},_t);const u=s.isLoading||l,h=s.error||c,m=s.data&&s.data.length>0,p=a?.pages&&a.pages.length>0&&a.pages[0]?.posts?.length>0;let f=[];m?f=s.data:p&&(f=a.pages.flatMap(e=>e.posts));const g=[...f].sort((e,t)=>(t.createdAt?new Date(t.createdAt).getTime():0)-(e.createdAt?new Date(e.createdAt).getTime():0)),y=g,x=re.useMemo(()=>{if(!y||0===y.length)return null;y.forEach(e=>{e.likesCount,e.dislikesCount;const t=e.metadata&&"object"==typeof e.metadata?e.metadata:{};t&&"pageViews"in t&&Number(t.pageViews||0)});const e=[...y].sort((e,t)=>{const r=e.createdAt?new Date(e.createdAt).getTime():0,s=t.createdAt?new Date(t.createdAt).getTime():0,a=Date.now(),n=6048e5,i=Math.max(0,Math.min(1,1-(a-r)/n)),o=Math.max(0,Math.min(1,1-(a-s)/n)),l="number"==typeof e.likesCount?e.likesCount:0,c="number"==typeof t.likesCount?t.likesCount:0,d="number"==typeof e.dislikesCount?e.dislikesCount:0,u="number"==typeof t.dislikesCount?t.dislikesCount:0,h=e.metadata&&"object"==typeof e.metadata&&"pageViews"in e.metadata?Number(e.metadata.pageViews||0):0,m=t.metadata&&"object"==typeof t.metadata&&"pageViews"in t.metadata?Number(t.metadata.pageViews||0):0,p=e.metadata&&"object"==typeof e.metadata&&"averageReadTime"in e.metadata?Number(e.metadata.averageReadTime||0):0,f=t.metadata&&"object"==typeof t.metadata&&"averageReadTime"in t.metadata?Number(t.metadata.averageReadTime||0):0,g=3*l+h+.5*p-.5*d+15*i+(e.metadata&&"object"==typeof e.metadata&&"themeCategory"in e.metadata?5:0),y=3*c+m+.5*f-.5*u+15*o+(t.metadata&&"object"==typeof t.metadata&&"themeCategory"in t.metadata?5:0);return 1===e.id||e.id,y-g});if(e.slice(0,5).forEach((e,t)=>{"number"==typeof e.likesCount&&e.likesCount,e.metadata&&"object"==typeof e.metadata&&"pageViews"in e.metadata&&Number(e.metadata.pageViews||0)}),e.length>=5){return e[Math.floor(Date.now()/864e5)%5]}return e[0]},[y]),{showLoading:v,hideLoading:b}=Os();return u?(v(),null):(b(),m||p?e.jsx("div",{className:"min-h-screen bg-background flex flex-col overflow-x-hidden overflow-y-auto",children:e.jsxs("div",{className:"w-full pb-12 pt-6 flex-1 mx-0 px-4 sm:px-6 flex flex-col",children:[e.jsx(ge.div,{className:"flex justify-end items-center mb-1 mt-0 px-4",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:e.jsx(nd,{variant:"outline",onClick:()=>t("/"),className:"hover:bg-primary/20 transition-colors",children:"Back to Home"})}),x&&e.jsxs(ge.div,{className:"mb-1 sm:mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 mb-3 sm:mb-4",children:[e.jsx(qt,{className:"h-4 w-4 sm:h-5 sm:w-5 text-primary"}),e.jsx("h2",{className:"text-lg sm:text-xl font-decorative",children:"Featured Story"})]}),e.jsx(Gx,{className:"hover:shadow-xl transition-all duration-500 overflow-hidden border-[1.5px] hover:border-primary/50 bg-card/60 backdrop-blur-sm relative before:absolute before:inset-0 before:bg-gradient-to-t before:from-primary/10 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-700 transform hover:scale-[1.01] transition-transform",children:e.jsxs("div",{className:"md:flex",children:[e.jsx("div",{className:"md:w-2/3 p-2 sm:p-3 md:p-4",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{children:[e.jsx("div",{className:"flex justify-between items-start mb-2 sm:mb-3",children:e.jsx(Yx,{className:"text-xl sm:text-2xl group-hover:text-primary transition-colors cursor-pointer font-castoro mb-2 sm:mb-3",onClick:()=>r(y.findIndex(e=>e.id===x.id)),children:x.title})}),x.metadata&&"object"==typeof x.metadata&&null!==x.metadata&&"themeCategory"in x.metadata&&x.metadata.themeCategory?e.jsx("div",{className:"mb-2 sm:mb-3 md:mb-4",children:e.jsxs(qg,{variant:"default",className:"text-xs font-medium tracking-wide px-2 py-0.5 flex items-center gap-1 w-fit transform hover:scale-105 transition-all duration-300 cursor-default",children:[e.jsx(xs,{className:"h-3 w-3 mr-1 animate-pulse"}),"string"==typeof x.metadata.themeCategory?x.metadata.themeCategory.charAt(0)+x.metadata.themeCategory.slice(1).toLowerCase().replace(/_/g," "):"Featured"]})}):null,(()=>{const t=rw(x.content,300);return e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground leading-relaxed mb-3 sm:mb-4 md:mb-5 line-clamp-3 sm:line-clamp-4 font-serif",children:t})})()]}),e.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-auto",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 text-xs text-muted-foreground mb-3 md:mb-0",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(tr,{className:"h-3 w-3"}),e.jsx("time",{className:"text-xs sm:text-xs",children:x.createdAt?me(new Date(x.createdAt),"MMM d, yyyy"):""})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gr,{className:"h-3 w-3"}),e.jsx("span",{className:"text-xs sm:text-xs",children:sw(x.content)})]})]}),e.jsxs(nd,{onClick:()=>r(y.findIndex(e=>e.id===x.id)),className:"shadow-md hover:shadow-lg transition-all text-xs sm:text-sm h-8 sm:h-9 ml-auto overflow-hidden group/btn relative before:absolute before:inset-0 before:bg-primary/10 before:translate-y-full hover:before:translate-y-0 before:transition-transform before:duration-300",size:"sm",children:[e.jsx("span",{className:"relative z-10 hidden sm:inline transition-transform group-hover/btn:translate-x-0.5",children:"Read Featured Story"}),e.jsx("span",{className:"relative z-10 sm:hidden transition-transform group-hover/btn:translate-x-0.5",children:"Read Story"}),e.jsx(Ht,{className:"relative z-10 h-3 w-3 sm:h-4 sm:w-4 ml-1 transition-transform duration-300 group-hover/btn:translate-x-1"})]})]})]})}),e.jsx("div",{className:"hidden md:block md:w-1/3 bg-card/80 p-3 sm:p-4 border-l",children:e.jsxs("div",{className:"h-full flex flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-3 font-castoro",children:"Why We Featured This"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This story was selected based on reader engagement and popularity metrics. It represents some of the best content on our platform."})]}),e.jsx("div",{className:"mt-auto",children:e.jsxs("div",{className:"flex items-center justify-between",children:[x&&e.jsx(pw,{postId:x.id,variant:"index",className:"mt-4"}),e.jsx(Ns,{className:"h-5 w-5 text-primary/60"})]})})]})})]})})]}),e.jsx(ge.div,{className:"flex justify-center items-center mb-1 sm:mb-2 mt-1 sm:mt-1",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:e.jsx("h1",{className:"text-3xl sm:text-3xl md:text-4xl font-decorative whitespace-nowrap",children:"Latest Stories"})}),0===y.length?e.jsx(ge.div,{className:"text-center py-8 sm:py-10 md:py-12 border-2 border-dashed rounded-lg bg-card/50 px-3 sm:px-4",initial:{opacity:0},animate:{opacity:1},transition:{duration:.4,delay:.3},children:e.jsxs("div",{className:"w-full",children:[e.jsx(Jt,{className:"h-12 w-12 sm:h-14 sm:w-14 md:h-16 md:w-16 text-primary/40 mb-3 sm:mb-4 mt-3 sm:mt-4"}),e.jsx("h3",{className:"text-lg sm:text-xl font-decorative mb-2 sm:mb-3",children:"No Stories Found"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-4 sm:mb-6 leading-relaxed px-2",children:"No stories are available at the moment. Check back soon or try refreshing the page."}),e.jsx(nd,{variant:"default",onClick:()=>d(),className:"shadow-sm text-sm sm:text-base h-9 sm:h-10",children:"Refresh"})]})}):e.jsx(ge.div,{className:"grid gap-2 sm:gap-3 md:gap-4 grid-cols-1 md:grid-cols-2",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.2},children:y.map((t,s)=>{const a=rw(t.content),n=s,i=t.metadata||{};let o="";"object"==typeof i&&null!==i&&"themeCategory"in i&&(o=String(i.themeCategory||""));const l=o?ew[o]:null;let c="";return o&&(c=o.charAt(0)+o.slice(1).toLowerCase().replace(/_/g," ")),e.jsx(ge.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"group story-card-container relative",whileHover:{scale:1.02},children:e.jsxs(Gx,{className:"h-full hover:shadow-lg transition-all duration-300 overflow-hidden border-[1.5px] hover:border-primary/40 relative before:absolute before:inset-0 before:bg-gradient-to-t before:from-primary/5 before:to-transparent before:opacity-0 hover:before:opacity-100 before:transition-opacity before:duration-500",children:[o&&l&&e.jsx("div",{className:"h-1.5 bg-primary w-full"}),e.jsx(Jx,{className:"p-2 sm:p-3",children:e.jsxs("div",{className:"flex flex-col gap-1 sm:gap-1.5",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2 sm:gap-3",children:[e.jsx(Yx,{className:"text-base sm:text-lg group-hover:text-primary transition-colors cursor-pointer font-castoro story-card-title",onClick:()=>r(n),children:t.title}),e.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 whitespace-nowrap",children:[e.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[e.jsx(tr,{className:"h-3 w-3"}),e.jsx("time",{className:"text-[10px] sm:text-xs",children:t.createdAt?me(new Date(t.createdAt),"MMM d, yyyy"):""})]}),e.jsxs("div",{className:"flex items-center gap-1 justify-end read-time",children:[e.jsx(gr,{className:"h-3 w-3"}),e.jsx("span",{className:"text-[10px] sm:text-xs",children:sw(t.content)})]})]})]}),o&&l&&e.jsxs(qg,{variant:"cosmic"===l.badgeVariant?"outline":l.badgeVariant||"outline",className:"w-fit text-xs font-medium tracking-wide px-2 py-0.5 flex items-center gap-1 group-hover:shadow-sm group-hover:opacity-90 transition-all duration-300",children:[e.jsx("span",{className:"h-3 w-3 mr-1 group-hover:rotate-12 transition-transform duration-500",children:e.jsx(Jt,{className:"h-3 w-3"})}),c]})]})}),e.jsxs(Xx,{className:"px-2 sm:px-3 pt-0 pb-2 flex-grow story-card-content",children:[e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground leading-relaxed mb-2 sm:mb-3 line-clamp-3 font-serif",children:a}),e.jsxs("div",{className:"flex items-center text-[10px] sm:text-xs text-primary gap-1 group-hover:gap-2 transition-all duration-300 font-medium relative w-fit",onClick:()=>r(n),children:[e.jsx("span",{className:"relative inline-block after:absolute after:bottom-0 after:left-0 after:h-[1px] after:bg-primary after:w-0 group-hover:after:w-full after:transition-all after:duration-300 cursor-pointer",children:"Read more"}),e.jsx(or,{className:"h-2.5 w-2.5 sm:h-3 sm:w-3 group-hover:translate-x-1 transition-transform"})]})]}),e.jsx(ev,{className:"p-1.5 sm:p-2 mt-auto border-t",children:e.jsxs("div",{className:"w-full flex items-center justify-between",children:[t&&t.id&&e.jsx(pw,{postId:t.id,variant:"index"},`like-${t.id}`),e.jsxs(nd,{variant:"secondary",size:"sm",onClick:()=>r(n),className:"shadow-sm hover:shadow-md transition-all text-[10px] sm:text-xs text-primary hover:text-primary flex items-center gap-1 h-7 sm:h-8 px-1.5 sm:px-2 overflow-hidden group/btn relative before:absolute before:inset-0 before:bg-primary/5 before:translate-y-full hover:before:translate-y-0 before:transition-transform before:duration-300",children:[e.jsx("span",{className:"relative z-10 hidden xs:inline transition-transform group-hover/btn:translate-x-0.5",children:"Read More"}),e.jsx("span",{className:"relative z-10 xs:hidden transition-transform group-hover/btn:translate-x-0.5",children:"Read more"}),e.jsx(Ht,{className:"relative z-10 h-2.5 w-2.5 sm:h-3 sm:w-3 transition-transform duration-300 group-hover/btn:translate-x-0.5"})]})]})})]})},t.id)})})]})}):e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center overflow-x-hidden",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Unable to load stories"}),e.jsx("p",{className:"text-muted-foreground",children:h instanceof Error?h.message:"Please try again later"}),e.jsx(nd,{variant:"outline",onClick:()=>window.location.reload(),children:"Retry"})]})}))}const Sw=[{id:"light",name:"Light Mode",description:"Clean and bright for daytime reading",longDescription:"The classic light theme provides excellent readability with high contrast text on a clean white background. Perfect for daytime reading and well-lit environments.",icon:e.jsx(vs,{className:"h-6 w-6"}),category:"Classic",bestFor:["Daytime reading","Well-lit rooms","Long reading sessions","Academic content"],colors:{primary:"#6366f1",secondary:"#64748b",accent:"#f59e0b",background:"#ffffff",foreground:"#0f172a",muted:"#f1f5f9"},preview:{gradient:"from-white to-slate-50",textColor:"text-slate-900"}},{id:"dark",name:"Dark Mode",description:"Easy on the eyes for night reading",longDescription:"Reduce eye strain with our carefully crafted dark theme. The deep background with light text provides comfortable reading in low-light conditions while maintaining excellent contrast.",icon:e.jsx(Gr,{className:"h-6 w-6"}),category:"Classic",bestFor:["Night reading","Low-light environments","Extended sessions","Reducing eye strain"],colors:{primary:"#818cf8",secondary:"#94a3b8",accent:"#fbbf24",background:"#0f172a",foreground:"#f8fafc",muted:"#334155"},preview:{gradient:"from-slate-900 to-slate-800",textColor:"text-slate-100"}},{id:"blue-pastel",name:"Ocean Blue",description:"Calm and serene like ocean waves",longDescription:"Inspired by tranquil ocean waters, this theme combines soft blues with gentle contrasts. The calming atmosphere promotes focus and relaxation during reading.",icon:e.jsx(ys,{className:"h-6 w-6"}),category:"Pastel",bestFor:["Relaxation","Fiction reading","Stress relief","Meditation"],colors:{primary:"#60a5fa",secondary:"#93c5fd",accent:"#fde047",background:"#f0f9ff",foreground:"#1e293b",muted:"#bae6fd"},preview:{gradient:"from-blue-50 to-sky-100",textColor:"text-blue-900"}},{id:"green-pastel",name:"Nature Green",description:"Fresh and natural like morning dew",longDescription:"Connect with nature through soft greens and earth tones. This theme evokes feelings of growth, harmony, and natural beauty, perfect for nature writing and poetry.",icon:e.jsx(Fr,{className:"h-6 w-6"}),category:"Pastel",bestFor:["Nature content","Poetry","Wellness articles","Environmental topics"],colors:{primary:"#4ade80",secondary:"#86efac",accent:"#fb7185",background:"#f0fdf4",foreground:"#14532d",muted:"#bbf7d0"},preview:{gradient:"from-green-50 to-emerald-100",textColor:"text-green-900"}},{id:"purple-pastel",name:"Lavender Dream",description:"Elegant and soft like twilight",longDescription:"Embrace elegance with soft purples and lavender tones. This sophisticated theme creates a dreamy atmosphere perfect for fantasy, romance, and creative writing.",icon:e.jsx(Or,{className:"h-6 w-6"}),category:"Pastel",bestFor:["Fantasy novels","Romance stories","Creative writing","Art content"],colors:{primary:"#a78bfa",secondary:"#c4b5fd",accent:"#fb923c",background:"#faf5ff",foreground:"#581c87",muted:"#e9d5ff"},preview:{gradient:"from-purple-50 to-violet-100",textColor:"text-purple-900"}},{id:"brown-pastel",name:"Warm Earth",description:"Cozy and warm like autumn leaves",longDescription:"Experience the warmth of autumn with rich browns and golden tones. This cozy theme creates a comfortable, homey feeling perfect for classic literature and personal stories.",icon:e.jsx(br,{className:"h-6 w-6"}),category:"Pastel",bestFor:["Classic literature","Historical content","Personal stories","Cozy reading"],colors:{primary:"#a3a3a3",secondary:"#d4a574",accent:"#f97316",background:"#fefbf3",foreground:"#451a03",muted:"#e7ddd2"},preview:{gradient:"from-orange-50 to-amber-100",textColor:"text-orange-900"}}];function _w(){const[t,r]=re.useState("light"),[s,a]=re.useState(null),n=localStorage.getItem("theme")||"light";return e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3 mb-6",children:[e.jsx(Yr,{className:"h-8 w-8 text-primary"}),e.jsx("h1",{className:"text-4xl sm:text-5xl font-bold bg-gradient-to-r from-primary via-accent to-primary bg-clip-text text-transparent",children:"Theme Gallery"})]}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed",children:"Discover our collection of beautiful, carefully crafted themes. Each theme is designed with specific reading contexts in mind, from bright daytime sessions to cozy evening reading."})]}),e.jsx(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-8 text-center",children:e.jsxs(qg,{variant:"outline",className:"px-4 py-2 text-sm",children:[e.jsx(nr,{className:"h-4 w-4 mr-2 text-green-600"}),"Currently using: ",Sw.find(e=>e.id===n)?.name||"Light Mode"]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:Sw.map((t,i)=>e.jsx(ge.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i,ease:"easeOut"},onHoverStart:()=>a(t.id),onHoverEnd:()=>a(null),className:"group",children:e.jsxs(Gx,{className:qs("relative overflow-hidden border-2 transition-all duration-300 h-full","hover:shadow-xl hover:scale-[1.02]",n===t.id?"border-primary shadow-lg ring-2 ring-primary/20":"border-border hover:border-primary/50",`bg-gradient-to-br ${t.preview.gradient}`),children:[e.jsxs(Jx,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"text-primary",children:t.icon}),e.jsxs("div",{children:[e.jsx(Yx,{className:qs("text-xl font-bold",t.preview.textColor),children:t.name}),e.jsx(qg,{variant:"secondary",className:"mt-1",children:t.category})]})]}),e.jsx(ye,{children:n===t.id&&e.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:500,damping:30},className:"text-green-600",children:e.jsx(nr,{className:"h-6 w-6"})})})]}),e.jsx("div",{className:"flex gap-2 mb-4",children:Object.entries(t.colors).slice(0,4).map(([t,r])=>e.jsx("div",{className:"w-8 h-8 rounded-full shadow-sm border border-white/30",style:{backgroundColor:r},title:t},t))})]}),e.jsxs(Xx,{className:"pt-0",children:[e.jsx("p",{className:qs("text-base mb-4 leading-relaxed",t.preview.textColor),children:t.longDescription}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:qs("text-sm font-medium mb-2",t.preview.textColor),children:"Best for:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:t.bestFor.map(t=>e.jsx(qg,{variant:"outline",className:"text-xs border-current/30",children:t},t))})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx(nd,{onClick:()=>(e=>{const t=document.documentElement;t.classList.remove("dark"),t.removeAttribute("data-theme"),"dark"===e?t.classList.add("dark"):"light"!==e&&t.setAttribute("data-theme",e),r(e),localStorage.setItem("theme",e)})(t.id),className:qs("flex-1 transition-all duration-200",n===t.id?"bg-green-600 hover:bg-green-700 text-white":"bg-primary hover:bg-primary/90 text-primary-foreground"),children:n===t.id?e.jsxs(e.Fragment,{children:[e.jsx(nr,{className:"h-4 w-4 mr-2"}),"Active"]}):e.jsxs(e.Fragment,{children:[e.jsx(Cr,{className:"h-4 w-4 mr-2"}),"Apply Theme"]})})})]}),e.jsx(ye,{children:s===t.id&&e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-accent/5 pointer-events-none"})})]})},t.id))}),e.jsxs(ge.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:1},className:"text-center mt-12 p-6 rounded-lg bg-muted/30",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"About Our Themes"}),e.jsx("p",{className:"text-muted-foreground leading-relaxed max-w-3xl mx-auto",children:"Each theme has been carefully designed with accessibility, readability, and visual comfort in mind. The color palettes are tested for proper contrast ratios and optimal viewing in different lighting conditions. Your theme choice is saved automatically and persists across all pages of the platform."})]})]})}const Ew=({show:t})=>t?e.jsx(ye,{children:t&&e.jsx(ge.div,{initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed bottom-12 sm:bottom-16 inset-x-0 z-50 pointer-events-none",children:e.jsx("div",{className:"container max-w-4xl mx-auto px-4",children:e.jsxs(ge.div,{className:"bg-background/90 border border-primary/20 backdrop-blur-md shadow-md rounded-lg px-4 py-3 flex flex-col items-center gap-1 text-center mx-auto",animate:{y:[0,-5,0]},transition:{y:{repeat:2,duration:1.2,repeatType:"reverse",ease:"easeInOut"},delay:.5},children:[e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx(Er,{className:"h-4 w-4 text-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Tap story to toggle distraction-free mode"}),e.jsx(Jr,{className:"h-3 w-3 text-primary/80"})]}),e.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-1.5",children:[e.jsx(Bt,{className:"h-3 w-3"}),e.jsx("span",{children:"Press ESC key to exit"}),e.jsx(Bt,{className:"h-3 w-3"})]})]})})})}):null;function Cw({currentPostId:t,onClose:r}){const[s,a]=re.useState([]),[n,i]=re.useState(!0),[o,l]=re.useState(""),[,c]=se();re.useEffect(()=>{!async function(){try{const e=await fetch("/api/posts?limit=100");if(e.ok){const t=(await e.json()).posts.map(e=>({id:e.id,title:e.title?.rendered||e.title||"Untitled",slug:e.slug||`post-${e.id}`,date:e.date||e.createdAt||(new Date).toISOString()}));a(t)}}catch(vN){}finally{i(!1)}}()},[]);const d=s.filter(e=>e.title.toLowerCase().includes(o.toLowerCase())),u=e=>{try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}catch(t){return e}};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs(nd,{variant:"outline",size:"sm",onClick:()=>{c("/"),r()},className:"flex items-center gap-1.5 min-w-0 flex-shrink-0",children:[e.jsx(Lr,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Home"})]}),e.jsxs(nd,{variant:"secondary",size:"sm",onClick:()=>{if(s.length>0){const e=s.filter(e=>e.id!==t);if(e.length>0){const t=e[Math.floor(Math.random()*e.length)];c(`/reader/${t.slug}`),r()}}},className:"flex items-center gap-1.5 min-w-0 flex-shrink-0",disabled:s.length<=1,children:[e.jsx(fs,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:"Random"})]})]}),e.jsxs("div",{className:"relative mt-3",children:[e.jsx(is,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(fd,{type:"search",placeholder:"Search stories...",className:"pl-9 py-2",value:o,onChange:e=>l(e.target.value)})]}),e.jsx("div",{className:"flex-1 mt-4 overflow-hidden flex flex-col",children:e.jsx(yb,{className:"flex-1 h-full pr-4",style:{maxHeight:"350px"},children:e.jsx("div",{className:"px-1 pb-6",children:0===d.length&&o?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full py-8 text-center",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:['No stories found matching "',o,'"']}),e.jsx(nd,{variant:"link",onClick:()=>l(""),children:"Clear search"})]}):e.jsx("div",{className:"space-y-1",children:d.map(s=>e.jsxs("div",{className:"p-2 rounded-md transition-colors hover:bg-accent cursor-pointer "+(s.id===t?"bg-accent/50 font-medium":""),onClick:()=>{return e=s.slug,c(`/reader/${e}`),void r();var e},children:[e.jsx("div",{className:"font-medium truncate w-full",children:s.title}),e.jsx("div",{className:"text-xs text-muted-foreground mt-0.5",children:u(s.date)})]},s.id))})})})}),o&&e.jsxs("div",{className:"text-xs text-muted-foreground py-2 flex items-center justify-center gap-1.5 border-t mt-2",children:[e.jsx(Zt,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:[d.length," ",1===d.length?"story":"stories"," found"]}),s.length!==d.length&&e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(of ",s.length," total)"]})]}),e.jsx("div",{className:"text-xs text-muted-foreground py-3 text-center border-t border-border/20 mt-auto",children:e.jsxs("div",{className:"flex items-center justify-center gap-1.5",children:[e.jsx(Zt,{className:"h-3.5 w-3.5 text-primary/70"}),e.jsxs("span",{children:["Total stories in library: ",e.jsx("span",{className:"font-medium text-primary/90",children:s.length})]})]})})]})}function Iw({onPrevious:t,onNext:r,disabled:s=!1,children:a,minSwipeDistance:n=70}){const i=re.useRef(null),o=re.useRef(null),l=re.useRef(null);return re.useEffect(()=>{const e=i.current;if(!e||s)return;const a=e=>{o.current=e.changedTouches[0].screenX},c=e=>{if(null===o.current)return;l.current=e.changedTouches[0].screenX;const s=l.current-o.current;Math.abs(s)>=n&&(e.preventDefault(),s>0?t():r()),o.current=null,l.current=null};return e.addEventListener("touchstart",a,{passive:!0}),e.addEventListener("touchend",c,{passive:!1}),()=>{e.removeEventListener("touchstart",a),e.removeEventListener("touchend",c)}},[r,t,s,n]),e.jsx("div",{ref:i,className:"swipe-navigation-container",style:{width:"100%",height:"100%"},children:a})}function Tw(){const[e,t]=re.useState(()=>{try{const e=localStorage.getItem("reader-font-size");return e?parseInt(e,10):16}catch(vN){return 16}});re.useEffect(()=>{document.documentElement.style.setProperty("--base-font-size",`${e}px`),document.documentElement.setAttribute("data-font-size",e.toString());let t=document.getElementById("reader-font-size-styles");return t||(t=document.createElement("style"),t.id="reader-font-size-styles",document.head.appendChild(t)),t.textContent=`\n      .story-content {\n        font-size: ${e}px !important;\n        line-height: 1.6 !important;\n      }\n      .story-content p, \n      .story-content li,\n      .story-content div:not(.not-content) {\n        font-size: ${e}px !important;\n        line-height: 1.6 !important;\n        font-family: 'Cormorant Garamond', serif !important;\n      }\n      .story-content h1 { font-size: ${1.8*e}px !important; }\n      .story-content h2 { font-size: ${1.5*e}px !important; }\n      .story-content h3 { font-size: ${1.3*e}px !important; }\n      .story-content h4 { font-size: ${1.1*e}px !important; }\n      .story-content small { font-size: ${.85*e}px !important; }\n    `,()=>{}},[e]);const r=re.useCallback(e=>{const r=Math.min(Math.max(e,12),24);try{localStorage.setItem("reader-font-size",r.toString())}catch(vN){}t(r)},[]),s=re.useCallback(()=>{r(e+1)},[e,r]),a=re.useCallback(()=>{r(e-1)},[e,r]);return{fontSize:e,updateFontSize:r,increaseFontSize:s,decreaseFontSize:a,MIN_FONT_SIZE:12,MAX_FONT_SIZE:24}}const Rw={cormorant:{name:"Cormorant Garamond",family:"'Cormorant Garamond', var(--font-serif, Georgia, 'Times New Roman', serif)",type:"serif",description:"An elegant serif font with literary character"},merriweather:{name:"Merriweather",family:"'Merriweather', var(--font-serif, Georgia, 'Times New Roman', serif)",type:"serif",description:"A traditional serif font designed for readability"},lora:{name:"Lora",family:"'Lora', var(--font-serif, Georgia, 'Times New Roman', serif)",type:"serif",description:"A well-balanced serif with moderate contrast"},roboto:{name:"Roboto",family:"'Roboto', var(--font-sans, -apple-system, BlinkMacSystemFont, sans-serif)",type:"sans-serif",description:"A clean, modern sans-serif font"},opensans:{name:"Open Sans",family:"'Open Sans', var(--font-sans, -apple-system, BlinkMacSystemFont, sans-serif)",type:"sans-serif",description:"A humanist sans-serif with excellent readability"},literata:{name:"Literata",family:"'Literata', var(--font-serif, Georgia, 'Times New Roman', serif)",type:"serif",description:"A contemporary serif designed for e-books"}},Aw="cormorant";function Pw(){const[e,t]=re.useState(()=>{try{const e=localStorage.getItem("reader-font-family");return e&&e in Rw?e:Aw}catch(vN){return Aw}});re.useEffect(()=>{const t={cormorant:"https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap",merriweather:"https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,300;0,400;0,700;1,300;1,400&display=swap",lora:"https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap",roboto:"https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;1,300;1,400&display=swap",opensans:"https://fonts.googleapis.com/css2?family=Open+Sans:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap",literata:"https://fonts.googleapis.com/css2?family=Literata:ital,wght@0,400;0,500;0,600;1,400;1,500&display=swap"}[e];if(!document.querySelector(`link[href="${t}"]`)&&t){const e=document.createElement("link");e.rel="stylesheet",e.href=t,document.head.appendChild(e)}document.documentElement.style.setProperty("--reader-font-family",Rw[e].family),document.documentElement.setAttribute("data-font-family",e);let r=document.getElementById("reader-font-family-styles");r||(r=document.createElement("style"),r.id="reader-font-family-styles",document.head.appendChild(r)),r.textContent=`\n      .story-content {\n        font-family: ${Rw[e].family} !important;\n      }\n      .story-content p, \n      .story-content li,\n      .story-content div:not(.not-content),\n      .story-content span,\n      .story-content em,\n      .story-content i,\n      .story-content b,\n      .story-content strong,\n      .story-content blockquote,\n      .story-content h1,\n      .story-content h2,\n      .story-content h3,\n      .story-content h4,\n      .story-content h5,\n      .story-content h6 {\n        font-family: ${Rw[e].family} !important;\n      }\n      \n      /* Specifically target italic elements to ensure they use the selected font's italic style */\n      .story-content em,\n      .story-content i,\n      .story-content *[style*="font-style: italic"] {\n        font-family: ${Rw[e].family} !important;\n        font-style: italic !important;\n      }\n    `},[e]);const r=re.useCallback(e=>{if(e in Rw){try{localStorage.setItem("reader-font-family",e)}catch(vN){}t(e)}},[]);return{fontFamily:e,updateFontFamily:r,availableFonts:Rw}}var Ow={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Mw=ae.createContext&&ae.createContext(Ow),Dw=["attr","size","title"];function Lw(e,t){if(null==e)return{};var r,s,a=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)r=n[s],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zw.apply(this,arguments)}function Fw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function Uw(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Fw(Object(r),!0).forEach(function(t){$w(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fw(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $w(e,t,r){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t);if("object"!=typeof s)return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vw(e){return e&&e.map((e,t)=>ae.createElement(e.tag,Uw({key:t},e.attr),Vw(e.child)))}function Hw(e){return t=>ae.createElement(Bw,zw({attr:Uw({},e.attr)},t),Vw(e.child))}function Bw(e){var t=t=>{var r,{attr:s,size:a,title:n}=e,i=Lw(e,Dw),o=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),ae.createElement("svg",zw({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,s,i,{className:r,style:Uw(Uw({color:e.color||t.color},t.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),n&&ae.createElement("title",null,n),e.children)};return void 0!==Mw?ae.createElement(Mw.Consumer,null,e=>t(e)):t(Ow)}function qw(e){return Hw({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(e)}function Ww(e){return Hw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(e)}function Kw(e){return Hw({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M61.7 169.4l101.5 278C92.2 413 43.3 340.2 43.3 256c0-30.9 6.6-60.1 18.4-86.6zm337.9 75.9c0-26.3-9.4-44.5-17.5-58.7-10.8-17.5-20.9-32.4-20.9-49.9 0-19.6 14.8-37.8 35.7-37.8.9 0 1.8.1 2.8.2-37.9-34.7-88.3-55.9-143.7-55.9-74.3 0-139.7 38.1-177.8 95.9 5 .2 9.7.3 13.7.3 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l77.5 230.4L249.8 247l-33.1-90.8c-11.5-.7-22.3-2-22.3-2-11.5-.7-10.1-18.2 1.3-17.5 0 0 35.1 2.7 56 2.7 22.2 0 56.7-2.7 56.7-2.7 11.5-.7 12.8 16.2 1.4 17.5 0 0-11.5 1.3-24.3 2l76.9 228.7 21.2-70.9c9-29.4 16-50.5 16-68.7zm-139.9 29.3l-63.8 185.5c19.1 5.6 39.2 8.7 60.1 8.7 24.8 0 48.5-4.3 70.6-12.1-.6-.9-1.1-1.9-1.5-2.9l-65.4-179.2zm183-120.7c.9 6.8 1.4 14 1.4 21.9 0 21.6-4 45.8-16.2 76.2l-65 187.9C426.2 403 468.7 334.5 468.7 256c0-37-9.4-71.8-26-102.1zM504 256c0 136.8-111.3 248-248 248C119.2 504 8 392.7 8 256 8 119.2 119.2 8 256 8c136.7 0 248 111.2 248 248zm-11.4 0c0-130.5-106.2-236.6-236.6-236.6C125.5 19.4 19.4 125.5 19.4 256S125.6 492.6 256 492.6c130.5 0 236.6-106.1 236.6-236.6z"},child:[]}]})(e)}function Zw({postId:t,className:r,variant:s="default",showText:a=!0}){const{user:n}=ba(),{toast:i}=Bs(),o=It(),[l,c]=re.useState(!1),[d,u]=re.useState(""),[h,m]=re.useState(""),p="reader"===s?"/api/reader/bookmarks":"/api/bookmarks",{data:f,isLoading:g,error:y}=Mt({queryKey:[p,t],queryFn:async()=>{if("reader"!==s&&!n)return null;try{return await Fs(`${p}/${t}`)}catch(vN){return vN.status,null}},enabled:"reader"===s||!!n,retry:2,staleTime:3e5,refetchOnWindowFocus:!1}),x=Dt({mutationFn:async e=>{if(!t||"number"!=typeof t||t<=0)throw new Error("Invalid post ID");return Fs(p,{method:"POST",body:JSON.stringify({postId:t,notes:e.notes,tags:e.tags})})},onSuccess:()=>{o.invalidateQueries({queryKey:[p]}),o.invalidateQueries({queryKey:[p,t]}),i({title:"Bookmark added",description:"This story has been added to your bookmarks."}),c(!1),u(""),m("")},onError:e=>{const t=e instanceof Error?e.message:"Failed to add bookmark. Please try again.";i({title:"Error",description:t,variant:"destructive"})}}),v=Dt({mutationFn:async()=>{if(!t||"number"!=typeof t||t<=0)throw new Error("Invalid post ID for deletion");return Fs(`${p}/${t}`,{method:"DELETE"})},onSuccess:()=>{o.invalidateQueries({queryKey:[p]}),o.invalidateQueries({queryKey:[p,t]}),i({title:"Bookmark removed",description:"This story has been removed from your bookmarks."})},onError:e=>{const t=e instanceof Error?e.message:"Failed to remove bookmark. Please try again.";i({title:"Error",description:t,variant:"destructive"})}});Dt({mutationFn:async e=>Fs(`${p}/${t}`,{method:"PATCH",body:JSON.stringify({lastPosition:e})}),onSuccess:()=>{o.invalidateQueries({queryKey:[p,t]})}});const b=()=>{const e=h.split(",").map(e=>e.trim()).filter(e=>""!==e);x.mutate({notes:d,tags:e})},w=()=>{v.mutate()},j=!!f;return"reader"===s?n?j?e.jsx("button",{onClick:w,className:`h-12 w-12 bg-background/80 backdrop-blur-sm rounded-lg border border-border/50 flex items-center justify-center transition-all hover:scale-105 ${r}`,"aria-label":"Remove bookmark",disabled:g||v.isPending,children:e.jsx("svg",{className:"h-7 w-7 fill-current text-amber-400",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})})}):e.jsxs(Kg,{open:l,onOpenChange:c,children:[e.jsx(Zg,{asChild:!0,children:e.jsx("button",{className:`h-12 w-12 bg-background/80 backdrop-blur-sm rounded-lg border border-border/50 flex items-center justify-center transition-all hover:scale-105 ${r}`,"aria-label":"Bookmark post",disabled:g||x.isPending,children:e.jsx("svg",{className:"h-7 w-7 fill-none stroke-current",viewBox:"0 0 24 24",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})})})}),e.jsxs(Yg,{className:"sm:max-w-[425px]","aria-labelledby":"bookmark-dialog-title-reader","aria-describedby":"bookmark-dialog-desc-reader",children:[e.jsxs(Qg,{children:[e.jsx(ey,{id:"bookmark-dialog-title-reader",children:"Bookmark Story"}),e.jsx(ty,{id:"bookmark-dialog-desc-reader",children:"Add this story to your bookmarks. You can add notes and tags or simply bookmark it."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 mb-2",children:[e.jsxs(nd,{variant:"default",className:"w-full py-6 text-lg",onClick:()=>x.mutate({notes:"",tags:[]}),disabled:x.isPending,children:[e.jsx(Yt,{className:"h-5 w-5 mr-3"}),"Simply Bookmark This Story"]}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1 fill-amber-400"}),e.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Quick save without tags or notes"})]})]}),e.jsx(bd,{className:"my-3"}),e.jsx("p",{className:"text-sm font-medium text-center",children:"Or add details to organize your bookmarks"}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(dy,{htmlFor:"tags-reader",className:"text-right",children:"Tags"}),e.jsx(fd,{id:"tags-reader",placeholder:"horror, favorites (comma separated)",className:"col-span-3",value:h,onChange:e=>m(e.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(dy,{htmlFor:"notes-reader",className:"text-right",children:"Notes"}),e.jsx(wy,{id:"notes-reader",placeholder:"Add your personal notes about this story",className:"col-span-3",value:d,onChange:e=>u(e.target.value)})]})]}),e.jsxs(Xg,{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(nd,{type:"submit",onClick:b,disabled:x.isPending,children:"Add Bookmark with Details"}),e.jsx(ne,{to:"/bookmarks",children:e.jsx(nd,{type:"button",variant:"outline",onClick:()=>{c(!1)},children:"View All Bookmarks"})})]})]})]}):j?e.jsx("button",{onClick:w,className:`h-12 w-12 bg-background/80 backdrop-blur-sm rounded-lg border border-border/50 flex items-center justify-center transition-all hover:scale-105 ${r}`,"aria-label":"Remove bookmark",disabled:g||v.isPending,children:e.jsx("svg",{className:"h-7 w-7 fill-current text-amber-400",viewBox:"0 0 24 24",children:e.jsx("path",{d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})})}):e.jsx("button",{onClick:()=>x.mutate({notes:"",tags:[]}),className:`h-12 w-12 bg-background/80 backdrop-blur-sm rounded-lg border border-border/50 flex items-center justify-center transition-all hover:scale-105 ${r}`,"aria-label":"Bookmark post",disabled:g||x.isPending,children:e.jsx("svg",{className:"h-7 w-7 fill-none stroke-current",viewBox:"0 0 24 24",strokeWidth:"2",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 21l-7-5-7 5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"})})}):n?e.jsx(e.Fragment,{children:j?e.jsxs(nd,{variant:"outline",size:"sm",className:r,onClick:w,disabled:v.isPending,children:[e.jsx(Yt,{className:"h-4 w-4 mr-2 fill-current"}),a&&"Bookmarked"]}):e.jsxs(Kg,{open:l,onOpenChange:c,children:[e.jsx(Zg,{asChild:!0,children:e.jsxs(nd,{variant:"outline",size:"sm",className:r,disabled:x.isPending||g,children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),a&&"Bookmark"]})}),e.jsxs(Yg,{className:"sm:max-w-[425px]","aria-labelledby":"bookmark-dialog-title-default","aria-describedby":"bookmark-dialog-desc-default",children:[e.jsxs(Qg,{children:[e.jsx(ey,{id:"bookmark-dialog-title-default",children:"Bookmark Story"}),e.jsx(ty,{id:"bookmark-dialog-desc-default",children:"Add this story to your bookmarks. You can add notes and tags or simply bookmark it."})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"flex flex-col gap-3 mb-2",children:[e.jsxs(nd,{variant:"default",className:"w-full py-6 text-lg",onClick:()=>x.mutate({notes:"",tags:[]}),disabled:x.isPending,children:[e.jsx(Yt,{className:"h-5 w-5 mr-3"}),"Simply Bookmark This Story"]}),e.jsxs("div",{className:"flex items-center justify-center mt-1",children:[e.jsx(Yt,{className:"h-4 w-4 mr-1 fill-amber-400"}),e.jsx("p",{className:"text-sm text-center text-muted-foreground",children:"Quick save without tags or notes"})]})]}),e.jsx(bd,{className:"my-3"}),e.jsx("p",{className:"text-sm font-medium text-center",children:"Or add details to organize your bookmarks"}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(dy,{htmlFor:"tags",className:"text-right",children:"Tags"}),e.jsx(fd,{id:"tags",placeholder:"horror, favorites (comma separated)",className:"col-span-3",value:h,onChange:e=>m(e.target.value)})]}),e.jsxs("div",{className:"grid grid-cols-4 items-center gap-4",children:[e.jsx(dy,{htmlFor:"notes",className:"text-right",children:"Notes"}),e.jsx(wy,{id:"notes",placeholder:"Add your personal notes about this story",className:"col-span-3",value:d,onChange:e=>u(e.target.value)})]})]}),e.jsxs(Xg,{className:"flex flex-col sm:flex-row gap-2",children:[e.jsx(nd,{type:"submit",onClick:b,disabled:x.isPending,children:"Add Bookmark with Details"}),e.jsx(ne,{to:"/bookmarks",children:e.jsx(nd,{type:"button",variant:"outline",onClick:()=>{c(!1)},children:"View All Bookmarks"})})]})]})]})}):e.jsxs(nd,{variant:"outline",size:"sm",className:r,onClick:()=>{i({title:"Sign in to bookmark",description:"Create a free account to save stories for later."}),setTimeout(()=>window.location.href="/auth",1500)},children:[e.jsx(Yt,{className:"h-4 w-4 mr-2"}),a&&"Bookmark"]})}class Gw extends re.Component{state={hasError:!1};static getDerivedStateFromError(e){return{hasError:!0,error:e,errorTime:Date.now()}}cleanup;mounted=!1;componentDidMount(){this.mounted=!0;const e=()=>{this.mounted&&this.state.hasError&&this.setState({hasError:!1,error:void 0,errorInfo:void 0,errorTime:void 0})};window.addEventListener("popstate",e),window.addEventListener("hashchange",e);let t=window.location.pathname;const r=setInterval(()=>{const r=window.location.pathname;r!==t&&(t=r,e())},200);this.cleanup=()=>{window.removeEventListener("popstate",e),window.removeEventListener("hashchange",e),clearInterval(r)}}componentWillUnmount(){this.mounted=!1,this.cleanup&&this.cleanup()}componentDidCatch(e,t){this.mounted&&this.setState({error:e,errorInfo:t,errorTime:Date.now()})}handleReload=()=>{window.location.reload()};handleGoBack=()=>{window.history.back()};handleGoHome=()=>{window.location.href="/"};getErrorMessage(e){return e.message?e.message.includes("Lazy")||e.message.includes("loading")?"There was an error loading this page component. Please refresh and try again.":e.message.includes("chunk")||e.message.includes("failed to load")?"A required page component failed to load. This might be due to a network issue or recent update.":e.message.includes("404")?"We couldn't find what you're looking for. The page might have been moved or deleted.":e.message.includes("route")||e.message.includes("navigation")?"There was an error with page navigation. Please try going back or refreshing the page.":e.message.includes("Suspense")||e.message.includes("suspended")?"The page component couldn't be loaded. This might be due to a temporary network issue.":e.message.includes("database")||e.message.includes("bookmarks")?"There was an issue connecting to the database. Please try again later.":e.message||"An unexpected error occurred. We're looking into it.":"An unexpected error occurred."}formatTime(e){return new Date(e).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit",second:"2-digit"})}render(){if(!this.state.hasError)return this.props.children;if(this.props.fallback)return this.props.fallback;const t=this.getErrorMessage(this.state.error);this.state.errorTime&&this.formatTime(this.state.errorTime);const r=document.createElement("style");return r.textContent="\n      @import url('https://fonts.googleapis.com/css2?family=Creepster&display=swap');\n      @import url('https://fonts.googleapis.com/css2?family=Special+Elite&display=swap');\n    ",document.head.appendChild(r),setTimeout(()=>{document.head.contains(r)&&document.head.removeChild(r)},100),e.jsxs("div",{className:"min-h-[50vh] flex flex-col items-center justify-center p-4",style:{background:"linear-gradient(to bottom, rgba(10, 10, 10, 0.95), rgba(25, 25, 25, 0.98))",backdropFilter:"blur(6px)"},children:[e.jsx("div",{className:"eyeball-loader mb-8",style:{position:"relative"}}),e.jsx("div",{className:"max-w-xl shadow-lg border rounded-md p-4",style:{borderColor:"rgba(220, 38, 38, 0.2)",backgroundColor:"rgba(20, 20, 20, 0.9)"},children:e.jsxs("div",{className:"flex items-start",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"text-red-500 mr-2 mt-1",children:[e.jsx("circle",{cx:"12",cy:"12",r:"10"}),e.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),e.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg mb-2 text-red-500",style:{fontFamily:"'Creepster', cursive",letterSpacing:"0.05em",textShadow:"1px 1px 3px rgba(255, 0, 0, 0.4)"},children:"Something went wrong"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm opacity-90",style:{fontFamily:"'Special Elite', sans-serif",letterSpacing:"0.02em"},children:t}),!1,e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[e.jsxs("button",{onClick:this.handleReload,className:"flex items-center gap-2 px-3 py-1.5 rounded-md border border-gray-700 hover:border-red-500 hover:text-red-500 transition-colors",style:{fontFamily:"'Special Elite', sans-serif",letterSpacing:"0.02em"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"M21 2v6h-6"}),e.jsx("path",{d:"M3 12a9 9 0 0 1 15-6.7L21 8"}),e.jsx("path",{d:"M3 22v-6h6"}),e.jsx("path",{d:"M21 12a9 9 0 0 1-15 6.7L3 16"})]}),"Try Again"]}),e.jsxs("button",{onClick:this.handleGoBack,className:"flex items-center gap-2 px-3 py-1.5 rounded-md border border-gray-700 hover:border-red-500 hover:text-red-500 transition-colors",style:{fontFamily:"'Special Elite', sans-serif",letterSpacing:"0.02em"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m12 19-7-7 7-7"}),e.jsx("path",{d:"M19 12H5"})]}),"Go Back"]}),e.jsxs("button",{onClick:this.handleGoHome,className:"flex items-center gap-2 px-3 py-1.5 rounded-md border border-gray-700 hover:border-red-500 hover:text-red-500 transition-colors",style:{fontFamily:"'Special Elite', sans-serif",letterSpacing:"0.02em"},children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[e.jsx("path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}),e.jsx("polyline",{points:"9 22 9 12 15 12 15 22"})]}),"Go Home"]})]})]})]})]})})]})}}const Jw="!@#$%^&*()_+-={}|[]\\:\"<>?/.,;'~`",Yw=["'Castoro Titling', serif","'Gilda Display', serif","'Newsreader', serif","'Cormorant Garamond', serif"];function Qw({text:t,className:r="",intensityFactor:s=1}){const[a,n]=re.useState(t),[i,o]=re.useState(!1),l=re.useRef(t),c=re.useRef([]),d=()=>{c.current.forEach(e=>clearTimeout(e)),c.current=[]};re.useEffect(()=>(l.current=t,n(t),u(),()=>{d()}),[t,s]);const u=()=>{d();const e=()=>{const t=Math.max(10,40-15*s),r=100-20*s,a=t+Math.random()*r,i=setTimeout(()=>{(()=>{const e=l.current.split(""),t=[...e];for(let n=0;n<e.length;n++)" "!==e[n]&&Math.random()<.3*s&&(t[n]=Jw.charAt(Math.floor(32*Math.random())));if(n(t.join("")),Math.random()>.6-.1*s){o(!0);const e=30+100*Math.random();setTimeout(()=>o(!1),e)}const r=10+80*Math.random(),a=setTimeout(()=>{Math.random()>.1&&n(l.current)},r);c.current.push(a)})(),e()},a);c.current.push(i)};e()};return e.jsx("span",{className:`pure-red-text ${r}`,style:{position:"relative",display:"inline-block",color:"#ff0000",fontFamily:(()=>{if(!Yw.length)return"'Castoro Titling', serif";const e=Math.floor(Math.random()*Yw.length);return Yw[e]})(),fontWeight:"bold",letterSpacing:Math.random()<.5?"0.5px":"-0.5px",filter:(()=>{if(i){return`blur(${.5+3.5*Math.random()}px)`}return"none"})(),transition:"filter 0.05s ease, letter-spacing 0.1s ease",textShadow:"none",animation:"none !important",WebkitTextFillColor:"inherit",WebkitTextStroke:"0 transparent"},children:a})}const Xw=({className:t=""})=>{const[r,s]=re.useState(!1),[a,n]=re.useState(!1),[i,o]=re.useState(!1),l={initial:{y:0,x:0,opacity:.7,scale:.8},animate:{y:-12,x:[0,1,-1,0],opacity:0,scale:1.1,transition:{duration:1.8,repeat:1/0,repeatType:"loop",ease:"easeOut"}}},c={initial:{scale:0,y:0,opacity:0},animate:{scale:[0,1,0],y:-15,opacity:[0,1,0],transition:{duration:1.8,repeat:1/0,repeatDelay:.8,ease:"easeOut"}}};return e.jsxs("div",{className:`w-full max-w-sm mx-auto ${t}`,children:[e.jsxs(ge.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-background/30 backdrop-blur-md rounded-xl border border-border/30 p-6 text-center shadow-lg relative overflow-hidden",onHoverStart:()=>n(!0),onHoverEnd:()=>n(!1),children:[e.jsx(ye,{children:a&&e.jsx(e.Fragment,{children:[...Array(4)].map((t,r)=>e.jsx(ge.div,{initial:{scale:0,rotate:0},animate:{scale:[0,1,0],rotate:360,x:[0,25*Math.cos(90*r*Math.PI/180)],y:[0,25*Math.sin(90*r*Math.PI/180)]},exit:{scale:0},transition:{duration:1.2,repeat:1/0,delay:.15*r},className:"absolute top-1/2 left-1/2 w-1.5 h-1.5 bg-yellow-300 rounded-full pointer-events-none",style:{filter:"drop-shadow(0 0 3px rgba(255, 255, 0, 0.7))"}},r))})}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-3 relative",children:[e.jsx(ge.div,{animate:{scale:[1,1.1,1],rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},children:e.jsx(Mr,{className:"w-5 h-5 text-pink-500"})}),e.jsx("h3",{className:"text-lg font-medium text-foreground tracking-tight",children:"Support My Writing"}),e.jsx(ge.div,{animate:{scale:[1,1.1,1],rotate:[0,-5,5,0]},transition:{duration:2,repeat:1/0,repeatType:"reverse",delay:.5},children:e.jsx(Mr,{className:"w-5 h-5 text-pink-500"})}),e.jsx(ye,{children:a&&e.jsx(ge.div,{variants:c,initial:"initial",animate:"animate",className:"absolute top-0 right-0 pointer-events-none",children:e.jsx(Mr,{className:"w-3 h-3 text-pink-300 fill-current"})})})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4 leading-relaxed",children:"If you're enjoying these stories, consider buying me a coffee! Your support helps me create more engaging content."}),e.jsx(ge.div,{whileHover:{scale:1.05,rotate:[0,-.5,.5,0],transition:{scale:{type:"spring",stiffness:300,damping:10},rotate:{duration:.4,repeat:1/0,repeatType:"reverse"}}},whileTap:{scale:.95},className:"relative",children:e.jsxs(nd,{onClick:()=>s(!0),className:"w-full bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-400 hover:to-purple-500 text-white font-medium py-3 rounded-lg transition-all duration-200 shadow-md hover:shadow-lg relative overflow-hidden",children:[e.jsx(ge.div,{animate:{background:["linear-gradient(45deg, rgba(236, 72, 153, 0.3), rgba(147, 51, 234, 0.3))","linear-gradient(45deg, rgba(147, 51, 234, 0.3), rgba(236, 72, 153, 0.3))"]},transition:{duration:2,repeat:1/0,repeatType:"reverse"},className:"absolute inset-0 rounded-lg"}),e.jsx("div",{className:"absolute -top-1 left-1/2 transform -translate-x-1/2 pointer-events-none",children:[...Array(2)].map((t,r)=>e.jsx(ge.div,{variants:l,initial:"initial",animate:"animate",style:{animationDelay:.4*r+"s"},className:"absolute w-0.5 h-0.5 bg-white/50 rounded-full"},r))}),e.jsxs("span",{className:"relative flex items-center justify-center gap-2 z-10",children:[e.jsxs(ge.div,{animate:{y:[0,-3,0],rotate:[0,8,-8,0]},transition:{duration:1.2,repeat:1/0,repeatType:"reverse",ease:"easeInOut"},className:"relative",children:[e.jsx(br,{className:"w-4 h-4"}),e.jsx(ge.div,{animate:{opacity:[.3,.6,.3],scale:[.7,1,.7]},transition:{duration:1.5,repeat:1/0,ease:"easeInOut"},className:"absolute -top-0.5 left-1/2 transform -translate-x-1/2 w-1 h-1 bg-white/20 rounded-full blur-sm"})]}),"Buy me a coffee "]})]})}),e.jsx("p",{className:"text-xs text-muted-foreground/70 mt-3",children:"Powered by Paystack  Secure Payment"})]}),e.jsx(Kg,{open:r,onOpenChange:s,children:e.jsxs(Yg,{className:"sm:max-w-md text-center bg-background/95 backdrop-blur-md border border-border/50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:[...Array(6)].map((t,r)=>e.jsx(ge.div,{initial:{scale:0,opacity:0},animate:{scale:[0,1,0],opacity:[0,.5,0],x:250*Math.random(),y:150*Math.random()},transition:{duration:2.5,repeat:1/0,delay:.4*r,repeatType:"loop"},className:"absolute w-1 h-1 bg-yellow-300 rounded-full",style:{filter:"drop-shadow(0 0 2px rgba(255, 255, 0, 0.5))"}},r))}),e.jsxs(Qg,{className:"relative z-10",children:[e.jsx(ge.div,{initial:{y:-15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1,type:"spring",stiffness:200,damping:20},children:e.jsxs(ey,{className:"text-xl font-semibold text-center flex items-center justify-center gap-2",children:[e.jsx(ge.div,{animate:{rotate:[0,8,-8,0]},transition:{duration:1.8,repeat:1/0,repeatType:"reverse"},children:e.jsx(br,{className:"w-5 h-5 text-pink-500"})}),"Support My Writing",e.jsx(ge.div,{animate:{scale:[1,1.15,1],rotate:[0,4,-4,0]},transition:{duration:1.4,repeat:1/0,repeatType:"reverse"},children:e.jsx(Mr,{className:"w-5 h-5 text-pink-500"})})]})}),e.jsx(ge.div,{initial:{y:15,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2,type:"spring",stiffness:200,damping:20},children:e.jsxs(ty,{className:"text-center text-muted-foreground",children:["Your support means the world! Every coffee keeps my creativity brewing and helps me share more stories.",e.jsx(ge.span,{animate:{opacity:[.4,1,.4]},transition:{duration:1.8,repeat:1/0},className:"inline-block ml-1",children:""})]})})]}),e.jsx(ge.div,{className:"mt-6 space-y-4 relative z-10",initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.3,type:"spring",stiffness:200,damping:20},children:e.jsx(ge.div,{whileHover:{scale:1.06,boxShadow:"0 8px 20px rgba(0,0,0,0.15)"},whileTap:{scale:.96},className:"w-full",children:e.jsxs(nd,{onClick:()=>{i||(o(!0),window.open("https://paystack.com/pay/z7fmj9rge1","_blank","noopener,noreferrer"),s(!1),setTimeout(()=>{o(!1)},2e3))},disabled:i,className:"w-full px-8 py-4 text-lg font-medium bg-gradient-to-r from-pink-500 to-purple-600 hover:from-pink-400 hover:to-purple-500 text-white rounded-full shadow-lg relative overflow-hidden disabled:opacity-60 disabled:cursor-not-allowed",size:"lg","aria-label":"Support with a donation",children:[e.jsx(ge.div,{initial:{x:"-100%"},animate:{x:"100%"},transition:{duration:1.8,repeat:1/0,repeatDelay:2.5,ease:"easeInOut"},className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/15 to-transparent",style:{transform:"skewX(-20deg)"}}),e.jsx("span",{className:"relative flex items-center justify-center gap-2",children:i?e.jsxs(e.Fragment,{children:[e.jsx(ge.span,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:""}),"Opening payment..."]}):e.jsxs(e.Fragment,{children:[e.jsx(ge.span,{animate:{scale:[1,1.15,1]},transition:{duration:.9,repeat:1/0,repeatType:"reverse"},children:""}),"Yes, I'd love to!",e.jsx(ge.span,{animate:{y:[0,-1.5,0]},transition:{duration:1.3,repeat:1/0,repeatType:"reverse"},children:""})]})})]})})}),e.jsx(ry,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none"})]})})]})};var ej="AlertDialog",[tj,rj]=u(ej,[X]),sj=X(),aj=t=>{const{__scopeAlertDialog:r,...s}=t,a=sj(r);return e.jsx(c,{...a,...s,modal:!0})};aj.displayName=ej;var nj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=sj(s);return e.jsx(d,{...n,...a,ref:r})});nj.displayName="AlertDialogTrigger";var ij=t=>{const{__scopeAlertDialog:r,...s}=t,a=sj(r);return e.jsx(n,{...a,...s})};ij.displayName="AlertDialogPortal";var oj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...n}=t,i=sj(s);return e.jsx(a,{...i,...n,ref:r})});oj.displayName="AlertDialogOverlay";var lj="AlertDialogContent",[cj,dj]=tj(lj),uj=g("AlertDialogContent"),hj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,children:a,...n}=t,o=sj(s),l=re.useRef(null),c=y(r,l),d=re.useRef(null);return e.jsx(ee,{contentName:lj,titleName:mj,docsSlug:"alert-dialog",children:e.jsx(cj,{scope:s,cancelRef:d,children:e.jsxs(i,{role:"alertdialog",...o,...n,ref:c,onOpenAutoFocus:j(n.onOpenAutoFocus,e=>{e.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[e.jsx(uj,{children:a}),e.jsx(bj,{contentRef:l})]})})})});hj.displayName=lj;var mj="AlertDialogTitle",pj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=sj(s);return e.jsx(o,{...n,...a,ref:r})});pj.displayName=mj;var fj="AlertDialogDescription",gj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=sj(s);return e.jsx(l,{...n,...a,ref:r})});gj.displayName=fj;var yj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,n=sj(s);return e.jsx(z,{...n,...a,ref:r})});yj.displayName="AlertDialogAction";var xj="AlertDialogCancel",vj=re.forwardRef((t,r)=>{const{__scopeAlertDialog:s,...a}=t,{cancelRef:n}=dj(xj,s),i=sj(s),o=y(r,n);return e.jsx(z,{...i,...a,ref:o})});vj.displayName=xj;var bj=({contentRef:e})=>{const t=`\`${lj}\` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the \`${lj}\` by passing a \`${fj}\` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${lj}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return re.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))},[t,e]),null},wj=oj,jj=hj,kj=yj,Nj=vj,Sj=pj,_j=gj;const Ej=aj,Cj=nj,Ij=ij,Tj=re.forwardRef(({className:t,...r},s)=>e.jsx(wj,{className:qs("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:s}));Tj.displayName=wj.displayName;const Rj=re.forwardRef(({className:t,...r},s)=>e.jsxs(Ij,{children:[e.jsx(Tj,{}),e.jsx(jj,{ref:s,className:qs("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",t),...r})]}));Rj.displayName=jj.displayName;const Aj=({className:t,...r})=>e.jsx("div",{className:qs("flex flex-col space-y-2 text-center sm:text-left",t),...r});Aj.displayName="AlertDialogHeader";const Pj=({className:t,...r})=>e.jsx("div",{className:qs("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Pj.displayName="AlertDialogFooter";const Oj=re.forwardRef(({className:t,...r},s)=>e.jsx(Sj,{ref:s,className:qs("text-lg font-semibold",t),...r}));Oj.displayName=Sj.displayName;const Mj=re.forwardRef(({className:t,...r},s)=>e.jsx(_j,{ref:s,className:qs("text-sm text-muted-foreground",t),...r}));Mj.displayName=_j.displayName;const Dj=re.forwardRef(({className:t,...r},s)=>e.jsx(kj,{ref:s,className:qs(ad(),t),...r}));Dj.displayName=kj.displayName;const Lj=re.forwardRef(({className:t,...r},s)=>e.jsx(Nj,{ref:s,className:qs(ad({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));Lj.displayName=Nj.displayName;const zj=e=>{if(!e)return{isFlagged:!1,moderated:"",isUnderReview:!1};const t=[/\b(kill|violent|disgusting|vile|appalling|nasty|horrible|garbage|sucks|pathetic)\b/gi,/\b(scam|fraud|fake|lying|spam|trash|worst|terrible|lazy|awful)\b/gi,/\b(useless|worthless|waste|ugly|offensive|sexist|racist|bigot)\b/gi];let r=e,s=!1,a=!1;return[/\b(hate|stupid|idiot|dumb|moron)\b/gi,/\b(sh[i*]t|f[u*]ck|a[s*][s*]|b[i*]tch)\b/gi,/\b(damn|hell|crap)\b/gi].forEach(t=>{t.test(e)&&(s=!0,r=r.replace(t,e=>"*".repeat(e.length)))}),s||t.forEach(t=>{t.test(e)&&(a=!0)}),{isFlagged:s,moderated:r,isUnderReview:a}},Fj=()=>{const e=document.cookie.split("; ").find(e=>e.startsWith("csrf-token="));return e?e.split("=")[1]:""};function Uj({commentId:t,postId:r,onCancel:s,authorToMention:a}){const[n,i]=re.useState(a?`@${a} `:""),[o,l]=re.useState(!1),{toast:c}=Bs(),d=It(),u=re.useRef(null),{user:h,isAuthenticated:m}=ba(),{isFlagged:p,moderated:f,isUnderReview:g}=zj(n);re.useEffect(()=>{if(u.current){u.current.focus();const e=u.current.value.length;u.current.selectionStart=e,u.current.selectionEnd=e}},[]);const y=Dt({mutationFn:async()=>{const e=m&&h?h.username:"Anonymous",s=Fj(),a=await fetch(`/api/posts/${r}/comments`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":s},credentials:"include",body:JSON.stringify({content:n.trim(),author:e,parentId:t,needsModeration:p||g,moderationStatus:p?"flagged":g?"under_review":"none"})});if(!a.ok){const e=await a.text();throw new Error("Failed to post reply: "+e)}return a.json()},onSuccess:()=>{d.invalidateQueries({queryKey:[`/api/posts/${r}/comments`]}),i(""),s(),c({title:"Reply posted",description:"Your reply has been added to the discussion.",variant:"default"})},onError:e=>{c({title:"Error",description:e.message||"Failed to post reply. Please try again.",variant:"destructive"})}});return e.jsx("form",{onSubmit:e=>{e.preventDefault(),n.trim()?y.mutate():c({title:"Missing information",description:"Please provide a message",variant:"destructive"})},className:"border-l border-primary/30 pl-2 mt-0.5 bg-muted/5 rounded-md overflow-hidden",children:e.jsxs("div",{className:"space-y-0.5 p-1",children:[e.jsxs("div",{className:"flex items-center gap-1 mb-0.5",children:[e.jsx(as,{className:"h-2.5 w-2.5 text-primary/70"}),e.jsx("span",{className:"text-[10px] font-medium",children:"Reply to this comment"})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(wy,{ref:u,placeholder:"Write your reply...",value:n,onChange:e=>{i(e.target.value),p&&!o&&l(!0)},className:"min-h-[35px] text-[10px] bg-background/80 py-1 flex-grow",required:!0}),e.jsx(nd,{type:"button",variant:"ghost",size:"sm",onClick:s,className:"h-6 px-1.5 text-[10px] self-start",children:"Cancel"})]}),p&&""!==n.trim()&&e.jsxs(ge.div,{className:"px-1.5 py-1 bg-amber-500/10 rounded-sm text-[9px] border border-amber-500/20",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400",children:[e.jsx(cr,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium",children:"Preview with moderation:"})]}),e.jsx("p",{className:"mt-0.5 text-xs ml-3.5",children:f})]}),g&&!p&&""!==n.trim()&&e.jsxs(ge.div,{className:"px-1.5 py-1 bg-blue-500/10 rounded-sm text-[9px] border border-blue-500/20",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.3},children:[e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[e.jsx(us,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium",children:"This reply may be placed under review"})]}),e.jsx("p",{className:"mt-0.5 text-[9px] ml-3.5 text-muted-foreground",children:"Your reply contains content that might need moderator approval."})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(nd,{type:"submit",size:"sm",disabled:y.isPending,className:"h-5 text-[10px] px-1.5 py-0",children:y.isPending?e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"mr-1 h-2.5 w-2.5 animate-spin"}),e.jsx("span",{children:"Posting"})]}):e.jsxs(e.Fragment,{children:[e.jsx(os,{className:"mr-1 h-2.5 w-2.5"}),e.jsx("span",{children:"Reply"})]})})})]})})}const $j=e=>!0===e.approved||!0===e.is_approved;function Vj({postId:t}){const[r,s]=re.useState(""),[a,n]=re.useState(null),[i,o]=re.useState(!1),[l,c]=re.useState(!1),[d,u]=re.useState(null),[h,m]=re.useState([]),[p,f]=re.useState([]),[g,y]=re.useState("active"),[x,v]=re.useState(!1),[b,w]=re.useState(null),[j,k]=re.useState(!0),{toast:N}=Bs(),S=It(),_=re.useRef(null),{user:E,isAuthenticated:C}=ba(),{isFlagged:I,moderated:T,isUnderReview:R}=zj(r);re.useEffect(()=>{const e="undefined"!=typeof window?localStorage.getItem(`comment_draft_${t}`):null;e&&""!==e.trim()&&(s(e),N({title:"Draft restored",description:"Your previous comment draft has been restored.",variant:"default"}));const a=setInterval(()=>{""!==r.trim()&&"undefined"!=typeof window&&localStorage.setItem(`comment_draft_${t}`,r)},3e3);return()=>clearInterval(a)},[t,r,N]),re.useEffect(()=>{const e=()=>{if(!(p.length>0)&&_.current){if(_.current.getBoundingClientRect().top<-300){if(!x&&!b){const e=setTimeout(()=>{v(!0),N({title:"Comments minimized",description:"Comments have been collapsed for a cleaner reading experience.",variant:"default"})},1500);w(e)}}else b&&(clearTimeout(b),w(null)),v(!1)}};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[x,b,p.length,N]),re.useEffect(()=>{const e="undefined"!=typeof window?localStorage.getItem("flaggedComments_"+t):null;if(e)try{const t=JSON.parse(e);Array.isArray(t)&&m(t)}catch(r){}},[t]);const{data:A=[],isLoading:P,error:O}=Mt({queryKey:[`/api/posts/${t}/comments`],queryFn:async()=>{try{const e=await fetch(`/api/posts/${t}/comments`);if(!e.ok)throw new Error(`Failed to fetch comments: ${e.status}`);return await e.json()}catch(e){return[]}},retry:2,staleTime:3e4}),M=Dt({mutationFn:async()=>{const e=C&&E?E.username:"Anonymous",s=Fj(),{isFlagged:a,isUnderReview:n}=zj(r),i=await fetch(`/api/posts/${t}/comments`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":s},credentials:"include",body:JSON.stringify({content:r.trim(),author:e,needsModeration:a||n,moderationStatus:a?"flagged":n?"under_review":"none"})});if(!i.ok){const e=await i.text();throw new Error("Failed to post comment: "+e)}return{data:await i.json(),moderationStatus:a?"flagged":n?"under_review":"none"}},onSuccess:e=>{S.invalidateQueries({queryKey:[`/api/posts/${t}/comments`]}),localStorage.removeItem(`comment_draft_${t}`),s(""),"flagged"===e.moderationStatus||"under_review"===e.moderationStatus?N({title:"Comment under review",description:"Your comment contains words that need review by our team. We'll review it shortly.",variant:"default",duration:7e3}):N({title:"Comment posted",description:"Thank you for joining the conversation!",variant:"default"})},onError:e=>{N({title:"Error",description:e.message||"Failed to post comment. Please try again.",variant:"destructive"})}}),D=e=>{h.includes(e)?N({title:"Already reported",description:"You have already reported this comment. Thank you for helping keep our community safe.",variant:"default"}):(u(e),c(!0))},L=A.filter(e=>null===e.parentId).filter(e=>$j(e)),z=A.filter(e=>null!==e.parentId).filter(e=>$j(e)).reduce((e,t)=>(t.parentId&&(e[t.parentId]||(e[t.parentId]=[]),e[t.parentId].push(t)),e),{}),F=e=>{const t="string"==typeof e?new Date(e):e;return me(t,"MMM d")},U=re.useMemo(()=>{let e=[...L];return e="active"===g?e.sort((e,t)=>{const r=z[e.id]?.length||0;return(z[t.id]?.length||0)-r}):e.sort((e,t)=>{const r=new Date(e.createdAt);return new Date(t.createdAt).getTime()-r.getTime()}),e},[L,z,g]),$=e=>{const t=new Date(e.createdAt),r=new Date;return r.setFullYear(r.getFullYear()-1),t<r},V=["I've seen what waits in the darkness. It's been watching us all along.","The words hide more than they reveal. Read between the lines.","They come at night when you're alone. Listen for the whispers.","Every story has a hidden truth. Some are better left untold.","Time is just a circle. We've been here before, and we'll be here again.","The shadows aren't empty. They're filled with forgotten memories.","Some readers never leave this place. Their stories continue without them.","I can still hear the voices from the other side of the page.","The author knows more than they're telling. Trust nothing.","What you're reading now is changing you in ways you can't perceive."],H=re.useMemo(()=>Math.random()<.15,[]);re.useEffect(()=>{k(!0);const e=setTimeout(()=>{k(!1)},15e3);return()=>clearTimeout(e)},[t]);const B=t=>{if(!t)return"";const r=/@(\w+)/g,s=[];let a,n=0;for(;null!==(a=r.exec(t));){a.index>n&&s.push(t.substring(n,a.index));const r=a[1];s.push(e.jsxs("span",{className:"text-primary font-medium",children:["@",r]},`mention-${a.index}`)),n=a.index+a[0].length}return n<t.length&&s.push(t.substring(n)),s.length>0?e.jsx(e.Fragment,{children:s}):t};return P?e.jsx("div",{className:"antialiased mx-auto",children:e.jsxs("div",{className:"border-t border-border/30 pt-4 pb-1.5",children:[e.jsx("h3",{className:"text-base font-medium mb-4",children:"Comments"}),e.jsx("div",{className:"flex justify-center py-8",children:e.jsx($r,{className:"h-6 w-6 animate-spin text-primary"})})]})}):O?e.jsx("div",{className:"antialiased mx-auto",children:e.jsxs("div",{className:"border-t border-border/30 pt-4 pb-1.5",children:[e.jsx("h3",{className:"text-base font-medium mb-4",children:"Comments"}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx(cr,{className:"h-8 w-8 text-destructive mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Failed to load comments. Please try refreshing the page."}),e.jsx(nd,{variant:"outline",size:"sm",onClick:()=>S.invalidateQueries({queryKey:[`/api/posts/${t}/comments`]}),children:"Try Again"})]})]})}):e.jsxs("div",{className:"antialiased mx-auto",ref:_,children:[e.jsxs("div",{className:"border-t border-border/30 pt-4 pb-1.5",children:[e.jsxs("div",{className:"mb-2 flex items-center justify-between",children:[e.jsxs("h3",{className:"text-base font-medium",children:["Comments (",L.length,")"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Ux,{value:g,onValueChange:e=>y(e),children:[e.jsx(Hx,{className:"h-6 text-[10px] w-[95px]",children:e.jsx(Vx,{placeholder:"Sort by"})}),e.jsxs(Wx,{children:[e.jsx(Zx,{value:"recent",className:"text-xs",children:"Most Recent"}),e.jsx(Zx,{value:"active",className:"text-xs",children:"Most Active"})]})]}),e.jsx(nd,{variant:"outline",size:"sm",onClick:()=>{p.length>0||x?(f([]),v(!1)):f(L.map(e=>e.id))},className:"h-6 px-1.5 text-[10px]",children:p.length>0||x?e.jsxs(e.Fragment,{children:[e.jsx(_r,{className:"h-3 w-3 mr-1"})," Expand All"]}):e.jsxs(e.Fragment,{children:[e.jsx(Wr,{className:"h-3 w-3 mr-1"})," Collapse All"]})})]})]}),e.jsx(Gx,{className:"mb-2 p-2 shadow-sm bg-gradient-to-b from-card/80 to-card/50 border-border/30 overflow-hidden hover:shadow-md transition-shadow",children:e.jsx("form",{onSubmit:e=>{e.preventDefault(),r.trim()?M.mutate():N({title:"Missing information",description:"Please provide a message",variant:"destructive"})},className:"space-y-1",children:e.jsx("div",{className:"grid grid-cols-1 gap-1",children:e.jsxs(ge.div,{className:"flex flex-col",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.2},children:[e.jsxs("div",{className:"flex",children:[e.jsx(wy,{placeholder:"Share your thoughts...",value:r,onChange:e=>{s(e.target.value),I&&!i&&o(!0)},className:"h-7 text-xs bg-background/80 min-h-[45px] flex-grow",required:!0}),e.jsx("div",{className:"flex flex-col",children:e.jsx(nd,{type:"submit",disabled:M.isPending,size:"sm",className:"h-[45px] w-7 ml-1 p-0 flex items-center justify-center",children:M.isPending?e.jsx($r,{className:"h-3 w-3 animate-spin"}):e.jsx(os,{className:"h-3 w-3"})})})]}),I&&""!==r.trim()&&e.jsxs(ge.div,{className:"mt-1 px-1.5 py-1 bg-amber-500/10 rounded-sm text-[9px] border border-amber-500/20",initial:{opacity:.9,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.1},children:[e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400",children:[e.jsx(cr,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium",children:"Preview with automatic moderation:"})]}),e.jsx("p",{className:"mt-0.5 text-xs ml-3.5",children:T})]}),R&&!I&&""!==r.trim()&&e.jsxs(ge.div,{className:"mt-1 px-1.5 py-1 bg-blue-500/10 rounded-sm text-[9px] border border-blue-500/20",initial:{opacity:.9,height:0},animate:{opacity:1,height:"auto"},transition:{duration:.1},children:[e.jsxs("div",{className:"flex items-center gap-1 text-blue-600 dark:text-blue-400",children:[e.jsx(us,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium",children:"This comment may be placed under review"})]}),e.jsx("p",{className:"mt-0.5 text-[9px] ml-3.5 text-muted-foreground",children:"Your comment contains content that might need moderator approval before being displayed to all users."})]})]})})})})]}),H&&j&&e.jsx(ye,{children:e.jsx(ge.div,{className:"mb-4 border-l-[3px] border-l-destructive/40 bg-destructive/5 rounded-sm overflow-hidden shadow-md",initial:{opacity:0,x:-10},animate:{opacity:1,x:0},exit:{opacity:0,x:10},transition:{duration:.4,ease:"easeOut"},onAnimationComplete:()=>{const e=8e3+4e3*Math.random();setTimeout(()=>{k(!1)},e)},children:e.jsxs("div",{className:"px-3 py-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(Pr,{className:"h-3.5 w-3.5 text-destructive/70"}),e.jsx("span",{className:"text-[10px] font-medium text-destructive/70",children:"Unknown User"}),e.jsx(qg,{variant:"outline",className:"ml-1 text-[8px] px-1 py-0 h-3 border-destructive/30 bg-destructive/5 text-destructive/70",children:"lost"}),e.jsxs("span",{className:"text-[8px] text-muted-foreground/60 ml-auto flex items-center",children:[e.jsx(tr,{className:"h-2.5 w-2.5 mr-0.5 text-muted-foreground/40"}),F((()=>{const e=2+Math.floor(3*Math.random()),t=Math.floor(11*Math.random());return pe(fe(new Date,t),e)})())]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground italic leading-relaxed opacity-90",children:['"',(()=>{const e=Math.floor(Math.random()*V.length);return V[e]})(),'"']}),e.jsx("div",{className:"flex justify-end mt-1",children:e.jsxs("span",{className:"text-[9px] text-destructive/50 flex items-center",children:[e.jsx(gs,{className:"h-2.5 w-2.5 mr-0.5"}),"Message from the archive"]})})]})},"unknown-message")}),e.jsx("div",{className:"space-y-1",children:U.length>0?U.map(r=>e.jsxs(ge.div,{className:"space-y-1",initial:{opacity:.9,y:10},animate:{opacity:1,y:0},transition:{duration:.2},children:[e.jsxs(Gx,{className:qs("shadow-sm hover:shadow-md transition-all border-border/30 overflow-hidden",r.metadata.moderated?"border-amber-500/30":"hover:border-primary/30",$(r)?"border-l-primary/30 border-l-[3px]":""),children:[e.jsxs("div",{className:qs("px-2.5 py-1 flex items-center justify-between border-b border-border/10 bg-muted/10 cursor-pointer","hover:bg-muted/20 transition-colors"),onClick:()=>{return e=r.id,void f(t=>t.includes(e)?t.filter(t=>t!==e):[...t,e]);var e},role:"button",tabIndex:0,"aria-expanded":!p.includes(r.id)&&!x,children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-xs",children:r.metadata.author||"Anonymous"}),z[r.id]?.length>0&&e.jsxs(qg,{variant:"outline",className:"ml-2 text-[9px] px-1 py-0 h-3.5 border-muted-foreground/30",children:[z[r.id].length," ",1===z[r.id].length?"reply":"replies"]}),r.metadata.moderated&&e.jsxs("div",{className:"ml-2 flex items-center text-[9px] text-amber-500",children:[e.jsx(cr,{className:"h-2.5 w-2.5 mr-0.5"}),e.jsx("span",{children:"Moderated"})]}),$(r)&&e.jsx(qg,{variant:"outline",className:"ml-2 text-[9px] px-1 py-0 h-3.5 bg-primary/5 text-primary border-primary/20",children:"Resurrected"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsxs("span",{className:"text-[9px] text-muted-foreground flex items-center",children:[e.jsx(tr,{className:"h-2.5 w-2.5 mr-0.5"}),F(r.createdAt)]}),p.includes(r.id)||x?e.jsx(ir,{className:"h-3 w-3 text-muted-foreground/70"}):e.jsx(lr,{className:"h-3 w-3 text-muted-foreground/70"})]})]}),e.jsx(ye,{children:!(p.includes(r.id)||x)&&e.jsxs(ge.div,{className:"px-2.5 py-1",initial:{opacity:.9,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:.9,height:0},transition:{duration:.1},children:[e.jsx("p",{className:"text-xs text-card-foreground leading-relaxed mb-1",children:B(r.content)}),r.metadata.moderated&&e.jsx("div",{className:"mb-1 px-1.5 py-0.5 bg-amber-500/10 rounded-sm text-[9px] border border-amber-500/20",children:e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400",children:[e.jsx(cr,{className:"h-2.5 w-2.5"}),e.jsx("span",{className:"font-medium",children:"This comment was automatically moderated"})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("div",{className:"flex items-center gap-1.5",children:e.jsxs("button",{onClick:e=>{e.stopPropagation(),n(a===r.id?null:r.id)},className:"inline-flex items-center text-[10px] text-muted-foreground hover:text-primary transition-colors",children:[e.jsx(as,{className:"h-2.5 w-2.5 mr-0.5"}),e.jsx("span",{children:"Reply"})]})}),e.jsx("div",{children:h.includes(r.id)?e.jsxs("span",{className:"inline-flex items-center text-[9px] text-muted-foreground/70",title:"You've reported this comment",children:[e.jsx("span",{className:"mr-1 opacity-70",children:"Reported"}),e.jsx(Tr,{className:"h-2.5 w-2.5 fill-destructive/10 text-destructive/50"})]}):e.jsxs("button",{onClick:e=>{e.stopPropagation(),D(r.id)},className:"inline-flex items-center text-[9px] text-muted-foreground hover:text-destructive transition-colors group",title:"Report this comment",children:[e.jsx("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity mr-1",children:"Flag"}),e.jsx(Tr,{className:"h-2.5 w-2.5 group-hover:fill-destructive/10"})]})})]})]})})]}),e.jsx(ye,{children:a===r.id&&e.jsx(ge.div,{initial:{opacity:.9,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.15},className:"ml-4",children:e.jsx(Uj,{commentId:r.id,postId:t,onCancel:()=>n(null),authorToMention:r.metadata.author})})}),z[r.id]&&z[r.id].length>0&&e.jsx("div",{className:"ml-4 space-y-1",children:z[r.id].map(t=>e.jsx(ge.div,{initial:{opacity:.9,x:-2},animate:{opacity:1,x:0},transition:{duration:.15},children:e.jsxs(Gx,{className:qs("shadow-xs hover:shadow-sm transition-all border-border/30 overflow-hidden",t.metadata.moderated?"border-amber-500/30":"hover:border-primary/20"),children:[e.jsxs("div",{className:"px-2 py-0.5 flex items-center justify-between border-b border-border/10 bg-muted/5",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:"font-medium text-[10px]",children:t.metadata.author||"Anonymous"}),t.metadata.moderated&&e.jsxs("div",{className:"ml-2 flex items-center text-[8px] text-amber-500",children:[e.jsx(cr,{className:"h-2 w-2 mr-0.5"}),e.jsx("span",{children:"Moderated"})]})]}),e.jsxs("span",{className:"text-[8px] text-muted-foreground flex items-center",children:[e.jsx(tr,{className:"h-2 w-2 mr-0.5"}),F(t.createdAt)]})]}),e.jsxs("div",{className:"px-2 py-1",children:[e.jsx("p",{className:"text-[10px] text-card-foreground leading-relaxed mb-1",children:B(t.content)}),t.metadata.moderated&&e.jsx("div",{className:"mb-1 px-1 py-0.5 bg-amber-500/10 rounded-sm text-[8px] border border-amber-500/20",children:e.jsxs("div",{className:"flex items-center gap-1 text-amber-600 dark:text-amber-400",children:[e.jsx(cr,{className:"h-2 w-2"}),e.jsx("span",{className:"font-medium",children:"This reply was automatically moderated"})]})}),e.jsxs("div",{className:"flex items-center justify-between mt-1",children:[e.jsx("div",{}),h.includes(t.id)?e.jsx("span",{className:"inline-flex items-center text-[8px] text-muted-foreground/70",title:"You've reported this reply",children:e.jsx(Tr,{className:"h-2 w-2 fill-destructive/10 text-destructive/50"})}):e.jsx("button",{onClick:()=>D(t.id),className:"inline-flex items-center text-[8px] text-muted-foreground hover:text-destructive transition-colors group",title:"Report this reply",children:e.jsx(Tr,{className:"h-2 w-2 group-hover:fill-destructive/10"})})]})]})]})},t.id))})]},r.id)):e.jsx("div",{className:"text-center py-3",children:e.jsx("p",{className:"text-xs text-muted-foreground",children:"No comments yet. Be the first to share your thoughts!"})})}),e.jsx(Ej,{open:l,onOpenChange:c,children:e.jsxs(Rj,{className:"max-w-[350px]",children:[e.jsxs(Aj,{children:[e.jsx(Oj,{className:"text-base",children:"Report this comment?"}),e.jsx(Mj,{className:"text-xs",children:"Are you sure you want to report this comment? This will notify our moderation team to review it for inappropriate content."})]}),e.jsxs(Pj,{className:"flex gap-1.5",children:[e.jsx(Lj,{className:"text-[11px] h-7",children:"Cancel"}),e.jsxs(Dj,{onClick:async()=>{if(d)try{const e=Fj();if(!(await fetch(`/api/comments/${d}/flag`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":e},credentials:"include",body:JSON.stringify({reason:"inappropriate content"})})).ok)throw new Error("Failed to flag comment");m(e=>[...e,d]),"undefined"!=typeof window&&localStorage.setItem("flaggedComments_"+t,JSON.stringify([...h,d])),N({title:"Comment reported",description:"Thank you for flagging this comment. Our moderators will review it.",variant:"default"})}catch(e){N({title:"Error",description:"Failed to report comment. Please try again.",variant:"destructive"})}finally{c(!1),u(null)}},className:"text-[11px] h-7 bg-destructive text-destructive-foreground hover:bg-destructive/90",children:[e.jsx(Tr,{className:"h-3 w-3 mr-1.5"}),"Report Comment"]})]})]})})]})}const Hj=e=>{try{const t=document.createElement("div");t.innerHTML=e;t.querySelectorAll("script, object, embed, iframe, form, input, button").forEach(e=>e.remove());return t.querySelectorAll("*").forEach(e=>{["onload","onerror","onclick","onmouseover","onfocus","onblur","onchange","onsubmit","onreset","onselect","onkeydown","onkeyup","onkeypress","onmousedown","onmouseup","onmousemove","onmouseout","onmousein","ondblclick","oncontextmenu","javascript:","vbscript:"].forEach(t=>{e.hasAttribute(t)&&e.removeAttribute(t)});const t=e.getAttribute("href"),r=e.getAttribute("src");t&&(t.startsWith("javascript:")||t.startsWith("vbscript:"))&&e.removeAttribute("href"),r&&(r.startsWith("javascript:")||r.startsWith("vbscript:"))&&e.removeAttribute("src")}),t.innerHTML}catch(vN){return e}};function Bj({slug:t,params:r,isCommunityContent:s=!1}){const a=r?.slug||t,n=re.useRef(!1);re.useEffect(()=>{!n.current&&a&&(n.current=!0)},[a]);const[,i]=se(),{toast:o}=Bs(),l=It(),{user:c}=ba(),d=!0===c?.isAdmin,{theme:u}=va(),{fontSize:h,increaseFontSize:m,decreaseFontSize:p}=Tw(),{fontFamily:f,availableFonts:g,updateFontFamily:y}=Pw(),{isUIHidden:x,toggleUI:v,showTooltip:b}=(()=>{const[e,t]=re.useState(!1),[r,s]=re.useState(!0),a=re.useCallback(()=>{t(e=>!e),"undefined"!=typeof navigator&&navigator.vibrate&&navigator.vibrate(10),r&&(s(!1),localStorage.setItem("reader_tooltip_seen","true"))},[r]);return re.useEffect(()=>{if("true"!==localStorage.getItem("reader_tooltip_seen")){const e=setTimeout(()=>{s(!1)},5e3);return()=>clearTimeout(e)}s(!1)},[]),re.useEffect(()=>{const r=r=>{"Escape"===r.key&&e&&t(!1)};return window.addEventListener("keydown",r),()=>window.removeEventListener("keydown",r)},[e]),{isUIHidden:e,toggleUI:a,showTooltip:r}})(),[w,j]=re.useState(0),[k,N]=re.useState(!1),[S,_]=re.useState(!1),[E,C]=re.useState(!1);re.useEffect(()=>{let e=!1,t=null;const r=()=>{const e=window.scrollY,t=document.documentElement.scrollHeight-window.innerHeight,r=t>0?e/t*100:0,s=Math.min(100,Math.max(0,r));j(s)},s=()=>{e||(t=requestAnimationFrame(()=>{r(),e=!1,t=null}),e=!0)};return window.addEventListener("scroll",s,{passive:!0}),r(),()=>{window.removeEventListener("scroll",s),t&&cancelAnimationFrame(t)}},[]);const[I,T]=re.useState(!1),[R,A]=re.useState("Are you avoiding something?"),P=re.useRef(0),O=re.useRef(Date.now()),M=re.useRef(null),D=Dt({mutationFn:async e=>{const t=document.cookie.replace(/(?:(?:^|.*;\s*)XSRF-TOKEN\s*\=\s*([^;]*).*$)|^.*$/,"$1"),r=await fetch(`/api/posts/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json","X-CSRF-Token":t},credentials:"include"}),s=await r.json();if(!r.ok)throw 401===r.status?new Error("Please log in to delete this story"):new Error(s.message||"Failed to delete post");return s},onSuccess:()=>{l.invalidateQueries({queryKey:["/api/posts/community"]}),l.invalidateQueries({queryKey:["/api/posts"]}),H?.id&&l.invalidateQueries({queryKey:["/api/posts",H.id.toString()]}),a&&(l.invalidateQueries({queryKey:["wordpress","posts","reader",a]}),l.invalidateQueries({queryKey:["/api/posts",a]})),C(!1),o({title:"Story Deleted",description:d&&c?.id!==H?.authorId?"Community story has been deleted by admin.":"Your story has been deleted successfully."}),i("/community")},onError:e=>{o({title:"Delete Failed",description:e.message,variant:"destructive"}),C(!1)}});re.useEffect(()=>{l.invalidateQueries({queryKey:["posts"]}),l.removeQueries({queryKey:["posts"]})},[l]);const[L,z]=re.useState(()=>{try{const e=sessionStorage.getItem("selectedStoryIndex");if(!e)return 0;const t=parseInt(e,10);return isNaN(t)||t<0?0:t}catch(e){return 0}}),{data:F,isLoading:U,error:$}=Mt({queryKey:["posts","reader",a,s?"community":"regular"],queryFn:async()=>{try{if(a){const e=s?`/api/posts/community/${a}`:`/api/posts/${a}`,t=await fetch(e);if(!t.ok)throw new Error(`Failed to fetch ${s?"community":""} post`);const r=await t.json();return{posts:[{...r,title:{rendered:r.title?.rendered||r.title||""},content:{rendered:r.content?.rendered||r.content||""},date:r.date||r.createdAt||(new Date).toISOString()}],totalPages:1,total:1}}{const e=await fetch(`/api/posts?limit=100&_t=${Date.now()}`);if(!e.ok)throw new Error("Failed to fetch posts from database");const t=await e.json();if(!t.posts||0===t.posts.length)throw new Error("No stories available");const r=t.posts.map(e=>({...e,title:{rendered:e.title?.rendered||e.title||""},content:{rendered:e.content?.rendered||e.content||""},date:e.date||e.created_at||(new Date).toISOString()}));return{posts:r,totalPages:1,total:r.length}}}catch(e){try{const e=s?"/api/posts/community?limit=50":"/api/posts?limit=50",t=await fetch(e);if(t.ok){const e=await t.json();if(e.posts&&e.posts.length>0){const t=e.posts.map(e=>({...e,title:{rendered:e.title?.rendered||e.title||"Story"},content:{rendered:e.content?.rendered||e.content||"Content not available."},date:e.date||e.createdAt||(new Date).toISOString()}));return{posts:t,totalPages:1,total:t.length}}}}catch(t){}throw e}},staleTime:0,refetchOnMount:!0,refetchOnWindowFocus:!0});(({enabled:e=!0,autoSave:t=!0,showToast:r=!0,maxAgeMs:s=6048e5,highlightTarget:a="p",autoSaveInterval:n=2e3,slug:i=""}={})=>{const{toast:o}=Bs(),[l,c]=re.useState(!1),d=re.useRef(null),u=re.useRef(!1),h=re.useRef(null);re.useEffect(()=>{if(!e||"undefined"==typeof window||!i)return;const t=performance.getEntriesByType("navigation");if(t.length>0){const e=t[0];u.current="reload"===e.type}else u.current=!1},[e,i]);const m=()=>{if(e&&"undefined"!=typeof window&&i)try{const e=window.scrollY;if(null!==h.current&&Math.abs(e-h.current)<50)return;const t=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight)-window.innerHeight,r=t>0?100*Math.min(e/t,1):0;if(e>50||r>2){const t={scrollY:e,timestamp:Date.now(),percentRead:r},s=`readerGentleScroll_${i}`;localStorage.setItem(s,JSON.stringify(t)),h.current=e}}catch($){}},p=()=>{if(e&&"undefined"!=typeof window)try{const e=Date.now();Object.keys(localStorage).filter(e=>e.startsWith("readerGentleScroll_")).forEach(t=>{try{const r=localStorage.getItem(t);if(r){const a=JSON.parse(r);e-a.timestamp>s&&localStorage.removeItem(t)}}catch(r){localStorage.removeItem(t)}})}catch($){}};re.useEffect(()=>{if(!e||"undefined"==typeof window||!i)return;const t=setTimeout(()=>{try{if(l)return;const e=`readerGentleScroll_${i}`,t=localStorage.getItem(e);if(t){const e=JSON.parse(t);if(Date.now()-e.timestamp<=s){if(e.scrollY<100&&(!e.percentRead||e.percentRead<5))return;setTimeout(()=>{window.scrollTo({top:e.scrollY,behavior:"auto"}),r&&o({title:u.current?"Position Restored":"Welcome Back",description:"Returned to your previous reading position",duration:3e3}),c(!0)},300)}}}catch($){}},200);return()=>{clearTimeout(t)}},[i,e,s,o,r,l]),re.useEffect(()=>{if(!e||!t||"undefined"==typeof window||!i)return;const r=()=>{m()},s=()=>{null!==d.current&&clearTimeout(d.current),d.current=window.setTimeout(()=>{m()},n)};return window.addEventListener("scroll",s,{passive:!0}),window.addEventListener("beforeunload",r),()=>{null!==d.current&&clearTimeout(d.current),window.removeEventListener("scroll",s),window.removeEventListener("beforeunload",r),m()}},[i,e,t,n]),re.useEffect(()=>{if(!e||"undefined"==typeof window)return;p();const t=setInterval(p,864e5);return()=>{clearInterval(t)}},[e,s]),u.current})({enabled:!U&&F?.posts&&F.posts.length>0,slug:a||"",showToast:!0,autoSave:!0,autoSaveInterval:2e3}),re.useEffect(()=>{if(F?.posts&&F.posts.length>0){L>=F.posts.length?(z(0),sessionStorage.setItem("selectedStoryIndex","0")):sessionStorage.setItem("selectedStoryIndex",L.toString());const e=F.posts[L];e&&(a||e.slug||e.id,a&&e.id&&0===L&&fetch(`/api/posts/${e.id}`).then(e=>{404===e.status&&(i("/community"),o({title:"Post Not Available",description:"This post is no longer available, redirecting to community page."}))}).catch(e=>{}))}},[L,F?.posts,a,l,i,o]),re.useEffect(()=>{},[]);if(re.useEffect(()=>{let e=null;return e=window.setTimeout(()=>{try{const e=document.getElementById("reader-dynamic-styles");e&&e.remove();const t=document.createElement("style");t.id="reader-dynamic-styles";const r=(()=>{const e="dark"===u?"color: rgba(255, 255, 255, 0.95);":"color: rgba(0, 0, 0, 0.95);";return`\n  .story-content {\n    font-family: ${g[f].family};\n    width: 100%;\n    margin: 0 auto;\n    padding: 0 0.5rem;\n    ${e}\n    transition: color 0.3s ease, background-color 0.3s ease;\n  }\n  .story-content p, .story-content .story-paragraph {\n    line-height: 1.8;\n    margin-bottom: 2em;\n    font-family: ${g[f].family};\n    letter-spacing: 0.02em;\n  }\n  @media (max-width: 768px) {\n    .story-content p, .story-content .story-paragraph {\n      margin-bottom: 1.8em;\n      line-height: 1.85;\n      letter-spacing: 0.01em;\n    }\n  }`})();t.textContent=r||"",document.head.appendChild(t)}catch(e){const t=document.querySelector(".story-content");t&&t.setAttribute("style",`font-family: ${g[f].family}; font-size: ${h}px;`)}},100),()=>{e&&clearTimeout(e);const t=document.getElementById("reader-dynamic-styles");t&&t.remove()}},[f,h,g,u]),re.useEffect(()=>{if(a&&!U&&1===F?.posts?.length){const e=F.posts[0];fetch(`/api/posts/${e.id}`).then(e=>{404===e.status&&(o({title:"Story Unavailable",description:"This story is no longer available."}),i("/community"))}).catch(e=>{})}},[a,U,F,i,o]),U)return e.jsx("div",{className:"relative min-h-[200px]",children:e.jsx(aw,{isLoading:!0,message:"Loading story...",minimumLoadTime:800,debug:!0,overlayZIndex:100,children:e.jsx("div",{className:"invisible",children:e.jsx("div",{className:"h-[200px] w-full flex items-center justify-center",children:e.jsx("span",{className:"sr-only",children:"Loading story content..."})})})})});if($||!F?.posts||0===F.posts.length)return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Unable to load stories"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:$ instanceof Error?$.message:"Please try again later"}),e.jsx(nd,{variant:"outline",onClick:()=>{window.location.reload()},children:"Retry"})]});const V=F.posts;if(L<0||L>=V.length)return re.useEffect(()=>{z(0),sessionStorage.setItem("selectedStoryIndex","0")},[]),e.jsx("div",{className:"relative min-h-[200px]",children:e.jsx(aw,{isLoading:!0,message:"Adjusting story position...",minimumLoadTime:300,debug:!0,overlayZIndex:100,children:e.jsx("div",{className:"invisible",children:e.jsx("div",{className:"h-[200px] w-full flex items-center justify-center",children:e.jsx("span",{className:"sr-only",children:"Loading story content..."})})})})});const H=V[L];if(!H)return e.jsxs("div",{className:"text-center p-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Story Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Unable to load the requested story. Please try again from the home page."})]});let B="";try{B=H.metadata&&H.metadata.originalDate?me(new Date(H.metadata.originalDate),"MMMM d, yyyy"):H.date?me(new Date(H.date),"MMMM d, yyyy"):H.createdAt?me(new Date(H.createdAt),"MMMM d, yyyy"):"Publication date unavailable"}catch(ee){B="Publication date unavailable"}const q=H.themeCategory,W=H.themeIcon||H.metadata&&H.metadata.themeIcon,K=q?[q]:function(e){try{if(!e)return[];const t=e.toLowerCase().replace(/<[^>]+>/g,"").replace(/&nbsp;/g," ").trim(),r=t.split(/\n\n+/),s=r[0]||"",a=r[r.length-1]||"",n=new Map;Object.entries(ew).forEach(([e,r])=>{let i=0;r.keywords.forEach(e=>{const r=new RegExp(`\\b${e}\\b`,"gi"),n=t.match(r);n&&(i+=2*n.length,s.includes(e)&&(i+=3),a.includes(e)&&(i+=3))}),i>0&&n.set(e,i)});const i=Array.from(n.entries()).sort((e,t)=>t[1]-e[1]).map(([e])=>e);return i.slice(0,3)}catch($){return wg($,{category:vg.VALIDATION,showToast:!1}),[]}}(H.content?.rendered||H.content||""),Z=[{key:"wordpress",Icon:Kw,url:"http://bubbleteameimei.wordpress.com"},{key:"twitter",Icon:Ww,url:"https://twitter.com/Bubbleteameimei"},{key:"instagram",Icon:qw,url:"https://instagram.com/Bubbleteameimei"}],G=()=>{const t=Date.now();if(t-O.current<1500){if(P.current+=1,P.current>=3&&!I){const t="I SEE YOU SKIPPING!!!";A(t),T(!0),o({title:"NOTICE",description:e.jsx(Qw,{text:t,intensityFactor:8}),variant:"destructive",duration:9e3}),setTimeout(()=>{T(!1),P.current=0},9e3)}}else P.current=Math.max(0,P.current-1);O.current=t},J=()=>{if(V&&V.length>1&&L>0){const e=L-1;G(),z(e),window.scrollTo({top:0,behavior:"auto"})}},Y=()=>{if(V&&V.length>1&&L<V.length-1){const e=L+1;G(),z(e),window.scrollTo({top:0,behavior:"auto"})}},Q=0===L,X=L===V.length-1;return e.jsxs("div",{className:"relative min-h-screen bg-background reader-page overflow-visible pt-16 sm:pt-16 md:pt-18 lg:pt-20 pb-8 flex flex-col","data-reader-page":"true","data-distraction-free":x?"true":"false",children:[e.jsx("div",{style:{position:"fixed",top:"0px",left:"0px",right:"0px",width:"100%",height:"3px",backgroundColor:"rgba(255, 255, 255, 0.2)",zIndex:999999,pointerEvents:"none"},children:e.jsx("div",{style:{height:"100%",width:`${w}%`,background:"linear-gradient(90deg, #3b82f6, #8b5cf6)",transition:"width 0.1s ease-out",boxShadow:w>5?"0 0 10px rgba(59, 130, 246, 0.7)":"none"}})}),e.jsx(Ew,{show:b}),e.jsx("style",{dangerouslySetInnerHTML:{__html:'\n        /* Transitions for UI elements */\n        /* Keep the UI elements accessible but subtle in distraction-free mode */\n        .ui-fade-element {\n          transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), visibility 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          will-change: opacity, visibility;\n        }\n        .ui-hidden {\n          opacity: 0.15; /* Barely visible but still accessible */\n          pointer-events: auto; /* Keep interactive */\n        }\n        /* Show on hover for better UX */\n        .ui-hidden:hover {\n          opacity: 0.9;\n          transition: opacity 0.2s ease;\n        }\n        .story-content {\n          transition: width 0.8s ease-in-out;\n        }\n        .distraction-free-active .story-content {\n          width: 100%;\n        }\n        \n        /* Only target the navigation header and not the controls in distraction-free mode */\n        .reader-page[data-distraction-free="true"] header.main-header {\n          opacity: 0;\n          visibility: hidden;\n          transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          pointer-events: none; /* Prevent interaction with hidden header */\n          transform: translateY(-100%);\n          will-change: opacity, transform, visibility;\n        }\n        \n        /* Tiny indicator for mobile when in distraction-free mode */\n        .reader-page[data-distraction-free="true"]::after {\n          content: " Tap to exit";\n          position: fixed;\n          top: 5px;\n          left: 50%;\n          transform: translateX(-50%);\n          background-color: var(--background);\n          color: var(--muted-foreground);\n          font-size: 0.65rem;\n          padding: 1px 6px;\n          border-radius: 4px;\n          opacity: 0.6;\n          pointer-events: none;\n          z-index: 30;\n          border: 1px solid var(--border);\n          box-shadow: 0 1px 1px rgba(0,0,0,0.05);\n        }\n        \n        /* Ensure better mobile compatibility */\n        @media (max-width: 640px) {\n          .reader-page[data-distraction-free="true"]::after {\n            font-size: 0.6rem;\n            padding: 1px 5px;\n            top: 3px;\n          }\n        }\n        \n        /* Only show pointer cursor on story content */\n        .reader-page .story-content {\n          cursor: pointer;\n        }\n        \n        /* Set default cursor for everything */\n        .reader-page {\n          cursor: default;\n        }\n        \n        /* Set pointer cursor only for interactive elements */\n        .reader-page button,\n        .reader-page a,\n        .reader-page [role="button"],\n        .reader-page input[type="button"],\n        .reader-page input[type="submit"] {\n          cursor: pointer;\n        }\n        \n        /* Keep the story content cursor as pointer to indicate clickable for distraction-free mode */\n        .reader-page .story-content {\n          cursor: pointer;\n        }\n        \n        /* Make interactive elements inside story content use pointer cursor */\n        .reader-page .story-content button,\n        .reader-page .story-content a,\n        .reader-page .story-content [role="button"] {\n          cursor: pointer;\n        }\n        \n        .main-header {\n          transition: opacity 0.4s ease, visibility 0.4s ease;\n          will-change: opacity, visibility;\n        }\n      '}}),I&&e.jsx(ge.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-[1000] flex items-center justify-center bg-black/80 backdrop-blur-md",children:e.jsxs(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:300,damping:30},className:"relative bg-background/95 p-6 rounded-lg shadow-xl w-[90%] max-w-full text-center border border-[#ff0000]/80",children:[e.jsx("div",{className:"absolute inset-0 rounded-lg bg-[#ff0000]/10 animate-pulse"}),e.jsxs("div",{className:"relative z-10",children:[e.jsx("div",{className:"mb-6",children:e.jsx(Qw,{text:R,className:"text-4xl font-bold",intensityFactor:8})}),e.jsx("div",{className:"mt-4",children:e.jsx(nd,{variant:"outline",className:"border-[#ff0000]/60 bg-background hover:bg-background/90 text-foreground w-full py-6",onClick:()=>T(!1),children:e.jsx("span",{className:"mx-auto text-lg font-medium",children:"I understand, I'm sorry"})})})]})]})}),I&&e.jsx("div",{className:"fixed inset-0 z-[999]",style:{pointerEvents:"all"},"aria-hidden":"true"}),e.jsx("div",{className:"fixed top-0 left-0 z-50 h-1 bg-primary/70",style:{width:`${w}%`,transition:"width 0.2s ease-out"},"aria-hidden":"true"}),e.jsxs("div",{className:"pt-0 pb-0 bg-background mt-0 w-full overflow-visible "+(x?"distraction-free-active":""),children:[e.jsxs("div",{className:"flex justify-between items-center px-2 md:px-8 lg:px-12 z-10 py-0.5 sm:py-2 border-b border-border/30 mb-0 sm:mb-1 w-full ui-fade-element "+(x?"ui-hidden":""),children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(nd,{variant:"outline",size:"sm",onClick:p,disabled:h<=12,className:"h-8 px-3 bg-primary/5 hover:bg-primary/10 shadow-md border-primary/20","aria-label":"Decrease font size",children:[e.jsx(Kr,{className:"h-4 w-4 mr-1"}),"A-"]}),e.jsxs(nd,{variant:"outline",size:"sm",onClick:m,disabled:h>=20,className:"h-8 px-3 bg-primary/5 hover:bg-primary/10 shadow-md border-primary/20","aria-label":"Increase font size",children:["A+",e.jsx(es,{className:"h-4 w-4 ml-1"})]}),e.jsxs(Kg,{open:k,onOpenChange:N,children:[e.jsx(Zg,{asChild:!0,children:e.jsx(nd,{variant:"outline",size:"sm",className:"h-8 px-3 bg-primary/5 hover:bg-primary/10 shadow-md border-primary/20 ml-2",children:e.jsx("span",{className:"text-xs uppercase",children:"FONT"})})}),e.jsxs(Yg,{className:"sm:max-w-full",children:[e.jsxs(Qg,{children:[e.jsx(ey,{children:"Font Settings"}),e.jsx(ty,{children:"Change the font style for your reading experience."})]}),e.jsx("div",{className:"grid gap-4 py-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Font Style"}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:Object.entries(g).map(([t,r])=>e.jsx(nd,{variant:f===t?"default":"outline",className:"justify-start h-auto py-3",onClick:()=>{y(t),N(!1)},children:e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{style:{fontFamily:r.family},children:r.name}),e.jsx("span",{className:"text-xs text-muted-foreground",children:r.type})]})},t))})]})})]})]})]}),e.jsx("div",{className:"flex-grow"}),e.jsx(Zw,{postId:H.id,variant:"reader",showText:!1,className:"h-8 w-8 rounded-full bg-background hover:bg-background/80 mx-2"}),e.jsxs(Kg,{open:S,onOpenChange:_,children:[e.jsx(Zg,{asChild:!0,children:e.jsxs(nd,{variant:"default",size:"sm",className:"h-8 px-3 bg-primary hover:bg-primary/90 text-white shadow-lg flex items-center gap-1.5 min-w-0 max-w-[120px] overflow-hidden transition-all duration-200 hover:scale-105 rounded-md",children:[e.jsx(Gt,{className:"h-4 w-4 flex-shrink-0"}),e.jsx("span",{className:"truncate text-xs font-semibold tracking-wide",children:"TOC"})]})}),e.jsxs(Yg,{className:"max-w-md","aria-labelledby":"toc-dialog-title","aria-describedby":"toc-dialog-description",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(ey,{id:"toc-dialog-title",children:"Table of Contents"}),e.jsx(ry,{asChild:!0,children:e.jsxs(nd,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full",children:[e.jsx(As,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})})]}),e.jsx(ty,{id:"toc-dialog-description",children:"Browse all available stories"}),e.jsx(Cw,{currentPostId:H.id,onClose:()=>_(!1)})]})]})]}),e.jsxs("article",{className:"prose dark:prose-invert px-6 md:px-6 pt-0 w-full max-w-none prose-lg leading-relaxed",children:[e.jsxs("div",{className:"flex flex-col items-center mb-2 mt-0",children:[e.jsxs("div",{className:"relative flex flex-col items-center",children:[s&&e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qg,{variant:"secondary",className:"bg-primary/10 text-foreground border-primary/20",children:"Community Story"}),(d||s&&c?.id===H?.authorId)&&s&&e.jsxs(nd,{variant:"outline",size:"sm",className:"h-7 px-2 border-red-200 bg-red-50 hover:bg-red-100 text-red-600",onClick:()=>C(!0),children:[e.jsx(ks,{className:"h-3.5 w-3.5 mr-1"}),e.jsx("span",{className:"text-xs",children:"Delete"})]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-center mb-6 tracking-tight leading-tight",dangerouslySetInnerHTML:{__html:Hj(H.title?.rendered||H.title||"Story")}})]}),e.jsx(Kg,{open:E,onOpenChange:C,children:e.jsxs(Yg,{className:"max-w-md",children:[e.jsxs(Qg,{children:[e.jsxs(ey,{className:"flex items-center text-xl",children:[e.jsx(ks,{className:"h-5 w-5 mr-2 text-red-500"}),d&&c?.id!==H?.authorId?"Delete Community Story":"Delete Your Story"]}),e.jsx(ty,{className:"pt-2 text-sm",children:d&&c?.id!==H?.authorId?"As an admin, you are about to delete a user-submitted community story. This action cannot be undone.":"You are about to delete your community story. This action cannot be undone."})]}),e.jsxs("div",{className:"flex items-center justify-between border p-3 rounded-md bg-muted/50 mt-2",children:[e.jsx("div",{className:"font-medium truncate pr-2",children:H.title?.rendered||H.title||"Story"}),e.jsx(qg,{variant:"outline",className:"bg-blue-100 text-blue-800 border-blue-300",children:"Community"})]}),e.jsxs(Xg,{className:"gap-2 sm:gap-0 mt-4",children:[e.jsx(nd,{variant:"outline",onClick:()=>C(!1),children:"Cancel"}),e.jsx(nd,{variant:"destructive",onClick:()=>D.mutate(H.id),disabled:D.isPending,children:D.isPending?"Deleting...":"Delete Story"})]})]})}),e.jsxs("div",{className:"flex flex-col items-center gap-1",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 sm:gap-3 text-sm text-muted-foreground backdrop-blur-sm bg-background/20 px-3 sm:px-4 py-1 rounded-full shadow-sm border border-primary/10 ui-fade-element "+(x?"ui-hidden":""),children:[K.length>0?e.jsx("div",{className:"flex items-center gap-1.5",children:(()=>{const t=K[0],r=t&&Object.prototype.hasOwnProperty.call(ew,t)?ew[t]:{icon:"Ghost"},s=(()=>{if(W)switch(W.toLowerCase()){case"skull":return gs;case"brain":return Qt;case"pill":return Xr;case"cpu":return jr;case"dna":return Sr;case"ghost":default:return Pr;case"footprints":return Rr;case"cloud-rain":case"cloudrain":return xr;case"castle":return rr;case"bug":return Xt;case"radiation":return ts;case"umbrella":return Es;case"userminus2":case"user-minus2":return Cs;case"anchor":return Vt;case"alerttriangle":case"alert-triangle":return Ss;case"building":return er;case"worm":return Rs;case"cloud":return vr;case"cloudfog":case"cloud-fog":return yr}if(!r||!r.icon)return Pr;switch(r.icon){case"skull":case"Skull":return gs;case"brain":case"Brain":return Qt;case"pill":case"Pill":return Xr;case"cpu":case"Cpu":case"scan":case"Scan":return jr;case"dna":case"Dna":return Sr;case"ghost":case"Ghost":case"knife":case"Knife":return Pr;case"cross":case"Cross":return kr;case"car":case"Car":return or;case"footprints":case"Footprints":return Rr;case"cloudrain":case"cloud-rain":case"CloudRain":return xr;case"castle":case"Castle":return rr;case"utensils":case"Utensils":return Zt;case"bug":case"Bug":default:return Xt;case"AlertTriangle":return Ss;case"Copy":return rs}})();return e.jsxs(e.Fragment,{children:[e.jsx(s,{className:"h-4 w-4 text-primary/80"}),e.jsx("span",{className:"font-medium text-primary/80 whitespace-nowrap text-xs sm:text-sm",children:t})]})})()}):e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Zt,{className:"h-4 w-4 text-primary/80"}),e.jsx("span",{className:"font-medium text-primary/80 whitespace-nowrap text-xs sm:text-sm",children:"Fiction"})]}),e.jsx("span",{className:"text-muted-foreground/30",children:""}),e.jsx("time",{className:"font-medium whitespace-nowrap text-xs sm:text-sm",children:B})]}),e.jsxs("div",{className:"flex items-center justify-center mt-0.5 sm:mt-2 gap-2 w-full ui-fade-element "+(x?"ui-hidden":""),children:[e.jsxs(nd,{variant:Q?"outline":"default",size:"sm",onClick:J,className:"h-8 px-2 w-24 transition-all duration-200 "+(Q?"bg-muted/50 border-muted-foreground/20 text-muted-foreground cursor-not-allowed opacity-50":"bg-slate-600 hover:bg-slate-700 text-white border-slate-600 hover:border-slate-700 shadow-md hover:shadow-lg"),disabled:V.length<=1||Q,title:Q?"This is the first story":"Go to previous story",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 mr-1",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),"Previous"]}),e.jsx(nd,{variant:"secondary",size:"sm",onClick:()=>{if(V&&V.length>1){let e;do{e=Math.floor(Math.random()*V.length)}while(e===L);G(),z(e),window.scrollTo({top:0,behavior:"auto"})}},className:"h-8 w-8 px-0 rounded-full bg-primary/10 hover:bg-primary/20 border-none disabled:opacity-70 disabled:bg-gray-100/50 transition-all duration-200 hover:scale-105",disabled:V.length<=1,"aria-label":"Random Story",title:V.length<=1?"Need more stories to use random":"Go to a random story",children:e.jsx(fs,{className:"h-4 w-4"})}),e.jsxs(nd,{variant:X?"outline":"default",size:"sm",onClick:Y,className:"h-8 px-2 w-24 transition-all duration-200 "+(X?"bg-muted/50 border-muted-foreground/20 text-muted-foreground cursor-not-allowed opacity-50":"bg-slate-700 hover:bg-slate-800 text-white border-slate-700 hover:border-slate-800 shadow-md hover:shadow-lg"),disabled:V.length<=1||X,title:X?"This is the last story":"Go to next story",children:["Next",e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4 ml-1",children:e.jsx("path",{d:"m9 18 6-6-6-6"})})]})]})]})]}),e.jsx(Iw,{onPrevious:J,onNext:Y,disabled:!(V&&V.length>1),minSwipeDistance:70,children:e.jsx("div",{ref:M,className:"reader-container story-content mb-8 w-full overflow-visible flex-1",style:{whiteSpace:"normal",letterSpacing:"0.012em",overflowWrap:"break-word",wordWrap:"break-word",overflow:"visible",margin:"10px 0",lineHeight:"1.8",textAlign:"left",fontSize:"1.2rem",cursor:"pointer",padding:"0 0.5rem"},onClick:v,dangerouslySetInnerHTML:{__html:Hj(H.content?.rendered||H.content||"")}})}),e.jsx("div",{className:"flex items-center justify-center gap-3 mb-6 mt-4 w-full text-center ui-fade-element "+(x?"ui-hidden":""),children:e.jsxs("div",{className:"flex items-center gap-3 bg-background/90 backdrop-blur-md border border-border/50 rounded-full py-1.5 px-3 shadow-md",children:[e.jsxs(nd,{variant:"ghost",size:"icon",onClick:J,className:"h-8 w-8 rounded-full group relative transition-all duration-200 "+(Q?"opacity-30 cursor-not-allowed text-muted-foreground":"text-slate-600 hover:bg-slate-50 hover:text-slate-700 dark:text-slate-400 dark:hover:bg-slate-900 dark:hover:text-slate-300"),"aria-label":"Previous story",disabled:V.length<=1||Q,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"m15 18-6-6 6-6"})}),e.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-background/90 backdrop-blur-sm px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap shadow-sm border border-border/50",children:"Previous Story"})]}),e.jsxs("div",{className:"px-2 text-xs text-muted-foreground font-medium",children:[L+1," of ",V.length]}),e.jsxs(nd,{variant:"ghost",size:"icon",onClick:Y,className:"h-8 w-8 rounded-full group relative transition-all duration-200 "+(X?"opacity-30 cursor-not-allowed text-muted-foreground":"text-slate-700 hover:bg-slate-50 hover:text-slate-800 dark:text-slate-400 dark:hover:bg-slate-900 dark:hover:text-slate-300"),"aria-label":"Next story",disabled:V.length<=1||X,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"h-4 w-4",children:e.jsx("path",{d:"m9 18 6-6-6-6"})}),e.jsx("span",{className:"absolute -top-10 left-1/2 -translate-x-1/2 bg-background/90 backdrop-blur-sm px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap shadow-sm border border-border/50",children:"Next Story"})]})]})}),e.jsxs("div",{className:"mt-2 pt-3 border-t border-border/50",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6",children:[e.jsx("div",{className:"flex justify-center w-full ui-fade-element "+(x?"ui-hidden":""),children:e.jsx(pw,{postId:H.id,variant:"reader",className:"mt-6",onLike:e=>{},onUpdate:(e,t)=>{}})}),e.jsxs("div",{className:"flex flex-col items-center gap-3 ui-fade-element "+(x?"ui-hidden":""),children:[e.jsx("p",{className:"text-sm text-muted-foreground font-medium",children:" Loved the story? Share it or follow for more! "}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(nd,{variant:"outline",size:"icon",onClick:async()=>{const e={title:H.title?.rendered||H.title||"Story",text:s?"Check out this community story on Bubble's Caf!":"Check out this story on Bubble's Caf!",url:window.location.href};try{navigator.share&&await navigator.share(e)}catch(ee){}},className:"h-9 w-9 rounded-full hover:bg-primary/10 hover:border-primary/30 transition-all duration-200",children:[e.jsx(ds,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Share"})]}),e.jsx(Gw,{fallback:e.jsx("div",{className:"flex gap-3",children:[1,2,3].map(t=>e.jsx(nd,{variant:"outline",size:"icon",disabled:!0,className:"h-9 w-9 rounded-full cursor-not-allowed opacity-50",children:e.jsx("span",{className:"sr-only",children:"Social icon (unavailable)"})},t))}),children:e.jsx("div",{className:"flex gap-3",children:Z.map(({key:t,Icon:r,url:s})=>e.jsxs(nd,{variant:"outline",size:"icon",onClick:()=>((e,t)=>{try{window.open(t,"_blank")}catch(ee){}})(0,s),className:"h-9 w-9 rounded-full hover:bg-primary/10 hover:border-primary/30 transition-all duration-200",children:[e.jsx(r,{className:"h-4 w-4"}),e.jsxs("span",{className:"sr-only",children:["Follow on ",t]})]},t))})})]})]}),e.jsx("div",{className:"mt-8 flex justify-center ui-fade-element "+(x?"ui-hidden":""),children:e.jsx(Xw,{className:"w-full max-w-sm"})})]}),e.jsx("div",{className:"mt-10 pt-6 border-t border-border/30",children:e.jsxs("div",{className:"bg-background/50 backdrop-blur-md p-6 rounded-xl border border-border/20 shadow-lg",children:[e.jsxs("div",{className:"flex flex-col gap-2 mb-6",children:[e.jsx("h3",{className:"text-2xl font-medium tracking-tight flex items-center gap-2",children:e.jsxs("span",{className:"relative inline-block",children:["Discussion",e.jsx("span",{className:"absolute -bottom-1 left-0 w-full h-[3px] bg-primary/40 rounded-full"})]})}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Join the conversation and share your thoughts about this story."})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute -left-4 top-0 bottom-0 w-[2px] bg-gradient-to-b from-primary/5 via-primary/20 to-primary/5 rounded-full"}),e.jsx(Gw,{fallback:e.jsxs("div",{className:"p-4 border border-destructive/10 bg-destructive/5 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Comments Unavailable"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"We're having trouble loading the comments section. Please try refreshing the page."}),e.jsxs(nd,{variant:"outline",size:"sm",className:"mt-3",onClick:()=>window.location.reload(),children:[e.jsx(rs,{className:"h-3 w-3 mr-2"}),"Try again"]})]}),children:e.jsx(Vj,{postId:H.id})})]})]})})]})]},H.id)]})]})}function qj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"},child:[]}]})(e)}function Wj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0zm.256 2.313c2.47.005 5.116 2.008 5.898 2.962l.244.3c1.64 1.994 3.569 4.34 3.569 6.966 0 3.719-2.98 5.808-6.158 7.508-1.433.766-2.98 1.508-4.748 1.508-4.543 0-8.366-3.569-8.366-8.112 0-.706.17-1.425.342-2.15.122-.515.244-1.033.307-1.549.548-4.539 2.967-6.795 8.422-7.408a4.29 4.29 0 01.49-.026Z"},child:[]}]})(e)}function Kj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"},child:[]}]})(e)}function Zj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.48 10.92v3.28h7.84c-.24 1.84-.853 3.187-1.787 4.133-1.147 1.147-2.933 2.4-6.053 2.4-4.827 0-8.6-3.893-8.6-8.72s3.773-8.72 8.6-8.72c2.6 0 4.507 1.027 5.907 2.347l2.307-2.307C18.747 1.44 16.133 0 12.48 0 5.867 0 .307 5.387.307 12s5.56 12 12.173 12c3.573 0 6.267-1.173 8.373-3.36 2.16-2.16 2.84-5.213 2.84-7.667 0-.76-.053-1.467-.173-2.053H12.48z"},child:[]}]})(e)}function Gj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"},child:[]}]})(e)}function Jj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.469 6.825c.84 1.537 1.318 3.3 1.318 5.175 0 3.979-2.156 7.456-5.363 9.325l3.295-9.527c.615-1.54.82-2.771.82-3.864 0-.405-.026-.78-.07-1.11m-7.981.105c.647-.03 1.232-.105 1.232-.105.582-.075.514-.93-.067-.899 0 0-1.755.135-2.88.135-1.064 0-2.85-.15-2.85-.15-.585-.03-.661.855-.075.885 0 0 .54.061 1.125.09l1.68 4.605-2.37 7.08L5.354 6.9c.649-.03 1.234-.1 1.234-.1.585-.075.516-.93-.065-.896 0 0-1.746.138-2.874.138-.2 0-.438-.008-.69-.015C4.911 3.15 8.235 1.215 12 1.215c2.809 0 5.365 1.072 7.286 2.833-.046-.003-.091-.009-.141-.009-1.06 0-1.812.923-1.812 1.914 0 .89.513 1.643 1.06 2.531.411.72.89 1.643.89 2.977 0 .915-.354 1.994-.821 3.479l-1.075 3.585-3.9-11.61.001.014zM12 22.784c-1.059 0-2.081-.153-3.048-.437l3.237-9.406 3.315 9.087c.024.053.05.101.078.149-1.12.393-2.325.609-3.582.609M1.211 12c0-1.564.336-3.05.935-4.39L7.29 21.709C3.694 19.96 1.212 16.271 1.211 12M12 0C5.385 0 0 5.385 0 12s5.385 12 12 12 12-5.385 12-12S18.615 0 12 0"},child:[]}]})(e)}function Yj(e){return Hw({attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"},child:[]}]})(e)}function Qj({links:t={},className:r=""}){const{toast:s}=Bs(),a={wordpress:"https://bubbleteameimei.wordpress.com",twitter:"https://x.com/Bubbleteameimei",instagram:"https://www.instagram.com/bubbleteameimei/",...t},n=(e,t)=>{try{window.open(e,"_blank","noopener,noreferrer")}catch(vN){s({title:"Error",description:`Unable to open ${t}. Please try again.`,variant:"destructive"})}};return e.jsxs("div",{className:`flex items-center gap-4 ${r}`,children:[a.wordpress&&e.jsx("button",{onClick:()=>n(a.wordpress,"WordPress"),className:"text-muted-foreground hover:text-[#21759b] transition-all duration-200 hover:scale-110","aria-label":"Visit WordPress Blog",children:e.jsx(Jj,{className:"h-5 w-5"})}),a.twitter&&e.jsx("button",{onClick:()=>n(a.twitter,"Twitter"),className:"text-muted-foreground hover:text-[#1DA1F2] transition-all duration-200 hover:scale-110","aria-label":"Visit Twitter/X Profile",children:e.jsx(Yj,{className:"h-5 w-5"})}),a.instagram&&e.jsx("button",{onClick:()=>n(a.instagram,"Instagram"),className:"text-muted-foreground hover:text-[#E4405F] transition-all duration-200 hover:scale-110","aria-label":"Visit Instagram Profile",children:e.jsx(Gj,{className:"h-5 w-5"})})]})}function Xj(){const[t,r]=re.useState(!1),[s,a]=re.useState(0),n=re.useRef(null),i=re.useRef(null);re.useEffect(()=>{},[]);const o=[{src:"/images/optimized/profile-optimized.jpg",alt:"Bubble's Cafe creator profile photo - atmospheric portrait with dark academia aesthetic",blurSrc:"/images/optimized/profile-blur.jpg",srcset:"/images/optimized/profile-optimized.jpg 600w, /images/IMG_5266.png 900w"}];re.useEffect(()=>{const e=document.createElement("link");return e.rel="preload",e.as="image",e.href=o[0].src,document.head.appendChild(e),r(!0),()=>{document.head.removeChild(e)}},[]);const l=re.useCallback(e=>{const t=(e%o.length+o.length)%o.length;if(n.current){const e=t*n.current.offsetWidth;n.current.scrollTo({left:e,behavior:"smooth"}),a(t)}},[o.length]),c=()=>{s<o.length-1?l(s+1):l(0)},d=()=>{l(s>0?s-1:o.length-1)};re.useEffect(()=>{const e=e=>{"ArrowLeft"===e.key?d():"ArrowRight"===e.key&&c()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]),re.useEffect(()=>{const e=()=>{if(n.current){const e=n.current.scrollLeft,t=n.current.offsetWidth,r=Math.round(e/t);r!==s&&r>=0&&r<o.length&&a(r)}},t=n.current;return t?(t.addEventListener("scroll",e),()=>t.removeEventListener("scroll",e)):()=>{}},[s,o.length]);const u=()=>{};return e.jsxs("div",{className:"relative flex justify-center mt-4",style:{width:"100%"},children:[e.jsx("div",{className:"absolute rounded-full w-[210px] h-[210px] opacity-15 blur-md bg-black transform -translate-x-1 translate-y-2"}),e.jsxs("div",{className:"relative",style:{width:"200px",height:"200px"},children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-[#8B0000]/20 dark:bg-[#8B0000]/30 blur-xl transform scale-[1.2]",style:{animation:"pulse-slow 4s ease-in-out infinite"}}),e.jsx("div",{className:"h-48 w-48 relative border-2 border-[#8B0000]/30 dark:border-[#8B0000]/40 shadow-lg \n                      ring-1 ring-[#660000]/20 dark:ring-[#660000]/30 ring-offset-1 ring-offset-background \n                      rounded-full overflow-hidden\n                      p-1 bg-background/70 mx-auto transition-all duration-700 \n                      hover:shadow-[0_0_15px_rgba(139,0,0,0.4)] dark:hover:shadow-[0_0_20px_rgba(139,0,0,0.5)]",children:e.jsx("div",{ref:n,className:"w-full h-full rounded-full overflow-hidden flex scroll-smooth",style:{position:"relative",scrollSnapType:"x mandatory",scrollbarWidth:"none",msOverflowStyle:"none",overflowX:"auto",display:"flex"},onTouchStart:e=>{i.current=e.touches[0].clientX},onTouchEnd:e=>{if(null===i.current)return;const t=e.changedTouches[0].clientX,r=i.current-t;Math.abs(r)>50&&(r>0?c():d()),i.current=null},children:o.map((s,a)=>e.jsxs("div",{className:"min-w-full h-full rounded-full overflow-hidden flex-shrink-0 scroll-snap-align-start",style:{position:"relative"},children:[!t&&e.jsx("img",{src:s.blurSrc,alt:"Profile image placeholder loading",style:{position:"absolute",height:"145%",width:"auto",left:"45%",top:"20%",transform:"translate(-50%, -15%)",objectFit:"cover",objectPosition:"center 10%",transition:"opacity 0.5s ease-in-out"},className:"transition-opacity"}),e.jsx("img",{src:s.src,srcSet:s.srcset,alt:s.alt,fetchPriority:"high",loading:"eager",decoding:"async",style:{position:"absolute",height:"145%",width:"auto",left:"45%",top:"20%",transform:"translate(-50%, -15%)",objectFit:"cover",objectPosition:"center 10%",transition:"all 0.8s ease-in-out",opacity:t?1:0},className:"transition-all duration-1000 will-change-transform",onError:u,onLoad:()=>{r(!0)}})]},a))})})]})]})}function ek(){return re.useEffect(()=>{},[]),e.jsx(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"container max-w-4xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex flex-col items-center justify-center gap-6 mb-8",children:[e.jsx(ge.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{type:"spring",stiffness:100,damping:15},children:e.jsx(Xj,{})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("h1",{className:"text-4xl font-bold text-center",children:"About Me"}),e.jsx("p",{className:"text-muted-foreground italic mt-1 text-center",children:"Writer, Designer, and Developer"})]})]}),e.jsxs("div",{className:"prose dark:prose-invert max-w-none space-y-6",children:[e.jsx("p",{children:"Hi hi, My name is Vanessa. This website is my digital collection of short horror stories, designed to be consumed in one sitting. Fluent in English and Chinese."}),e.jsx("p",{children:"My writing explores the darkest corners of the human mind, delving into fears both common and uncommon. I believe that horror is a deeply personal experience, and what terrifies one person might not affect another at all. That's why I try to create a diverse range of horror stories, hoping that at least one of them will find that tender spot in your psyche that makes you leave the light on at night."}),e.jsx("p",{children:"I hope you enjoy your time here. Feel free to leave comments, share your thoughts, or reach out to me directly."}),e.jsx("p",{children:"If you have anything you need to ask or comment about please leave a comment or drop me an email through the contact page. I will try to reply ASAP. If you do not hear back from me within a week, please feel free to send another message."}),e.jsx("p",{children:"And remember, that creeping sensation on the back of your neck while reading my stories? It might not just be your imagination..."}),e.jsxs("p",{className:"italic text-center mt-8",children:['"No great mind has ever existed without a touch of madness."',e.jsx("br",{}),"- Aristotle"]}),e.jsxs("div",{className:"border-t border-t-primary/30 pt-6 mt-6",children:[e.jsx("p",{className:"font-bold text-center text-sm",children:"DISCLAIMER"}),e.jsx("p",{className:"text-sm",children:"ALL STORIES ON THIS SITE ARE ORIGINAL WORKS. ANY FORM OF PLAGIARISM OR UNAUTHORISED REPRODUCTION OF MY CONTENT WILL BE TAKEN SERIOUSLY AND MAY RESULT IN LEGAL ACTION. RETRANSLATING OF MY WORK INTO ANOTHER LANGUAGE FOR PROFIT IS NOT ALLOWED. IF YOU WOULD LIKE TO SHARE OR USE MY WORK, PLEASE CONTACT ME FIRST FOR PERMISSION."})]}),e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx(Qj,{links:{wordpress:"https://bubbleteameimei.wordpress.com",twitter:"https://x.com/Bubbleteameimei",instagram:"https://www.instagram.com/bubbleteameimei?igsh=dHRxNzM0YnpwanJw"},className:"text-2xl"})}),e.jsx("div",{className:"mt-12 flex flex-col items-center justify-center"})]})]})})}const tk=re.forwardRef(({className:t,checked:r,onCheckedChange:s,disabled:a,id:n="switch-"+Math.random().toString(36).substr(2,9),...i},o)=>e.jsxs("label",{htmlFor:n,className:qs("relative inline-block w-11 h-6 cursor-pointer",a&&"opacity-50 pointer-events-none",t),children:[e.jsx("input",{type:"checkbox",id:n,className:"peer sr-only",checked:r,onChange:e=>{s&&s(e.target.checked)},disabled:a,ref:o,...i}),e.jsx("span",{className:qs("absolute inset-0 bg-gray-200 rounded-full transition-colors duration-200 ease-in-out","peer-checked:bg-primary dark:bg-neutral-700 dark:peer-checked:bg-primary","peer-disabled:opacity-50 peer-disabled:pointer-events-none"),"data-state":r?"checked":"unchecked"}),e.jsx("span",{className:qs("absolute top-1/2 start-0.5 -translate-y-1/2 size-5 bg-white rounded-full shadow-xs","transition-transform duration-200 ease-in-out peer-checked:translate-x-full","dark:bg-neutral-400 dark:peer-checked:bg-white"),"data-state":r?"checked":"unchecked"})]}));tk.displayName="Switch";const rk=[{value:"General Inquiry",label:"General Inquiry"},{value:"Feedback",label:"Feedback"},{value:"Support Request",label:"Support Request"},{value:"Business Proposal",label:"Business Proposal"},{value:"Request Story",label:"Request Story"},{value:"Other",label:"Other"}],sk=Yf({name:gf().min(2,"Name must be at least 2 characters"),email:gf().email("Please enter a valid email address"),subject:gf().min(3,"Subject must be at least 3 characters"),customSubject:gf().optional(),message:gf().min(10,"Message must be at least 10 characters"),showEmail:Vf()});function ak(){const{toast:t}=Bs(),[r,s]=re.useState("idle"),[a,n]=re.useState(""),[i,o]=re.useState(!1),l=Ne({resolver:iy(sk),defaultValues:{name:"",email:"",subject:"General Inquiry",customSubject:"",message:"",showEmail:!1}}),c=l.watch("subject");re.useEffect(()=>{o("Other"===c)},[c]);return e.jsxs(ge.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-md mx-auto",children:["success"===r&&e.jsxs(od,{className:"mb-6 bg-green-950/30 border-green-800",children:[e.jsx(dr,{className:"h-4 w-4 text-green-500"}),e.jsx(ld,{className:"text-green-400",children:"Success!"}),e.jsx(cd,{className:"text-green-300",children:a})]}),"error"===r&&e.jsxs(od,{className:"mb-6 bg-red-950/30 border-red-800",variant:"destructive",children:[e.jsx(cr,{className:"h-4 w-4"}),e.jsx(ld,{children:"Something went wrong"}),e.jsx(cd,{children:a})]}),e.jsx(uy,{...l,children:e.jsxs("form",{onSubmit:l.handleSubmit(async r=>{try{s("idle");let e=r.subject;"Other"===r.subject&&r.customSubject&&(e=r.customSubject);const{showEmail:a,customSubject:i,...o}=r,c={...o,subject:e,metadata:{device:navigator.userAgent,referrer:document.referrer,screen:`${window.screen.width}x${window.screen.height}`,viewportSize:`${window.innerWidth}x${window.innerHeight}`,hideEmail:!a}};"success"===(await Fs("/api/contact",{method:"POST",body:JSON.stringify(c)})).emailStatus?(s("success"),n("Your message has been sent successfully!")):(s("success"),n("Your message was saved but there might be a delay in our response. We'll get back to you as soon as possible.")),t({title:"Message received",description:"Thank you for your message. We'll get back to you soon.",variant:"default"}),l.reset()}catch(vN){s("error"),n(vN.message||"There was a problem sending your message. Please try again.");const a=vN.data?.details||{};Object.entries(a).forEach(([e,t])=>{t&&["name","email","subject","customSubject","message","showEmail"].includes(e)&&l.setError(e,{type:"server",message:t})}),t({title:"Error sending message",description:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(cr,{className:"h-5 w-5 text-destructive shrink-0 mt-0.5"}),e.jsx("span",{children:vN.message||"Please try again later."})]}),variant:"destructive"})}}),className:"space-y-6",children:[e.jsx(my,{control:l.control,name:"name",render:({field:t})=>e.jsxs(gy,{children:[e.jsx(yy,{children:"Name"}),e.jsx(xy,{children:e.jsx(fd,{placeholder:"Your name",...t})}),e.jsx(by,{})]})}),e.jsx(my,{control:l.control,name:"email",render:({field:t})=>e.jsxs(gy,{children:[e.jsx(yy,{children:"Email"}),e.jsx(xy,{children:e.jsx(fd,{type:"email",placeholder:"your@email.com",...t})}),e.jsx(by,{})]})}),e.jsx(my,{control:l.control,name:"subject",render:({field:t})=>e.jsxs(gy,{children:[e.jsx(yy,{children:"Subject"}),e.jsx(xy,{children:e.jsxs(Ux,{onValueChange:t.onChange,defaultValue:t.value,children:[e.jsx(Hx,{children:e.jsx(Vx,{placeholder:"Select a subject"})}),e.jsx(Wx,{children:rk.map(t=>e.jsx(Zx,{value:t.value,children:t.label},t.value))})]})}),e.jsx(by,{})]})}),i&&e.jsx(my,{control:l.control,name:"customSubject",render:({field:t})=>e.jsxs(gy,{children:[e.jsx(yy,{children:"Custom Subject"}),e.jsx(xy,{children:e.jsx(fd,{placeholder:"Please specify your subject",...t})}),e.jsx(vy,{children:"Please enter a specific subject for your message"}),e.jsx(by,{})]})}),e.jsx(my,{control:l.control,name:"message",render:({field:t})=>e.jsxs(gy,{children:[e.jsx(yy,{children:"Message"}),e.jsx(xy,{children:e.jsx(wy,{placeholder:"Write your message here...",className:"min-h-[150px] resize-none",...t})}),e.jsx(by,{})]})}),e.jsx(my,{control:l.control,name:"showEmail",render:({field:t})=>e.jsxs(gy,{className:"flex flex-row items-center justify-between rounded-lg border border-indigo-500/60 p-4 transition-colors hover:border-indigo-400 hover:bg-slate-800/30 bg-slate-800/20",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx(yy,{className:"text-base",children:"Share Email"}),e.jsx(vy,{className:"text-sm text-muted-foreground",children:"Allow your email to be visible in the message"})]}),e.jsx(xy,{children:e.jsx(tk,{checked:t.value??!1,onCheckedChange:t.onChange})})]})}),e.jsx(nd,{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700",disabled:l.formState.isSubmitting,children:l.formState.isSubmitting?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white"}),"Sending..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(ls,{className:"h-4 w-4"}),"Send Message"]})})]})})]})}function nk(){const[t,r]=re.useState(""),[s,a]=re.useState(!1),[n,i]=re.useState(!1),[o,l]=re.useState(null),{toast:c}=Bs();return e.jsxs("div",{className:"w-full max-w-md mx-auto bg-white dark:bg-slate-900 rounded-lg p-6 shadow-sm border border-slate-200 dark:border-slate-800",children:[e.jsxs("div",{className:"mb-4 text-center",children:[e.jsx("h3",{className:"text-lg font-semibold mb-1",children:"Stay Updated"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Subscribe to receive the latest updates, stories, and events directly to your inbox."})]}),n?e.jsxs("div",{className:"flex items-center p-4 mb-4 text-sm rounded-lg bg-green-50 dark:bg-green-900/20 text-green-800 dark:text-green-300",children:[e.jsx(nr,{className:"w-5 h-5 mr-2 flex-shrink-0"}),e.jsx("span",{children:"Great! Please check your inbox for our welcome email."})]}):e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),t){a(!0),l(null),i(!1);try{const e=await fetch("/api/newsletter/subscribe",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})}),s=await e.json();e.ok?(i(!0),r(""),c({title:"Subscription successful!",description:"Check your inbox for a welcome email with our latest news.",variant:"default"})):(l(s.message||"Failed to subscribe. Please try again."),c({title:"Subscription failed",description:s.message||"There was a problem with your subscription. Please try again.",variant:"destructive"}))}catch(s){l("Network error. Please check your connection and try again."),c({title:"Connection error",description:"Couldn't connect to our servers. Please try again later.",variant:"destructive"})}finally{a(!1)}}else l("Please enter your email address")},className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(fd,{type:"email",id:"newsletter-email",value:t,onChange:e=>r(e.target.value),placeholder:"your.email@example.com",className:"w-full","aria-label":"Email for newsletter",disabled:s}),o&&e.jsxs("div",{className:"flex items-center mt-2 text-sm text-red-600 dark:text-red-400",children:[e.jsx(As,{className:"w-4 h-4 mr-1 flex-shrink-0"}),e.jsx("span",{children:o})]})]}),e.jsx(nd,{type:"submit",className:"w-full",disabled:s,children:s?e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"mr-2 h-4 w-4 animate-spin"}),"Subscribing..."]}):"Subscribe to Newsletter"})]})]})}function ik(){return e.jsx("div",{className:"relative min-h-screen",children:e.jsxs("div",{className:"container mx-auto px-4 py-12 space-y-16",children:[e.jsxs(Gx,{className:"max-w-2xl mx-auto backdrop-blur-sm bg-card/90",children:[e.jsx(Jx,{children:e.jsx(Yx,{className:"text-center",children:"Contact Me"})}),e.jsx(Xx,{children:e.jsx(ak,{})})]}),e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"Join Our Newsletter"}),e.jsx("div",{className:"w-full max-w-3xl mx-auto",children:e.jsx(nk,{})})]})]})})}function ok({password:t,className:r,onStrengthChange:s}){const[a,n]=re.useState("weak"),[i,o]=re.useState(0);if(re.useEffect(()=>{if(!t)return n("weak"),o(0),void s?.("weak");let e=0;const r={length:t.length>=8,complexity:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(t),special:/[^A-Za-z0-9]/.test(t),noCommon:!["password","123456","qwerty","letmein"].some(e=>t.toLowerCase().includes(e))};let a;e=Object.values(r).filter(Boolean).length,o(e),a=e<=1?"weak":2===e?"fair":3===e?"good":"strong",n(a),s?.(a)},[t,s]),!t)return null;const l={weak:{color:"bg-red-500",text:"Weak",textColor:"text-red-600",icon:ms,width:"25%"},fair:{color:"bg-orange-500",text:"Fair",textColor:"text-orange-600",icon:ps,width:"50%"},good:{color:"bg-blue-500",text:"Good",textColor:"text-blue-600",icon:ps,width:"75%"},strong:{color:"bg-green-500",text:"Strong",textColor:"text-green-600",icon:hs,width:"100%"}}[a],c=l.icon;return e.jsxs("div",{className:qs("space-y-2",r),children:[e.jsx("div",{className:"relative h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:qs("h-full transition-all duration-500 ease-out",l.color),style:{width:l.width}})}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(c,{className:qs("h-4 w-4",l.textColor)}),e.jsxs("span",{className:qs("text-sm font-medium",l.textColor),children:["Password strength: ",l.text]})]}),"weak"===a&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Try making it longer with a mix of letters, numbers, and symbols"}),"fair"===a&&e.jsx("p",{className:"text-xs text-muted-foreground",children:"Add some symbols or make it longer for better security"})]})}function lk(){const[t,r]=re.useState(!0),[s,a]=re.useState(""),[n,i]=re.useState(""),[o,l]=re.useState(""),[c,d]=re.useState(""),[u,h]=re.useState(!1),[m,p]=re.useState(!1),[f,g]=re.useState(!1),[y,x]=re.useState(!1),[v,b]=re.useState(!1),[,w]=se(),{registerMutation:j}=ba(),{toast:k}=Bs(),[N,S]=re.useState("weak"),[_,E]=re.useState(null),[C,I]=re.useState(!1);re.useEffect(()=>{E(o&&n?n===o:null)},[n,o]);return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 dark:from-slate-900 dark:via-blue-900 dark:to-indigo-900 p-4",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg",children:e.jsx(Zt,{className:"w-8 h-8 text-white"})})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-2 tracking-tight",children:"Bubble's Cafe"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-lg",children:t?"Welcome back to Bubble's Cafe":"Join the dark side at Bubble's Cafe"})]}),e.jsxs(Gx,{className:"shadow-2xl border-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-lg",children:[e.jsx(Jx,{className:"space-y-1 pb-6",children:e.jsxs("div",{className:"flex space-x-1 p-1 bg-gray-100 dark:bg-gray-800 rounded-lg",children:[e.jsx(nd,{variant:t?"default":"ghost",className:"flex-1 transition-all duration-200 "+(t?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white"),onClick:()=>r(!0),children:"Sign In"}),e.jsx(nd,{variant:t?"ghost":"default",className:"flex-1 transition-all duration-200 "+(t?"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md"),onClick:()=>r(!1),children:"Sign Up"})]})}),e.jsxs(Xx,{className:"space-y-6",children:[e.jsxs(nd,{variant:"outline",className:"w-full h-12 text-base font-medium border-2 hover:bg-gray-50 dark:hover:bg-gray-800 transition-all duration-200",onClick:async()=>{if(!v){b(!0);try{const e=await Oc();if(!e?.user)throw new Error("Google sign-in did not return user data");k({title:"Success",description:"Successfully signed in with Google!"}),w("/")}catch(vN){let t="Failed to sign in with Google. Please try again.";if(vN?.code)switch(vN.code){case"auth/popup-closed-by-user":t="Sign-in was cancelled.";break;case"auth/popup-blocked":t="Pop-up was blocked. Please allow pop-ups and try again.";break;case"auth/network-request-failed":t="Network error. Please check your connection.";break;case"auth/internal-error":t="Authentication service unavailable. Please try again later.";break;case"auth/invalid-api-key":case"auth/invalid-app-id":t="Configuration error. Please contact support.";break;default:t=`Authentication error: ${vN.code}`}k({title:"Google Sign-in Error",description:t,variant:"destructive"})}finally{b(!1)}}},disabled:v||y,children:[v?e.jsx($r,{className:"mr-3 h-5 w-5 animate-spin"}):e.jsx(Zj,{className:"mr-3 h-5 w-5 text-red-500"}),"Continue with Google"]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 flex items-center",children:e.jsx(bd,{className:"w-full"})}),e.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:e.jsx("span",{className:"bg-white dark:bg-gray-900 px-2 text-gray-500 dark:text-gray-400",children:"Or continue with email"})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!y&&!j.isPending){x(!0);try{if(t){if(!s||!n)throw new Error("Please enter both email and password");const e=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:s,password:n,rememberMe:f})}),t=await e.json();if(!e.ok)throw new Error(t.message||"Login failed");k({title:"Success",description:"Successfully signed in!"}),w("/")}else{if(!(s&&n&&c&&o))throw new Error("Please fill in all fields");if(n!==o)throw new Error("Passwords do not match");if("weak"===N)throw new Error("Please choose a stronger password");const e={email:s,password:n,username:c,rememberMe:f};await j.mutateAsync(e),k({title:"Success",description:"Account created successfully!"}),w("/")}}catch(r){const e=r instanceof Error?r.message:"An unknown error occurred";k({title:"Error",description:e,variant:"destructive"})}finally{x(!1)}}},className:"space-y-4",children:[!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(dy,{htmlFor:"username",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Username"}),e.jsxs("div",{className:"relative",children:[e.jsx(Is,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(fd,{id:"username",type:"text",value:c,onChange:e=>d(e.target.value),placeholder:"Choose a username",className:"pl-10 h-12 text-base",required:!t})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(dy,{htmlFor:"email",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(Hr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(fd,{id:"email",type:"email",value:s,onChange:e=>a(e.target.value),placeholder:"Enter your email",className:"pl-10 h-12 text-base",required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(dy,{htmlFor:"password",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(fd,{id:"password",type:u?"text":"password",value:n,onChange:e=>i(e.target.value),placeholder:t?"Enter your password":"Create a password",className:"pl-10 pr-10 h-12 text-base",required:!0}),e.jsx("button",{type:"button",onClick:()=>h(!u),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u?e.jsx(Er,{className:"h-4 w-4"}):e.jsx(Cr,{className:"h-4 w-4"})})]}),!t&&n&&e.jsx(ok,{password:n,onStrengthChange:e=>{S(e)}})]}),!t&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(dy,{htmlFor:"confirmPassword",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(Vr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx(fd,{id:"confirmPassword",type:m?"text":"password",value:o,onChange:e=>l(e.target.value),placeholder:"Confirm your password",className:"pl-10 pr-10 h-12 text-base "+(o&&null!==_?_?"border-green-500 focus:border-green-500":"border-red-500 focus:border-red-500":""),required:!0}),e.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m?e.jsx(Er,{className:"h-4 w-4"}):e.jsx(Cr,{className:"h-4 w-4"})})]}),o&&null!==_&&e.jsx("div",{className:"flex items-center text-xs",children:_?e.jsxs(e.Fragment,{children:[e.jsx(ur,{className:"h-3 w-3 text-green-500 mr-1"}),e.jsx("span",{className:"text-green-600 dark:text-green-400",children:"Passwords match"})]}):e.jsxs(e.Fragment,{children:[e.jsx(pr,{className:"h-3 w-3 text-red-500 mr-1"}),e.jsx("span",{className:"text-red-600 dark:text-red-400",children:"Passwords don't match"})]})})]}),t&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tk,{id:"remember-me",checked:f,onCheckedChange:g}),e.jsx(dy,{htmlFor:"remember-me",className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Remember me"})]}),e.jsx(nd,{variant:"link",className:"p-0 h-auto text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300",children:"Forgot password?"})]}),e.jsx(nd,{type:"submit",className:"w-full h-12 text-base font-medium bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg transition-all duration-200",disabled:y||j.isPending||v,children:y||j.isPending?e.jsxs(e.Fragment,{children:[e.jsx($r,{className:"mr-2 h-4 w-4 animate-spin"}),t?"Signing in...":"Creating account..."]}):t?"Sign In":"Create Account"})]})]})]}),e.jsx("div",{className:"text-center mt-6",children:e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["By continuing, you agree to our"," ",e.jsx(nd,{variant:"link",className:"p-0 h-auto text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Terms of Service"})," ","and"," ",e.jsx(nd,{variant:"link",className:"p-0 h-auto text-blue-600 hover:text-blue-500 dark:text-blue-400 text-sm",children:"Privacy Policy"})]})})]})})}const ck=ae.lazy(()=>Ie(()=>import("./profile-L9OlwyPt.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8]))),dk=ae.lazy(()=>Ie(()=>import("./bookmarks-BpntC1fI.js"),__vite__mapDeps([9,1,2,3,10,6,5,7,8]))),uk=ae.lazy(()=>Ie(()=>import("./SearchResults-Cqqjcgbn.js"),__vite__mapDeps([11,1,2,3,12,5,6,7,8]))),hk=ae.lazy(()=>Ie(()=>import("./notifications-BMdmcbRZ.js"),__vite__mapDeps([13,1,2,3,14,7,6,5,8]))),mk=ae.lazy(()=>Ie(()=>import("./recommendations-D6r6EL73.js"),__vite__mapDeps([15,1,2,3,5,6,7,8]))),pk=ae.lazy(()=>Ie(()=>import("./profile-mxKumMUx.js"),__vite__mapDeps([16,1,2,3,8,4,17,18,19,20,5,6,7]))),fk=ae.lazy(()=>Ie(()=>import("./connected-accounts-3mvmC21Q.js"),__vite__mapDeps([21,1,2,3,5,6,7,8]))),gk=ae.lazy(()=>Ie(()=>import("./fonts-DOSM0odZ.js"),__vite__mapDeps([22,1,2,3,23,18,19,5,6,7,8]))),yk=ae.lazy(()=>Ie(()=>import("./accessibility-CSXEZKZp.js"),__vite__mapDeps([24,1,2,3,18,19,25,23,26,5,6,7,8]))),xk=ae.lazy(()=>Ie(()=>import("./notifications-BpLSkq4L.js"),__vite__mapDeps([27,1,2,3,18,19,25,5,6,7,8]))),vk=ae.lazy(()=>Ie(()=>import("./privacy-D3sl46ew.js"),__vite__mapDeps([28,1,2,3,29,18,19,5,6,7,8]))),bk=ae.lazy(()=>Ie(()=>import("./cookie-management-COFNQm30.js"),__vite__mapDeps([30,1,2,3,31,32,19,33,5,6,7,8]))),wk=ae.lazy(()=>Ie(()=>import("./quick-settings-CV3SZrqh.js"),__vite__mapDeps([34,1,2,3,18,19,23,35,26,25,5,6,7,8]))),jk=ae.lazy(()=>Ie(()=>import("./preview-hhk3F58g.js"),__vite__mapDeps([36,1,2,3,18,19,25,35,37,5,6,7,8]))),kk=ae.lazy(()=>Ie(()=>import("./index-CqerNYp2.js"),__vite__mapDeps([38,1,2,3,39,5,6,7,8]))),Nk=ae.lazy(()=>Ie(()=>import("./analytics-CIdVGfeH.js"),__vite__mapDeps([40,1,2,3,41,42,6,5,43,44,7,8]))),Sk=ae.lazy(()=>Ie(()=>import("./analytics-dashboard-pe2IvzbZ.js"),__vite__mapDeps([45,1,2,3,46,39,6,5,7,8]))),_k=ae.lazy(()=>Ie(()=>import("./users-CpINL8IO.js"),__vite__mapDeps([47,1,2,3,31,48,5,6,7,8]))),Ek=ae.lazy(()=>Ie(()=>import("./settings-CZrBTqu_.js"),__vite__mapDeps([49,1,2,3,5,6,7,8]))),Ck=ae.lazy(()=>Ie(()=>import("./posts-BUj2ZDt9.js"),__vite__mapDeps([50,1,2,3,41,31,6,5,7,8]))),Ik=ae.lazy(()=>Ie(()=>import("./manage-posts-CpSVCOO_.js"),__vite__mapDeps([51,1,2,3,17,31,52,12,53,39,6,5,7,8]))),Tk=ae.lazy(()=>Ie(()=>import("./feedback-CHMiYaJi.js"),__vite__mapDeps([54,1,2,3,14,6,5,7,8]))),Rk=ae.lazy(()=>Ie(()=>import("./FeedbackAdmin-v4SfXuVn.js"),__vite__mapDeps([55,1,2,3,56,57,10,58,6,5,31,14,7,8]))),Ak=ae.lazy(()=>Ie(()=>import("./feedback-review-CojWPjfr.js"),__vite__mapDeps([59,1,2,3,56,57,10,58,6,5,60,12,32,7,8]))),Pk=ae.lazy(()=>Ie(()=>import("./bug-reports-Bv7ObcpW.js"),__vite__mapDeps([61,1,2,3,33,58,6,5,7,8]))),Ok=ae.lazy(()=>Ie(()=>import("./content-moderation-b7GB7Wx-.js"),__vite__mapDeps([62,1,2,3,42,6,5,43,12,44,53,7,8]))),Mk=ae.lazy(()=>Ie(()=>import("./content-D_3oWE7C.js").then(e=>e.c),__vite__mapDeps([63,1,2,3,31,8,17,33,64,6,5]))),Dk=ae.lazy(()=>Ie(()=>import("./dashboard-Ih8YXF-q.js"),__vite__mapDeps([65,1,2,3,42,6,5,43,60,29,66,44,7,8]))),Lk=ae.lazy(()=>Ie(()=>import("./site-statistics-YM5HemKe.js"),__vite__mapDeps([67,1,2,3,60,29,39,5,37,58,6,7,8]))),zk=ae.lazy(()=>Ie(()=>import("./WordPressSyncPage-RiYXeiBd.js"),__vite__mapDeps([68,1,2,3,57,44,5,6,7,8]))),Fk=ae.lazy(()=>Ie(()=>import("./content-management-CTlblcSX.js"),__vite__mapDeps([69,1,2,3,70,68,57,44,5,6,7,8,63,31,17,33,64]))),Uk=ae.lazy(()=>Ie(()=>import("./themes-DHFh-2SU.js"),__vite__mapDeps([71,1,2,3,31,46,57,70,52,72,43,5,6,7,8]))),$k=ae.lazy(()=>Ie(()=>import("./reset-password-CzV81Vw1.js"),__vite__mapDeps([73,1,2,3,5,6,7,8]))),Vk=ae.lazy(()=>Ie(()=>import("./auth-success-DRuZj5t7.js"),__vite__mapDeps([74,1,2,3]))),Hk=ae.lazy(()=>Ie(()=>import("./report-bug-DYMIAr0Y.js"),__vite__mapDeps([75,1,2,3,8,20,5,6,7]))),Bk=ae.lazy(()=>Ie(()=>import("./privacy-Y3R6qjKf.js"),__vite__mapDeps([76,1,2,3]))),qk=ae.lazy(()=>Ie(()=>import("./EdenHollow404-ANJhEBVo.js"),__vite__mapDeps([77,1,2,3,5,6,7,8]))),Wk=ae.lazy(()=>Ie(()=>import("./403-KZStRKa4.js"),__vite__mapDeps([78,1,2,3,79,80]))),Kk=ae.lazy(()=>Ie(()=>import("./404-DNxbVekr.js"),__vite__mapDeps([81,1,2,3,79,80]))),Zk=ae.lazy(()=>Ie(()=>import("./429-DFSWt1yW.js"),__vite__mapDeps([82,1,2,3,79,80]))),Gk=ae.lazy(()=>Ie(()=>import("./500-Dv0by_lF.js"),__vite__mapDeps([83,1,2,3,79,80]))),Jk=ae.lazy(()=>Ie(()=>import("./503-5aUnQaaa.js"),__vite__mapDeps([84,1,2,3,79,80]))),Yk=ae.lazy(()=>Ie(()=>import("./504-CLIISTwc.js"),__vite__mapDeps([85,1,2,3,79,80]))),Qk=ae.lazy(()=>Ie(()=>import("./copyright-BTcf-GBd.js"),__vite__mapDeps([86,1,2,3]))),Xk=ae.lazy(()=>Ie(()=>import("./terms-J_j4oQNh.js"),__vite__mapDeps([87,1,2,3]))),eN=ae.lazy(()=>Ie(()=>import("./cookie-policy-g1l-_Zrh.js"),__vite__mapDeps([88,1,2,3]))),tN=ae.lazy(()=>Ie(()=>import("./community-DOkEilz4.js"),__vite__mapDeps([89,1,2,3,4,48,64,72,6,5,12,14,7,8,90]))),rN=ae.lazy(()=>Ie(()=>import("./submit-story-CcpU-8VN.js"),__vite__mapDeps([91,1,2,3,92,8,5,6,7]))),sN=ae.lazy(()=>Ie(()=>import("./edit-story-jCJ283Us.js"),__vite__mapDeps([93,1,2,3,92,8,32,5,6,7]))),aN=ae.lazy(()=>Ie(()=>import("./feedback-DH4Z9xGZ.js"),__vite__mapDeps([94,1,2,3,31,6,5,7,8]))),nN=ae.lazy(()=>Ie(()=>import("./feedback-dashboard-DZUUXMjE.js"),__vite__mapDeps([95,1,2,3,66,12,5,6,7,8]))),iN=ae.lazy(()=>Ie(()=>import("./guidelines-B8jv24pW.js"),__vite__mapDeps([96,1,2,3,7]))),oN=()=>{const[t]=se(),r=t.toString(),{showLoading:s,hideLoading:a}=Os(),n=re.useRef(null),i=re.useRef(!1),o=r.includes("/errors/403")||r.includes("/errors/404")||r.includes("/errors/429")||r.includes("/errors/500")||r.includes("/errors/503")||r.includes("/errors/504");re.useEffect(()=>{if(!o)return n.current&&(clearTimeout(n.current),n.current=null),i.current&&(a(),i.current=!1),i.current=!0,s(),n.current=setTimeout(()=>{a(),i.current=!1,n.current=null},1e3),()=>{n.current&&(clearTimeout(n.current),n.current=null),a(),i.current=!1}},[r]);const l=re.useRef("");return re.useEffect(()=>{l.current&&l.current!==t&&s(),l.current=t},[t,s]),o?e.jsx(pd,{children:e.jsxs(le,{children:[e.jsx(ie,{path:"/errors/403",component:Wk}),e.jsx(ie,{path:"/errors/404",component:Kk}),e.jsx(ie,{path:"/errors/429",component:Zk}),e.jsx(ie,{path:"/errors/500",component:Gk}),e.jsx(ie,{path:"/errors/503",component:Jk}),e.jsx(ie,{path:"/errors/504",component:Yk})]})}):e.jsxs("div",{className:"relative min-h-screen flex flex-col w-full",children:[e.jsx("aside",{className:"hidden",children:e.jsxs("div",{className:"h-full w-full",children:[e.jsx("div",{className:"h-[56px] md:h-[64px] lg:h-[72px] px-4 md:px-6 flex items-center border-b border-border bg-background"}),e.jsx(Xu,{onNavigate:()=>{}})]})}),e.jsxs("main",{className:"min-h-screen flex-1 flex flex-col w-full min-w-full max-w-[100vw] "+("/"===t?"":"bg-background"),style:{width:"100%",minWidth:"100%",maxWidth:"100vw",overflow:"hidden"},children:[e.jsx(Lb,{}),e.jsxs("div",{className:`w-full min-w-full max-w-full ${t.startsWith("/reader")?"pt-4":"pt-20"} lg:pt-6 flex-1 ${"/"===t?"":"bg-background"} m-0 p-0 px-0 mx-0`,style:{width:"100%",minWidth:"100%",maxWidth:"100vw",margin:"0 auto"},children:[e.jsx(Wg,{}),e.jsx(pd,{children:e.jsxs(le,{children:[e.jsx(ie,{path:"/auth",component:lk}),e.jsx(ie,{path:"/auth/success",component:Vk}),e.jsx(ie,{path:"/signin",component:lk}),e.jsx(ie,{path:"/login",component:lk}),e.jsx(ie,{path:"/signup",component:lk}),e.jsx(ie,{path:"/reset-password",component:$k}),e.jsx(ie,{path:"/",component:dw}),e.jsx(ie,{path:"/stories",component:Nw}),e.jsx(ie,{path:"/themes",component:_w}),e.jsx(ie,{path:"/reader/:slug?",children:t=>e.jsx(Bj,{params:t})}),e.jsx(ie,{path:"/about",component:ek}),e.jsx(ie,{path:"/contact",component:ik}),e.jsx(ie,{path:"/report-bug",component:Hk}),e.jsx(ie,{path:"/privacy",component:Bk}),e.jsx(ie,{path:"/search",component:uk}),e.jsx(ie,{path:"/notifications",component:hk}),e.jsx(ie,{path:"/bookmarks",component:dk}),e.jsx(ku,{path:"/profile",component:ck}),e.jsx(ie,{path:"/recommendations",component:mk}),e.jsx(ie,{path:"/legal/copyright",component:Qk}),e.jsx(ie,{path:"/legal/terms",component:Xk}),e.jsx(ie,{path:"/legal/cookie-policy",component:eN}),e.jsx(ie,{path:"/community",component:tN}),e.jsx(ie,{path:"/submit-story",component:rN}),e.jsx(ie,{path:"/edit-story/:id",children:t=>e.jsx(sN,{params:t})}),e.jsx(ie,{path:"/community-story/:slug",children:t=>e.jsx(Bj,{params:t,isCommunityContent:!0})}),e.jsx(ie,{path:"/feedback",component:aN}),e.jsx(ku,{path:"/feedback/dashboard",component:nN}),e.jsx(ie,{path:"/support/guidelines",component:iN}),e.jsx(ku,{path:"/settings/profile",component:pk}),e.jsx(ku,{path:"/settings/connected-accounts",component:fk}),e.jsx(ie,{path:"/settings/fonts",component:gk}),e.jsx(ku,{path:"/settings/accessibility",component:yk}),e.jsx(ie,{path:"/settings/notifications",component:xk}),e.jsx(ku,{path:"/settings/privacy",component:vk}),e.jsx(ie,{path:"/settings/data-export",children:()=>{const[,e]=se();return ae.useEffect(()=>{ia.error("Data Export Feature Removed",{description:"The data export functionality has been removed. Please contact support if you need your data."}),e("/settings/privacy")},[e]),null}}),e.jsx(ie,{path:"/settings/cookie-management",component:bk}),e.jsx(ie,{path:"/settings/quick-settings",component:wk}),e.jsx(ie,{path:"/settings/preview",component:jk}),e.jsx(ku,{path:"/admin",component:kk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/analytics",component:Nk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/analytics-dashboard",component:Sk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/users",component:_k,requireAdmin:!0}),e.jsx(ku,{path:"/admin/settings",component:Ek,requireAdmin:!0}),e.jsx(ku,{path:"/admin/posts",component:Ck,requireAdmin:!0}),e.jsx(ku,{path:"/admin/manage-posts",component:Ik,requireAdmin:!0}),e.jsx(ku,{path:"/admin/feedback",component:Tk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/feedback-management",component:Rk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/feedback-review",component:Ak,requireAdmin:!0}),e.jsx(ku,{path:"/admin/bug-reports",component:Pk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/content-moderation",component:Ok,requireAdmin:!0}),e.jsx(ku,{path:"/admin/content",component:Mk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/dashboard",component:Dk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/site-statistics",component:Lk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/wordpress-sync",component:zk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/content-management",component:Fk,requireAdmin:!0}),e.jsx(ku,{path:"/admin/themes",component:Uk,requireAdmin:!0}),e.jsx(ie,{path:"/eden-hollow",component:qk}),e.jsx(ie,{children:e.jsx(qb,{children:e.jsx(Kk,{})})})]})})]}),e.jsx(ga,{})]})]})};function lN(){const[t]=se(),{isLoading:r}=function(){const[e]=se(),[t,r]=re.useState(!1),[s,a]=re.useState(e);return re.useEffect(()=>{if(e!==s){r(!0),a(e);const t=setTimeout(()=>{r(!1)},200),s=setTimeout(()=>{r(!1)},800);return()=>{clearTimeout(t),clearTimeout(s)}}},[e,s]),{isLoading:t,showLoading:re.useCallback(()=>{r(!0)},[]),hideLoading:re.useCallback(()=>{r(!1)},[]),currentLocation:e}}();re.useEffect(()=>{!function(){const e=md.getInstance();window.addEventListener("unhandledrejection",t=>{const r=t.reason instanceof Error?t.reason:new Error(String(t.reason));e.handleAsyncError(r,"unhandledrejection"),t.preventDefault()}),window.addEventListener("error",t=>{const r=t.error instanceof Error?t.error:new Error(t.message);e.handleAsyncError(r,"uncaught")}),window.addEventListener("error",t=>{if(t.target!==window){const r=t.target,s=new Error(`Failed to load resource: ${r.tagName}`);e.handleAsyncError(s,"resource")}},!0)}()},[]),re.useEffect(()=>{$g(),setInterval(()=>{$g()},Fg),"function"==typeof window.requestIdleCallback?window.requestIdleCallback(()=>{Mg()},{timeout:2e3}):setTimeout(()=>{Mg()},1e3)},[]);const s=()=>{const[t]=se();return"/"===t||"/index"===t||t.startsWith("/reader")||t.startsWith("/community-story")||"/community"===t?null:e.jsx(sv,{})};return e.jsx(hd,{level:"critical",children:e.jsx(Tt,{client:Us,children:e.jsx(wa,{children:e.jsx(Uc,{children:e.jsx(td,{children:e.jsx(xa,{children:e.jsx(uu,{children:e.jsx(Eb,{children:e.jsx(Ub,{children:e.jsx(Hb,{children:e.jsx(iv,{children:e.jsx(Bb,{children:e.jsx(Ms,{children:e.jsxs(Qb,{children:[e.jsx(Wb,{onRefresh:async()=>{await Us.invalidateQueries()},children:e.jsx("div",{className:"app-content",children:e.jsx(ae.Suspense,{fallback:e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"animate-pulse text-center",children:[e.jsx("div",{className:"h-10 w-40 bg-accent mx-auto rounded mb-4"}),e.jsx("div",{className:"h-4 w-60 bg-muted mx-auto rounded"})]})}),children:e.jsx(oN,{})})})}),e.jsx(sd,{}),"/"!==t&&e.jsx(Nu,{position:"bottom-right"}),e.jsx(s,{}),e.jsx(Ds,{isVisible:r}),e.jsx(Zs,{}),e.jsx(fa,{position:"bottom-left",className:"fixed-sonner"})]})})})})})})})})})})})})})})}let cN=!1,dN=null;function uN(){cN=!0,dN&&(dN.classList.add("fade-out"),setTimeout(()=>{dN?.classList.add("hidden"),setTimeout(()=>{dN?.remove(),dN=null},100)},500)),document.body.classList.add("content-visible"),document.body.classList.remove("content-hidden")}const hN="XSRF-TOKEN";let mN=null;function pN(){if(mN)return mN;try{const e=document.cookie.match(new RegExp("(^|;)\\s*"+hN+"\\s*=\\s*([^;]+)"));if(e&&e[2])return mN=decodeURIComponent(e[2]),mN;const t=document.cookie.split(";");for(const r of t){const e=r.trim().split("=");if(e.length>=2){const t=e[0],r=e.slice(1).join("=");if(t===hN)return mN=r?decodeURIComponent(r):null,mN}}return null}catch(vN){return null}}async function fN(){if(mN)return mN;try{const e=await fetch("/api/health",{method:"GET",credentials:"include",headers:{Accept:"application/json"}});if(!e.ok)return null;const t=await e.json();return t&&t.csrfToken?(mN=t.csrfToken,mN):pN()}catch(vN){return null}}function gN(e={}){let t=pN();if(!t)try{const e=document.cookie.match(/(^|;\s*)XSRF-TOKEN\s*=\s*([^;]+)/);e&&e[2]&&(t=decodeURIComponent(e[2]),mN=t)}catch(s){}if(!t)return{...e,credentials:"include"};const r=new Headers(e.headers||{});return r.set("X-CSRF-Token",t),{...e,headers:r,credentials:"include"}}localStorage?.getItem("debug");const yN={debug:()=>{},info:()=>{},warn:e=>{},error:(e,t)=>{}},xN=document.getElementById("root");if(!xN)throw yN.error("Root element not found"),new Error("Root element not found");document.querySelectorAll('link[rel="stylesheet"]').forEach(e=>{yN.debug("Found stylesheet:",{href:e.getAttribute("href")})}),function(){if(document.querySelector(".initial-loading-overlay"))return;dN=document.createElement("div"),dN.className="initial-loading-overlay";const e=document.createElement("div");e.className="loading-text",e.innerHTML="\n    <span>L</span>\n    <span>O</span>\n    <span>A</span>\n    <span>D</span>\n    <span>I</span>\n    <span>N</span>\n    <span>G</span>\n  ";const t=document.createElement("div");t.className="loading-spinner",dN.appendChild(t),dN.appendChild(e),document.fonts.ready.then(()=>{t.style.display="none"}).catch(()=>{setTimeout(()=>{t.style.display="none"},1e3)}),document.body.appendChild(dN)}(),function(){document.body.classList.add("content-hidden");const e=()=>{const e=Array.from(document.querySelectorAll('link[rel="stylesheet"]'));if(0===e.length)return void uN();e.filter(e=>{const t=e.sheet;return t&&!t.disabled}).length===e.length&&uN()};e(),setTimeout(()=>{cN||uN()},1500),Array.from(document.querySelectorAll('link[rel="stylesheet"]')).forEach(t=>{t.addEventListener("load",()=>{e()}),t.addEventListener("error",()=>{e()})}),"complete"===document.readyState||"interactive"===document.readyState?setTimeout(e,100):document.addEventListener("DOMContentLoaded",e),window.addEventListener("load",()=>{setTimeout(()=>{cN||uN()},200)})}(),async function(){}().then(()=>{}).catch(e=>{yN.warn("CSRF protection initialization failed, continuing without it:",e)});try{performance.mark("react-init-start")}catch(bN){}(()=>{try{performance.mark("react-render-start");Ee.createRoot(xN).render(e.jsx(ae.StrictMode,{children:e.jsx(lN,{})})),performance.mark("react-render-end"),performance.measure("React Render Time","react-render-start","react-render-end"),yN.info("React application mounted successfully");performance.getEntriesByType("measure").forEach(e=>{yN.debug(`Performance: ${e.name}: ${e.duration.toFixed(2)}ms`)})}catch(vN){yN.error("Error mounting React application:",vN)}})();export{iy as $,aw as A,nd as B,Gx as C,Su as D,ur as E,cs as F,Tr as G,Cb as H,fd as I,ar as J,js as K,$r as L,qr as M,Ib as N,Tb as O,Rb as P,Kt as Q,nr as R,yb as S,wy as T,Is as U,Id as V,Us as W,As as X,ky as Y,qs as Z,fr as _,Bs as a,nu as a$,us as a0,Ab as a1,uy as a2,my as a3,gy as a4,yy as a5,xy as a6,vy as a7,by as a8,Ej as a9,Vx as aA,Wx as aB,Zx as aC,Rw as aD,tk as aE,Jr as aF,Hr as aG,cr as aH,Ie as aI,rd as aJ,ss as aK,ps as aL,Ss as aM,hs as aN,Vr as aO,Lu as aP,Ku as aQ,Zu as aR,Gu as aS,ir as aT,zr as aU,od as aV,ld as aW,cd as aX,Yr as aY,vs as aZ,Gr as a_,Cj as aa,Rj as ab,Aj as ac,Oj as ad,Mj as ae,Pj as af,Lj as ag,Dj as ah,dr as ai,ia as aj,Yf as ak,gf as al,Vf as am,rg as an,Hw as ao,Zj as ap,Kj as aq,qj as ar,Wj as as,Oc as at,Dc as au,Tw as av,Pw as aw,_s as ax,Ux as ay,Hx as az,It as b,iu as b0,ou as b1,hr as b2,lu as b3,jy as b4,Zr as b5,Cr as b6,Jt as b7,va as b8,Ur as b9,Nr as bA,Mr as bB,ys as bC,vr as bD,xr as bE,rr as bF,jr as bG,Rr as bH,Pr as bI,Qt as bJ,gs as bK,of as bL,gg as bM,Lr as bN,ks as bO,rw as bP,Bt as bQ,$x as bR,Kx as bS,rv as bT,Ts as ba,rs as bb,pr as bc,Kg as bd,Yg as be,Qg as bf,ey as bg,ty as bh,Xg as bi,fN as bj,gN as bk,ws as bl,tr as bm,lr as bn,Ir as bo,xs as bp,Xt as bq,Tu as br,ls as bs,ry as bt,Dr as bu,Zg as bv,Ns as bw,sr as bx,es as by,Gf as bz,Mt as c,Dt as d,Jx as e,Yx as f,Qx as g,Xx as h,dy as i,Fs as j,Yt as k,gr as l,qg as m,ev as n,or as o,bd as p,$t as q,is as r,_u as s,Cu as t,ba as u,Ru as v,Au as w,Eu as x,Iu as y,Zt as z};
