import{j as s}from"./ui-XowJfzQ7.js";import{u as e,r as a}from"./router-ft_y90OU.js";import{H as t,B as l,C as i,e as r,f as n,J as m,K as d,N as x,O as c,P as o,m as h,h as p,Q as u,R as j,n as f}from"./index-CaZ-hcXF.js";import{C as N}from"./chevron-left-8pX1j5id.js";import{m as g}from"./animations-yM4Nun4l.js";import{a as y}from"./utils-SDRWPbZe.js";import"./vendor-BbHwBAXo.js";import"./charts-DEf8bB7g.js";import"./forms-BLyiBPJV.js";function v(){const[v,w]=e(),{notifications:b,unreadCount:k,markAsRead:C,markAllAsRead:M,clearNotifications:R,addNotification:z}=t(),[A,S]=a.useState("all"),V="all"===A?b:"unread"===A?b.filter(s=>!s.read):b.filter(s=>s.read);return s.jsx("div",{children:s.jsxs("div",{className:"container px-4 sm:px-6 max-w-3xl mx-auto py-4 sm:py-8",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[s.jsxs(l,{variant:"ghost",size:"sm",className:"self-start mr-2 h-8 px-2",onClick:()=>w("/"),children:[s.jsx(N,{className:"h-4 w-4 mr-1"}),"Back"]}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl sm:text-2xl font-bold",children:"Notifications"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Stay updated with your story notifications"})]})]}),s.jsxs(i,{className:"overflow-hidden",children:[s.jsxs(r,{className:"pb-2 sm:pb-3 px-4 sm:px-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-0",children:[s.jsx(n,{className:"text-lg",children:"Your Notifications"}),s.jsxs("div",{className:"flex gap-2 self-end sm:self-auto",children:[k>0&&s.jsxs(l,{variant:"outline",size:"sm",onClick:M,className:"h-8 text-xs",children:[s.jsx(m,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Mark all read"}),s.jsx("span",{className:"sm:hidden",children:"Read all"})]}),b.length>0&&s.jsxs(l,{variant:"outline",size:"sm",onClick:R,className:"h-8 text-xs text-destructive hover:text-destructive",children:[s.jsx(d,{className:"h-3.5 w-3.5 mr-1.5"}),s.jsx("span",{className:"hidden sm:inline",children:"Clear all"}),s.jsx("span",{className:"sm:hidden",children:"Clear"})]})]})]}),s.jsx(x,{defaultValue:"all",value:A,onValueChange:S,className:"w-full mt-3",children:s.jsxs(c,{className:"grid w-full grid-cols-3 mb-4",children:[s.jsxs(o,{value:"all",className:"text-xs px-1 sm:px-4",children:["All",b.length>0&&s.jsx(h,{variant:"secondary",className:"ml-1 sm:ml-2 h-5 px-1.5 text-[10px]",children:b.length})]}),s.jsxs(o,{value:"unread",className:"text-xs px-1 sm:px-4",children:["Unread",k>0&&s.jsx(h,{variant:"destructive",className:"ml-1 sm:ml-2 h-5 px-1.5 text-[10px]",children:k})]}),s.jsxs(o,{value:"read",className:"text-xs px-1 sm:px-4",children:["Read",b.length-k>0&&s.jsx(h,{variant:"outline",className:"ml-1 sm:ml-2 h-5 px-1.5 text-[10px]",children:b.length-k})]})]})})]}),s.jsx(p,{className:"px-3 sm:px-6 py-0",children:0===V.length?s.jsxs("div",{className:"py-8 sm:py-12 text-center",children:[s.jsx(u,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto mb-3 sm:mb-4 text-muted-foreground/20"}),s.jsx("p",{className:"text-muted-foreground",children:"all"===A?"No notifications yet":"unread"===A?"No unread notifications":"No read notifications"}),s.jsx("p",{className:"text-xs text-muted-foreground/70 mt-1",children:"all"===A&&"You'll be notified when new stories are published"})]}):s.jsx("div",{className:"divide-y",children:V.map(e=>s.jsx(g.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.2},className:"py-3 sm:py-4 cursor-pointer hover:bg-muted/40 transition-colors px-3 sm:px-4 -mx-3 sm:-mx-4 "+(e.read?"":"bg-primary/5"),onClick:()=>(s=>{C(s.id),s.link&&w(s.link)})(e),children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx("div",{className:"mt-0.5 p-1.5 rounded-full flex-shrink-0 "+("success"===e.type?"bg-green-100 text-green-700":"error"===e.type?"bg-red-100 text-red-700":"warning"===e.type?"bg-yellow-100 text-yellow-700":"new-story"===e.type?"bg-primary/10 text-primary":"bg-blue-100 text-blue-700"),children:"success"===e.type?s.jsx(j,{className:"h-4 w-4"}):s.jsx(u,{className:"h-4 w-4"})}),s.jsxs("div",{className:"flex-1 min-w-0 space-y-1",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start",children:[s.jsx("p",{className:"text-sm font-medium truncate mr-1 "+(e.read?"text-muted-foreground":"text-foreground"),children:e.title}),s.jsx("span",{className:"text-xs text-muted-foreground whitespace-nowrap sm:ml-2",children:y(e.date,"MMM d, h:mm a")})]}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 sm:line-clamp-none",children:e.message}),e.link&&s.jsx("div",{className:"mt-2",children:s.jsx(l,{variant:"link",size:"sm",className:"h-6 p-0 text-xs text-primary",children:e.link.includes("/reader")?"Read story":"View details"})})]})]})},e.id))})}),V.length>0&&s.jsxs(f,{className:"flex justify-between border-t pt-4 text-xs text-muted-foreground",children:[s.jsxs("p",{children:["Showing ",V.length," notification",1!==V.length?"s":""]}),s.jsxs("p",{children:["Last updated: ",y(new Date,"MMM d, yyyy")]})]})]})]})})}export{v as default};
