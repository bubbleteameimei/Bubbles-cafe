import{j as e}from"./ui-XowJfzQ7.js";import{r as s}from"./router-ft_y90OU.js";import{a as t,V as a,C as r,h as l,bq as i,aH as n,l as d,ai as c,bc as o,N as m,O as x,P as u,a1 as h,bm as p,B as j,aT as f,b9 as g,bd as b,be as N,bf as w,bg as v,bh as y,bi as S,bt as z,ay as T,az as A,aA as k,aB as P,aC as M,m as C,bo as F,b5 as I}from"./index-CaZ-hcXF.js";import{E as R}from"./external-link-Ca9vM-vs.js";import{S as W}from"./smartphone-BdcLUC2s.js";import{a as D}from"./utils-SDRWPbZe.js";import"./vendor-BbHwBAXo.js";import"./charts-DEf8bB7g.js";import"./animations-yM4Nun4l.js";import"./forms-BLyiBPJV.js";function O({status:s}){switch(s){case"new":return e.jsxs(C,{variant:"outline",className:"bg-blue-500/10 text-blue-500 border-blue-500/20 whitespace-nowrap",children:[e.jsx(d,{className:"mr-1 h-3 w-3"})," New"]});case"in-progress":return e.jsxs(C,{variant:"outline",className:"bg-yellow-500/10 text-yellow-500 border-yellow-500/20 whitespace-nowrap",children:[e.jsx(d,{className:"mr-1 h-3 w-3"})," In Progress"]});case"resolved":return e.jsxs(C,{variant:"outline",className:"bg-green-500/10 text-green-500 border-green-500/20 whitespace-nowrap",children:[e.jsx(c,{className:"mr-1 h-3 w-3"})," Resolved"]});case"wont-fix":return e.jsxs(C,{variant:"outline",className:"bg-gray-500/10 text-gray-500 border-gray-500/20 whitespace-nowrap",children:[e.jsx(o,{className:"mr-1 h-3 w-3"})," Won't Fix"]});case"duplicate":return e.jsxs(C,{variant:"outline",className:"bg-purple-500/10 text-purple-500 border-purple-500/20 whitespace-nowrap",children:[e.jsx(F,{className:"mr-1 h-3 w-3"})," Duplicate"]});default:return e.jsxs(C,{variant:"outline",className:"whitespace-nowrap",children:[e.jsx(n,{className:"mr-1 h-3 w-3"})," Unknown"]})}}function E({report:a,onStatusChange:r}){const[l,n]=s.useState(!1),[d,c]=s.useState(!1),[o,m]=s.useState(a.status);t();const x=s.useMemo(()=>{try{return D(new Date(a.createdAt),"MMM d, yyyy")}catch(e){return"Invalid date"}},[a.createdAt]),u=s.useMemo(()=>{try{return D(new Date(a.createdAt),"h:mm a")}catch(e){return""}},[a.createdAt]),h=s.useMemo(()=>a.description.length>120?`${a.description.substring(0,120)}...`:a.description,[a.description]);return e.jsxs("div",{className:"flex gap-x-3",children:[e.jsx("div",{className:"relative last:after:hidden after:absolute after:top-7 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700",children:e.jsx("div",{className:"relative z-10 size-7 flex justify-center items-center",children:e.jsx("div",{className:"size-5 rounded-full flex items-center justify-center "+("resolved"===o?"bg-green-100 text-green-600":"wont-fix"===o?"bg-gray-100 text-gray-600":"in-progress"===o?"bg-yellow-100 text-yellow-600":"bg-blue-100 text-blue-600"),children:e.jsx(i,{className:"h-4 w-4"})})})}),e.jsx("div",{className:"grow pt-0.5 pb-8",children:e.jsxs("div",{className:"bg-card border rounded-lg shadow-sm hover:shadow transition-shadow duration-200",children:[e.jsxs("div",{className:"p-4 cursor-pointer",onClick:()=>n(!l),children:[e.jsxs("div",{className:"flex justify-between items-start flex-wrap gap-2 mb-1.5",children:[e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("h3",{className:"font-semibold text-gray-800 dark:text-white text-base",children:["Bug #",a.id]}),e.jsx(O,{status:o})]}),e.jsxs(j,{variant:"ghost",size:"sm",className:"p-0 h-6 w-6",onClick:e=>{e.stopPropagation(),n(!l)},children:[e.jsx(f,{className:`h-4 w-4 ${l?"rotate-180":"rotate-0"} transition-transform`}),e.jsx("span",{className:"sr-only",children:"Toggle details"})]})]}),e.jsx("div",{className:"mb-2",children:e.jsx("p",{className:"text-sm text-gray-600 dark:text-neutral-400 whitespace-pre-line",children:l?a.description:h})}),e.jsxs("div",{className:"flex flex-wrap gap-x-4 gap-y-1 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(p,{className:"mr-1 h-3 w-3"}),e.jsx("span",{children:x}),e.jsx("span",{className:"ml-1 opacity-70",children:u})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"mr-1 h-3 w-3"}),e.jsx("span",{children:a.affectedPage})]}),a.metadata.deviceType&&e.jsxs("div",{className:"flex items-center",children:["mobile"===a.metadata.deviceType||"tablet"===a.metadata.deviceType?e.jsx(W,{className:"h-4 w-4"}):e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:"ml-1",children:a.metadata.deviceType})]})]})]}),l&&e.jsxs("div",{className:"px-4 pb-4 pt-1 border-t border-border mt-2",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Technical Details"}),e.jsxs("div",{className:"text-xs space-y-1 text-muted-foreground",children:[a.metadata?.browser&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Browser:"})," ",a.metadata.browser]}),a.metadata?.operatingSystem&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"OS:"})," ",a.metadata.operatingSystem]}),a.metadata?.screenResolution&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Resolution:"})," ",a.metadata.screenResolution]})]})]}),a.email&&e.jsxs("div",{children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Contact Information"}),e.jsx("div",{className:"text-xs space-y-1",children:e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",e.jsx("a",{href:`mailto:${a.email}`,className:"text-primary hover:underline",children:a.email})]})})]})]}),a.screenshot&&e.jsxs("div",{className:"mt-4 pt-4 border-t border-border",children:[e.jsx("h4",{className:"text-sm font-medium mb-2",children:"Screenshot"}),e.jsxs("div",{className:"relative w-full h-40 bg-muted/50 rounded overflow-hidden cursor-pointer",onClick:()=>c(!0),children:[e.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:`url(${a.screenshot})`}}),e.jsx("div",{className:"absolute inset-0 bg-black/5 flex items-center justify-center",children:e.jsxs(j,{variant:"secondary",size:"sm",children:[e.jsx(R,{className:"mr-2 h-4 w-4"}),"View Full Size"]})})]}),e.jsx(b,{open:d,onOpenChange:c,children:e.jsxs(N,{className:"max-w-4xl","aria-labelledby":"bug-screenshot-title","aria-describedby":"bug-screenshot-description",children:[e.jsxs(w,{children:[e.jsx(v,{id:"bug-screenshot-title",children:"Screenshot"}),e.jsxs(y,{id:"bug-screenshot-description",children:["Screenshot submitted with bug report #",a.id]})]}),e.jsx("div",{className:"w-full overflow-auto max-h-[70vh]",children:e.jsx("img",{src:a.screenshot,alt:`Screenshot for bug report #${a.id}`,className:"w-full h-auto object-contain"})}),e.jsx(S,{children:e.jsx(z,{asChild:!0,children:e.jsx(j,{children:"Close"})})})]})})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Status"}),e.jsxs(T,{value:o,onValueChange:e=>{m(e),r(a.id,e)},children:[e.jsx(A,{className:"w-[140px]",children:e.jsx(k,{placeholder:"Change status"})}),e.jsxs(P,{children:[e.jsx(M,{value:"new",children:"New"}),e.jsx(M,{value:"in-progress",children:"In Progress"}),e.jsx(M,{value:"resolved",children:"Resolved"}),e.jsx(M,{value:"wont-fix",children:"Won't Fix"}),e.jsx(M,{value:"duplicate",children:"Duplicate"})]})]})]})})]})]})})]})}const $=[{id:1,affectedPage:"/reader",description:"The audio player doesn't stop when navigating away from the page, which causes multiple audio tracks to play simultaneously if I go back.",status:"new",createdAt:"2025-03-13T15:30:00Z",metadata:{browser:"Chrome 120",operatingSystem:"Windows 11",screenResolution:"1920x1080",deviceType:"desktop",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}},{id:2,affectedPage:"/stories",description:"Infinite scroll doesn't work properly on mobile. The page stops loading new stories after about 3-4 scrolls.",status:"in-progress",email:"user@example.com",createdAt:"2025-03-12T10:15:00Z",metadata:{browser:"Safari",operatingSystem:"iOS 17",screenResolution:"390x844",deviceType:"mobile",userAgent:"Mozilla/5.0 (iPhone; CPU iPhone OS 17_0 like Mac OS X)"}},{id:3,affectedPage:"/settings",description:"Theme settings not saving. When I switch from dark to light mode and refresh the page, it reverts back to dark mode.",status:"resolved",createdAt:"2025-03-11T09:45:00Z",metadata:{browser:"Firefox 124",operatingSystem:"macOS",screenResolution:"2560x1600",deviceType:"desktop",userAgent:"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:124.0)"}},{id:4,affectedPage:"/login",description:"Login form doesn't validate email address properly. I can enter 'test' instead of a proper email and the form submits.",status:"duplicate",email:"tester@example.com",createdAt:"2025-03-11T14:22:00Z",metadata:{browser:"Edge",operatingSystem:"Windows 10",screenResolution:"1366x768",deviceType:"desktop",userAgent:"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}},{id:5,affectedPage:"/reader/horror-in-the-dark",description:"Images not loading on the story page. All I see are blank squares where images should be.",screenshot:"https://placehold.co/800x600/e63946/FFFFFF.png?text=Image+Error+Screenshot",status:"new",email:"reader@example.com",createdAt:"2025-03-10T16:50:00Z",metadata:{browser:"Chrome",operatingSystem:"Android 14",screenResolution:"412x915",deviceType:"mobile",userAgent:"Mozilla/5.0 (Linux; Android 14; Pixel 6)"}}];function B(){const[j,f]=s.useState("all"),{toast:g}=t(),[b,N]=s.useState({total:0,new:0,inProgress:0,resolved:0,wontFix:0,duplicate:0}),[w,v]=s.useState(!0);s.useEffect(()=>{const e=setTimeout(()=>{v(!1)},1e3);return()=>clearTimeout(e)},[]),s.useEffect(()=>{const e={total:$.length,new:0,inProgress:0,resolved:0,wontFix:0,duplicate:0};$.forEach(s=>{"new"===s.status?e.new++:"in-progress"===s.status?e.inProgress++:"resolved"===s.status?e.resolved++:"wont-fix"===s.status?e.wontFix++:"duplicate"===s.status&&e.duplicate++}),N(e)},[]);const y=(e,s)=>{g({title:"Status Updated",description:`Bug report #${e} status changed to ${s}`})},S=s.useMemo(()=>{const e=[...$].filter(e=>"all"===j||("in-progress"===j?"in-progress"===e.status:e.status===j));return e.sort((e,s)=>new Date(s.createdAt).getTime()-new Date(e.createdAt).getTime()),e},[j]),z=s.useMemo(()=>function(e){const s={};return e.forEach(e=>{try{const t=D(new Date(e.createdAt),"MMM d, yyyy");s[t]||(s[t]=[]),s[t].push(e)}catch(t){const a="Undated";s[a]||(s[a]=[]),s[a].push(e)}}),s}(S),[S]),T=()=>e.jsx(e.Fragment,{children:Array.from({length:3}).map((s,t)=>e.jsxs("div",{className:"flex gap-x-3",children:[e.jsx("div",{className:"relative last:after:hidden after:absolute after:top-7 after:bottom-0 after:start-3.5 after:w-px after:-translate-x-[0.5px] after:bg-gray-200 dark:after:bg-neutral-700",children:e.jsx("div",{className:"relative z-10 size-7 flex justify-center items-center",children:e.jsx(a,{className:"h-5 w-5 rounded-full"})})}),e.jsx("div",{className:"grow pt-0.5 pb-8 w-full",children:e.jsx(a,{className:"h-[160px] w-full rounded-lg"})})]},t))});return w?e.jsxs("div",{className:"container mx-auto py-6 px-4",children:[e.jsx(a,{className:"h-10 w-64 mb-6"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4 mb-6",children:Array.from({length:5}).map((s,t)=>e.jsx(a,{className:"h-24 rounded-lg"},t))}),e.jsx(a,{className:"h-12 w-full mb-6 rounded-lg"}),e.jsx(T,{})]}):e.jsxs("div",{className:"container mx-auto py-6 px-4",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Bug Report Management"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-5 gap-4 mb-8",children:[e.jsx(r,{className:"bg-card",children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Reports"}),e.jsx("h3",{className:"text-2xl font-bold",children:b.total})]}),e.jsx("div",{className:"size-10 rounded-full bg-primary/10 flex items-center justify-center",children:e.jsx(i,{className:"size-5 text-primary"})})]})})}),e.jsx(r,{className:"bg-card "+("new"===j?"border-blue-400":""),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"New"}),e.jsx("h3",{className:"text-2xl font-bold",children:b.new})]}),e.jsx("div",{className:"size-10 rounded-full bg-blue-500/10 flex items-center justify-center",children:e.jsx(n,{className:"size-5 text-blue-500"})})]})})}),e.jsx(r,{className:"bg-card "+("in-progress"===j?"border-yellow-400":""),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"In Progress"}),e.jsx("h3",{className:"text-2xl font-bold",children:b.inProgress})]}),e.jsx("div",{className:"size-10 rounded-full bg-yellow-500/10 flex items-center justify-center",children:e.jsx(d,{className:"size-5 text-yellow-500"})})]})})}),e.jsx(r,{className:"bg-card "+("resolved"===j?"border-green-400":""),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Resolved"}),e.jsx("h3",{className:"text-2xl font-bold",children:b.resolved})]}),e.jsx("div",{className:"size-10 rounded-full bg-green-500/10 flex items-center justify-center",children:e.jsx(c,{className:"size-5 text-green-500"})})]})})}),e.jsx(r,{className:"bg-card "+("wont-fix"===j||"duplicate"===j?"border-red-400":""),children:e.jsx(l,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Closed"}),e.jsx("h3",{className:"text-2xl font-bold",children:b.wontFix+b.duplicate})]}),e.jsx("div",{className:"size-10 rounded-full bg-red-500/10 flex items-center justify-center",children:e.jsx(o,{className:"size-5 text-red-500"})})]})})})]}),e.jsxs(m,{defaultValue:"all",value:j,onValueChange:e=>{f(e)},className:"mb-6",children:[e.jsx("div",{className:"overflow-x-auto pb-2",children:e.jsxs(x,{className:"inline-flex w-auto",children:[e.jsxs(u,{value:"all",children:["All",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.total})]}),e.jsxs(u,{value:"new",children:["New",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.new})]}),e.jsxs(u,{value:"in-progress",children:["In Progress",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.inProgress})]}),e.jsxs(u,{value:"resolved",children:["Resolved",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.resolved})]}),e.jsxs(u,{value:"wont-fix",children:["Won't Fix",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.wontFix})]}),e.jsxs(u,{value:"duplicate",children:["Duplicate",e.jsx("span",{className:"ml-1.5 size-5 inline-flex items-center justify-center rounded-full bg-muted text-xs",children:b.duplicate})]})]})}),e.jsx(h,{value:j,className:"mt-6",children:0===S.length?e.jsxs("div",{className:"text-center py-12 bg-muted/20 rounded-lg border border-border",children:[e.jsx(i,{className:"h-12 w-12 mx-auto text-muted-foreground mb-3 opacity-50"}),e.jsxs("p",{className:"text-muted-foreground",children:["No ","all"!==j?j:""," bug reports found"]})]}):e.jsx("div",{children:Object.entries(z).map(([s,t])=>e.jsxs("div",{children:[e.jsx("div",{className:"ps-2 my-4 first:mt-0",children:e.jsxs("h3",{className:"text-xs font-medium uppercase text-gray-500 dark:text-neutral-400 flex items-center",children:[e.jsx(p,{className:"mr-2 h-3 w-3"}),s]})}),t.map(s=>e.jsx(E,{report:s,onStatusChange:y},s.id))]},s))})})]})]})}export{B as default};
