import{j as e,d as r,e as t,P as n,l as o,u as a,n as s,a4 as c}from"./ui-XowJfzQ7.js";import{r as d}from"./router-ft_y90OU.js";import{Y as i,Z as u,R as l}from"./index-CaZ-hcXF.js";var f="Checkbox",[p,b]=r(f),[h,m]=p(f);function k(r){const{__scopeCheckbox:t,checked:n,children:a,defaultChecked:s,disabled:c,form:i,name:u,onCheckedChange:l,required:p,value:b="on",internal_do_not_use_render:m}=r,[k,C]=o({prop:n,defaultProp:s??!1,onChange:l,caller:f}),[x,v]=d.useState(null),[y,_]=d.useState(null),g=d.useRef(!1),j=!x||(!!i||!!x.closest("form")),N={checked:k,disabled:c,setChecked:C,control:x,setControl:v,name:u,form:i,value:b,hasConsumerStoppedPropagationRef:g,required:p,defaultChecked:!R(s)&&s,isFormControl:j,bubbleInput:y,setBubbleInput:_};return e.jsx(h,{scope:t,...N,children:w(m)?m(N):a})}var C="CheckboxTrigger",x=d.forwardRef(({__scopeCheckbox:r,onKeyDown:t,onClick:o,...c},i)=>{const{control:u,value:l,disabled:f,checked:p,required:b,setControl:h,setChecked:k,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:y}=m(C,r),_=a(i,h),g=d.useRef(p);return d.useEffect(()=>{const e=u?.form;if(e){const r=()=>k(g.current);return e.addEventListener("reset",r),()=>e.removeEventListener("reset",r)}},[u,k]),e.jsx(n.button,{type:"button",role:"checkbox","aria-checked":R(p)?"mixed":p,"aria-required":b,"data-state":N(p),"data-disabled":f?"":void 0,disabled:f,value:l,...c,ref:_,onKeyDown:s(t,e=>{"Enter"===e.key&&e.preventDefault()}),onClick:s(o,e=>{k(e=>!!R(e)||!e),y&&v&&(x.current=e.isPropagationStopped(),x.current||e.stopPropagation())})})});x.displayName=C;var v=d.forwardRef((r,t)=>{const{__scopeCheckbox:n,name:o,checked:a,defaultChecked:s,required:c,disabled:d,value:i,onCheckedChange:u,form:l,...f}=r;return e.jsx(k,{__scopeCheckbox:n,checked:a,defaultChecked:s,disabled:d,required:c,onCheckedChange:u,name:o,form:l,value:i,internal_do_not_use_render:({isFormControl:r})=>e.jsxs(e.Fragment,{children:[e.jsx(x,{...f,ref:t,__scopeCheckbox:n}),r&&e.jsx(j,{__scopeCheckbox:n})]})})});v.displayName=f;var y="CheckboxIndicator",_=d.forwardRef((r,o)=>{const{__scopeCheckbox:a,forceMount:s,...c}=r,d=m(y,a);return e.jsx(t,{present:s||R(d.checked)||!0===d.checked,children:e.jsx(n.span,{"data-state":N(d.checked),"data-disabled":d.disabled?"":void 0,...c,ref:o,style:{pointerEvents:"none",...r.style}})})});_.displayName=y;var g="CheckboxBubbleInput",j=d.forwardRef(({__scopeCheckbox:r,...t},o)=>{const{control:s,hasConsumerStoppedPropagationRef:u,checked:l,defaultChecked:f,required:p,disabled:b,name:h,value:k,form:C,bubbleInput:x,setBubbleInput:v}=m(g,r),y=a(o,v),_=i(l),j=c(s);d.useEffect(()=>{const e=x;if(!e)return;const r=window.HTMLInputElement.prototype,t=Object.getOwnPropertyDescriptor(r,"checked").set,n=!u.current;if(_!==l&&t){const r=new Event("click",{bubbles:n});e.indeterminate=R(l),t.call(e,!R(l)&&l),e.dispatchEvent(r)}},[x,_,l,u]);const w=d.useRef(!R(l)&&l);return e.jsx(n.input,{type:"checkbox","aria-hidden":!0,defaultChecked:f??w.current,required:p,disabled:b,name:h,value:k,form:C,...t,tabIndex:-1,ref:y,style:{...t.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});function w(e){return"function"==typeof e}function R(e){return"indeterminate"===e}function N(e){return R(e)?"indeterminate":e?"checked":"unchecked"}j.displayName=g;const E=d.forwardRef(({className:r,indeterminate:t=!1,...n},o)=>e.jsx(v,{ref:o,className:u("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",r),...n,children:e.jsx(_,{className:u("flex items-center justify-center text-current"),children:t?e.jsx("div",{className:"h-0.5 w-2.5 bg-current"}):e.jsx(l,{className:"h-4 w-4"})})}));E.displayName=v.displayName;export{E as C};
