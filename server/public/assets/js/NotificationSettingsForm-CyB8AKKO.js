import{j as e}from"./ui-XowJfzQ7.js";import{r as a}from"./router-ft_y90OU.js";import{b as s}from"./forms-BLyiBPJV.js";import{$ as t,ak as n,a as l,a2 as i,B as r,al as o,am as c,ay as d,az as m,aA as u,aB as b,bR as h,bS as g,aC as p,aE as x}from"./index-CaZ-hcXF.js";import"./vendor-BbHwBAXo.js";import"./charts-DEf8bB7g.js";import"./utils-SDRWPbZe.js";import"./animations-yM4Nun4l.js";const f=a.memo(({checked:a,onChange:s,disabled:t=!1})=>e.jsx(x,{checked:a,onCheckedChange:s,disabled:t,"aria-readonly":t}));f.displayName="ToggleSwitch";const v=a.memo(({label:a,description:s,checked:t,onChange:n,disabled:l=!1})=>e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-base font-medium",children:a}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),e.jsx(f,{checked:t,onChange:n,disabled:l})]}));v.displayName="NotificationToggleItem";const j=a.memo(({label:a,description:s,value:t,onChange:n,options:l})=>e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-base font-medium",children:a}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s})]}),e.jsxs(d,{defaultValue:t,onValueChange:n,children:[e.jsx(m,{className:"w-[280px]",children:e.jsx(u,{placeholder:`Select ${a.toLowerCase()}`})}),e.jsx(b,{children:Object.entries(l).map(([a,s])=>e.jsxs(h,{children:[e.jsx(g,{children:s.label}),s.items.map(a=>e.jsx(p,{value:a.value,children:a.label},a.value))]},a))})]})]}));j.displayName="TimePreferenceSelect";const y={morning:{label:"Morning Hours",items:[{value:"early-morning",label:"Early Morning (4 AM - 7 AM)"},{value:"morning",label:"Morning (7 AM - 10 AM)"},{value:"late-morning",label:"Late Morning (10 AM - 12 PM)"}]},afternoon:{label:"Afternoon Hours",items:[{value:"early-afternoon",label:"Early Afternoon (12 PM - 2 PM)"},{value:"afternoon",label:"Afternoon (2 PM - 4 PM)"},{value:"late-afternoon",label:"Late Afternoon (4 PM - 6 PM)"}]},evening:{label:"Evening Hours",items:[{value:"early-evening",label:"Early Evening (6 PM - 8 PM)"},{value:"evening",label:"Evening (8 PM - 10 PM)"},{value:"late-evening",label:"Late Evening (10 PM - 12 AM)"}]},night:{label:"Night Hours",items:[{value:"early-night",label:"Early Night (12 AM - 2 AM)"},{value:"night",label:"Night (2 AM - 4 AM)"}]}},N={northAmerica:{label:"North America",items:[{value:"est",label:"Eastern Standard Time (EST)"},{value:"cst",label:"Central Standard Time (CST)"},{value:"mst",label:"Mountain Standard Time (MST)"},{value:"pst",label:"Pacific Standard Time (PST)"},{value:"akst",label:"Alaska Standard Time (AKST)"},{value:"hst",label:"Hawaii Standard Time (HST)"}]},europeAfrica:{label:"Europe & Africa",items:[{value:"gmt",label:"Greenwich Mean Time (GMT)"},{value:"cet",label:"Central European Time (CET)"},{value:"eet",label:"Eastern European Time (EET)"}]},asiaPacific:{label:"Asia & Pacific",items:[{value:"jst",label:"Japan Standard Time (JST)"},{value:"aest",label:"Australian Eastern Time (AEST)"},{value:"nzst",label:"New Zealand Time (NZST)"}]}},C=a.memo(({enabled:a,onToggle:s})=>e.jsxs("div",{className:"flex flex-row items-center justify-between rounded-lg border p-4 border-amber-200 bg-amber-50 dark:bg-amber-950/30 dark:border-amber-900/50",children:[e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-base font-medium",children:"Silent Ping"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Occasionally receive subtle ambient notifications to enhance the immersive horror atmosphere."}),e.jsx("p",{className:"text-xs text-amber-700 dark:text-amber-400 mt-1",children:"This experimental feature creates random, non-disruptive notifications that lead nowhere, enhancing the subtle unease of your reading experience."})]}),e.jsx(x,{checked:a,onCheckedChange:s,className:"data-[state=checked]:bg-amber-700 dark:data-[state=checked]:bg-amber-800"})]}));C.displayName="SilentPingToggle";const T=n({story_updates:c(),community_activity:c(),security_alerts:c(),reading_reminders:c(),recommendations:c(),preferred_time:o(),timezone:o()}),k={story_updates:!0,community_activity:!0,security_alerts:!0,reading_reminders:!1,recommendations:!0,preferred_time:"morning",timezone:"UTC"};function S(){const n=s({resolver:t(T),defaultValues:k}),{isEnabled:o,toggleEnabled:c}=function(e=!1){const[s,t]=a.useState(e);return{isEnabled:s,toggleEnabled:a.useCallback(()=>{t(e=>!e)},[])}}(),{toast:d}=l(),m=a.useCallback(a=>{d({title:"Notification preferences updated",description:e.jsx("pre",{className:"mt-2 w-[340px] rounded-md bg-slate-950 p-4",children:e.jsx("code",{className:"text-white",children:JSON.stringify(a,null,2)})})})},[d]),{story_updates:u,community_activity:b,security_alerts:h,reading_reminders:g,recommendations:p,preferred_time:x,timezone:f}=n.watch(),S=a.useCallback(e=>{n.setValue("story_updates",e)},[n]),M=a.useCallback(e=>{n.setValue("community_activity",e)},[n]),A=a.useCallback(e=>{n.setValue("security_alerts",e)},[n]),E=a.useCallback(e=>{n.setValue("reading_reminders",e)},[n]),P=a.useCallback(e=>{n.setValue("recommendations",e)},[n]),w=a.useCallback(e=>{n.setValue("preferred_time",e)},[n]),_=a.useCallback(e=>{n.setValue("timezone",e)},[n]);return e.jsx(i,{...n,children:e.jsxs("form",{onSubmit:n.handleSubmit(m),className:"w-full space-y-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-lg font-medium",children:"Notification Preferences"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Story Updates",description:"Receive notifications about new chapters and story updates.",checked:u,onChange:S}),e.jsx(v,{label:"Community Activity",description:"Get notified about comments and reactions on your stories.",checked:b,onChange:M}),e.jsx(v,{label:"Security Alerts",description:"Important alerts about your account security.",checked:h,onChange:A,disabled:!0}),e.jsx(v,{label:"Reading Reminders",description:"Get reminders to continue reading your saved stories.",checked:g,onChange:E}),e.jsx(v,{label:"Story Recommendations",description:"Receive personalized horror story recommendations.",checked:p,onChange:P}),e.jsx(j,{label:"Preferred Time",description:"Choose when you'd like to receive notifications.",value:x||"evening",onChange:w,options:y}),e.jsx(j,{label:"Time Zone",description:"Select your preferred time zone for notifications.",value:f||"pst",onChange:_,options:N}),e.jsx("div",{className:"pt-6 pb-2",children:e.jsx("h3",{className:"text-lg font-medium",children:"Experimental Features"})}),e.jsx(C,{enabled:o,onToggle:c})]})]}),e.jsx(r,{type:"submit",className:"w-full sm:w-auto",children:"Save Preferences"})]})})}export{S as NotificationSettingsForm};
